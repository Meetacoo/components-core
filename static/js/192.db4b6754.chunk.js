"use strict";(self.webpackChunk_kne_components_components_core=self.webpackChunk_kne_components_components_core||[]).push([[192],{58407:(e,t,n)=>{n.r(t),n.d(t,{ConfirmLink:()=>_,default:()=>x,withConfirm:()=>g});n(73884);var a=n(55199);const s=e=>({"en-US":()=>n.e(3275).then(n.bind(n,63275)),"zh-CN":()=>n.e(5181).then(n.bind(n,25181))}[e]());var r=n(64671),l=n(58609),o=n(3382),i=n(83136),c=n.n(i);const d="style_overlay__99t5t__hcBlJ",u="style_is-danger__gxyAB__hcBlJ",p="style_title__EEPu2__hcBlJ",m="style_content__mZZg5__hcBlJ",h="style_has-title__5+PEt__hcBlJ";var f=n(70579);const g=e=>{const t=(0,l.createWithIntl)({moduleName:"ConfirmButton",importMessages:s})((t=>{let{title:n,message:s,isDelete:i=!0,onClick:g,onCancel:_,disabled:x,showCancel:y,cancelText:v,isModal:j,okText:b,placement:N,getContainer:A,...w}=t;const{formatMessage:C}=(0,l.useIntl)({moduleName:"ConfirmButton"}),S=(0,o.useModal)();return j?(0,f.jsx)(e,{...w,onClick:e=>{const t={children:v||C({id:"cancel"}),onClick:_},l={type:"primary",children:b||C(i?{id:"delete"}:{id:"confirm"}),onClick:()=>g(e),danger:i};S({title:n&&(0,f.jsxs)(a.Space,{size:0,className:p,children:[(0,f.jsx)(r.default,{className:"title-icon",type:"icon-tishi-tianchong"}),n]}),getContainer:A,wrapClassName:c()(d,{[u]:i}),children:(0,f.jsxs)(a.Space,{size:0,className:c()(m,{[h]:n}),children:[!n&&(0,f.jsx)(r.default,{className:"title-icon",type:"icon-tishi-tianchong"}),s||C({id:"message"})]}),footerButtons:y?[t,l]:[l]})}}):(0,f.jsx)(a.Popconfirm,{title:(0,f.jsxs)(a.Space,{direction:"vertical",onClick:e=>{e.stopPropagation()},children:[n&&(0,f.jsxs)(a.Space,{size:0,align:"start",className:p,children:[(0,f.jsx)(r.default,{className:"title-icon",type:"icon-tishi-tianchong"}),n]}),(0,f.jsxs)(a.Space,{size:0,align:"start",className:c()(m,{[h]:n}),children:[!n&&(0,f.jsx)(r.default,{className:"title-icon",type:"icon-tishi-tianchong"}),s||C({id:"message"})]})]}),placement:N,onConfirm:g,okButtonProps:{danger:i},onCancel:_,overlayClassName:c()(d,{[u]:i}),getPopupContainer:A,disabled:x,showCancel:y,cancelText:v,okText:b||C(i?{id:"delete"}:{id:"confirm"}),children:(0,f.jsx)(e,{...w,disabled:x})})}));return t.defaultProps={isModal:!1},t},_=g(a.Typography.Link),x=g(a.Button)},48731:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var a=n(73884),s=n(87558),r=n(76329),l=n(15797),o=n.n(l),i=n(79686),c=n.n(i),d=n(70579);const u=[["gender",()=>[{value:"M",description:"\u7537"},{value:"F",description:"\u5973"}]],["marital",()=>[{description:"\u5df2\u5a5a",value:"Y"},{description:"\u672a\u5a5a",value:"N"}]],["confirm",()=>[{description:"\u662f",value:"Y"},{description:"\u5426",value:"N"}]],["political",()=>[{description:"\u4e2d\u5171\u515a\u5458",value:"\u4e2d\u5171\u515a\u5458"},{description:"\u5171\u9752\u56e2\u5458",value:"\u5171\u9752\u56e2\u5458"},{description:"\u7fa4\u4f17",value:"\u7fa4\u4f17"},{description:"\u5176\u4ed6\u515a\u6d3e",value:"\u5176\u4ed6\u515a\u6d3e"}]],["phoneStateEnum",()=>[{value:0,description:"\u7a7a\u53f7"},{value:1,description:"\u5b9e\u53f7"},{value:2,description:"\u505c\u673a"},{value:3,description:"\u5e93\u65e0"},{value:4,description:"\u6c89\u9ed8\u53f7"},{value:5,description:"\u98ce\u9669\u53f7"}]],["degreeEnum",()=>[{description:"\u521d\u4e2d",value:10},{description:"\u4e2d\u4e13",value:20},{description:"\u9ad8\u4e2d",value:30},{description:"\u5927\u4e13",value:40},{description:"\u672c\u79d1",value:50},{description:"\u7855\u58eb\u7814\u7a76\u751f",value:60},{description:"\u535a\u58eb\u7814\u7a76\u751f",value:70},{description:"\u535a\u58eb\u540e",value:75},{description:"\u5b66\u5386\u4e0d\u9650",value:999}]]],p=(0,s.withFetch)((e=>{let{data:t,children:n}=e;return"function"===typeof n?n(t):n||(null===t||void 0===t?void 0:t.description)})),m=o()((e=>new Map(u.concat(Object.keys(Object.assign({},e)).map((t=>[t,e[t]])))))),h=e=>{let{loader:t,...n}=e;const{global:{enumsRef:s}}=(0,r.useGlobalContext)(),l=(0,a.useRef)(null);return(0,d.jsx)(p,{...n,loader:async function(){const e=m(await t(...arguments)),{params:n}=arguments.length<=0?void 0:arguments[0],{moduleName:a,name:r,force:o,locale:i}=n,d=async t=>!0!==o&&l.current===i&&s.current.get(t)||await(async()=>{const n=e.get(t),a=await(async()=>"function"===typeof n?new Map((await n({locale:i})).map((e=>[e.value.toString(),e]))):Array.isArray(n)?new Map(n.map((e=>[e.value.toString(),e]))):"object"===typeof n?new Map(Object.keys(n).map((e=>[e.toString(),n[e]]))):(console.warn("\u679a\u4e3e\u503cloader\u7684\u8bbe\u7f6e\u53ef\u80fd\u4e0d\u6b63\u786e"),new Map))();return s.current.set(t,a),l.current=i,a})();if(Array.isArray(a))return await Promise.all(a.map((e=>d(e).then((e=>Array.from(e.values()))))));const u=await d(a);return c()(r)?Array.from(u.values()):u.get(r.toString())}})},f=e=>{let{moduleName:t,name:n,force:a,children:s,...l}=e;const o=(0,r.usePreset)();return(0,d.jsx)(h,{...l,params:{moduleName:t,locale:null===o||void 0===o?void 0:o.locale,enums:null===o||void 0===o?void 0:o.enums,name:n,force:a},loader:e=>{let{params:t}=e;return t.enums},children:s})};f.defaultProps={force:!1};const g=f},67390:(e,t,n)=>{n.r(t),n.d(t,{Download:()=>x,FileLink:()=>Q,List:()=>H,OptionButtons:()=>T,default:()=>q,downloadBlobFile:()=>f,useFileModal:()=>O});var a=n(33097),s=n.n(a),r=n(89946),l=n.n(r),o=n(55199),i=n(76329),c=n(64671),d=n(87558),u=n(73884),p=n(96418),m=n.n(p),h=n(70579);const f=async(e,t)=>{const n=e=>{const n=document.createElement("a"),a=new MouseEvent("click");n.download=t,n.href=e,n.dispatchEvent(a)};if(!e)throw new Error("\u672a\u83b7\u53d6\u5230\u4e0b\u8f7d\u7684\u6587\u4ef6\u4fe1\u606f");if("string"===typeof e&&/blob:http(s)?:/.test(e))return void n(e);if("[object Blob]"===Object.prototype.toString.call(e)){const t=new Blob([e],{type:s()(e,"type")});return void n(URL.createObjectURL(t))}const{data:a}=await l()({url:e,responseType:"blob"});n(URL.createObjectURL(new Blob([a],{type:s()(a,"type")})))},g=e=>{let{id:t,filename:n,apis:a,onError:s,onSuccess:r}=e;const{message:l}=o.App.useApp(),{apis:c}=(0,i.usePreset)(),p=Object.assign({},c,a),[h,g]=(0,u.useState)(!1),{isLoading:_,data:x,error:y,refresh:v,...j}=(0,d.useFetch)(Object.assign({},p.oss,{auto:!1})),b=m()(s||l.error),N=m()(r);return(0,u.useEffect)((()=>{_||(y?b(y):x&&(g(!0),f(x,n).then(N).catch((e=>{b(e.message)})).then((()=>{g(!1)}))))}),[_,y,x,n,b,N]),{...j,isLoading:_||h,download:()=>v(t&&{params:{id:t}})}},_=e=>{let{id:t,filename:n,api:a,onSuccess:s,onError:r,onClick:l,...i}=e;const{isLoading:d,download:u}=g({id:t,filename:n,api:a,onError:r,onSuccess:s});return(0,h.jsx)(o.Button,{icon:(0,h.jsx)(c.default,{type:"icon-xiazai"}),...i,loading:d,onClick:function(){l&&l(...arguments),u()}})};_.defaultProps={filename:"\u672a\u547d\u540d\u4e0b\u8f7d\u6587\u4ef6"},_.useDownload=g,_.downloadBlobFile=f;const x=_;var y=n(75087),v=n.n(y),j=n(58407),b=n(96252),N=n(58609),A=n(74065),w=n.n(A),C=n(26304),S=n.n(C),P=n(3382),F=n(10419);const B="style_file-modal-outer__1guNh__hcBlJ",I="style_file-title__8bnUq__hcBlJ",k="style_ellipse__kDaLC__hcBlJ",O=()=>{const e=(0,P.useModal)(),{message:t}=o.App.useApp();return(0,u.useCallback)((n=>{let{title:a,id:s,originName:r,apis:l,openDownload:i=!0,...c}=n;return e(Object.assign({footer:null},c,{title:(0,h.jsxs)(o.Space,{size:10,className:I,children:[(0,h.jsx)("span",{className:k,children:a||r}),i&&(0,h.jsx)(x,{className:"btn-no-padding",type:"link",id:s,apis:l,filename:r,onSuccess:()=>{t.success("\u4e0b\u8f7d\u6210\u529f")}})]}),children:(0,h.jsx)("div",{className:B,children:(0,h.jsx)(F.default,{id:s,originName:r,apis:l})})}))}),[e,t])},E=e=>{let{item:t,hasPreview:n,getPermission:a,apis:s}=e;const{filename:r,id:l}=t,{formatMessage:i}=(0,N.useIntl)({moduleName:"File"}),d=(0,b.useFormModal)(),u=O();return(0,h.jsxs)(o.Space,{size:0,children:[n&&a("preview",t)&&(0,h.jsx)(o.Button,{type:"text",icon:(0,h.jsx)(c.default,{type:"icon-yulan"}),onClick:()=>{s.onPreview?s.onPreview(t):u({id:l,originName:r,apis:s})}}),a("edit",t)&&(0,h.jsx)(o.Button,{type:"text",icon:(0,h.jsx)(c.default,{type:"icon-bianji"}),onClick:()=>{const e=d({size:"small",title:i({id:"editDocumentName"}),formProps:{data:{name:S()(t.filename.split(".")).join(".")},onSubmit:async n=>{!1!==(s.onEdit&&await s.onEdit({formData:Object.assign({},n,{name:"".concat(n.name,".").concat(w()(t.filename.split(".")))}),item:t}))&&e.close()}},children:(0,h.jsx)(b.default,{column:1,list:[(0,h.jsx)(b.Input,{name:"name",label:i({id:"documentName"}),rule:"REQ LEN-0-100"})]})})}}),a("download",t)&&(0,h.jsx)(x,{type:"text",id:l,filename:r}),a("delete",t)&&(0,h.jsx)(j.default,{type:"text",icon:(0,h.jsx)(c.default,{type:"icon-shanchu"}),onClick:()=>s.onDelete&&s.onDelete(t)})]})};E.defaultProps={hasPreview:!0,apis:{},getPermission:(e,t)=>!0};const T=E;var M=n(57469),R=n.n(M);const L="style_list-item-outer__0jlCN__hcBlJ",J="style_list-item__nmPCB__hcBlJ",D="style_split__kgSlH__hcBlJ",z="style_loading__kQUX5__hcBlJ",U="style_list-options__aEila__hcBlJ",W=e=>({"en-US":()=>n.e(5645).then(n.bind(n,75645)),"zh-CN":()=>n.e(6707).then(n.bind(n,26707))}[e]()),V=e=>{let{className:t,dataSource:n,getPermission:a,infoItemRenders:s,apis:r}=e;return(0,h.jsx)(N.IntlProvider,{importMessages:W,moduleName:"File",children:(0,h.jsx)(o.List,{className:t,dataSource:n.map(((e,t)=>(e.index=t,e))),rowKey:e=>"item_".concat(e.uuid&&"uuid_".concat(e.uuid)||e.id&&"id_".concat(e.id)),renderItem:e=>{const{type:t,filename:n}=e;return(0,h.jsx)(o.List.Item,{className:L,children:(0,h.jsxs)(o.Row,{justify:"space-between",wrap:!1,className:J,children:[(0,h.jsxs)(o.Col,{flex:1,children:[(0,h.jsx)("div",{className:D}),(0,h.jsxs)(o.Space,{className:"is-block",align:"start",size:4,children:[(0,h.jsx)(v(),{type:w()(null===n||void 0===n?void 0:n.split(".")),size:14}),n]})]}),s&&s.map(((n,a)=>(0,h.jsxs)(o.Col,{span:n.span||4,children:["uploading"!==t&&("function"===typeof n?n:n.render)(e),(0,h.jsx)("div",{className:D})]},a))),(0,h.jsx)(o.Col,{className:U,children:"uploading"!==t?(0,h.jsx)(T,{getPermission:a,item:e,apis:r}):(0,h.jsxs)(o.Space,{className:z,children:[(0,h.jsx)(o.Spin,{size:"small"}),(0,h.jsx)(o.Typography.Link,{children:(0,h.jsx)(N.FormattedMessage,{id:"uploading",moduleName:"File"})})]})})]})})},bordered:!0})})};V.defaultProps={infoItemRenders:[e=>e.userName?(0,h.jsx)(o.Typography.Text,{children:e.userName}):null,e=>e.date?(0,h.jsx)(o.Typography.Text,{children:R()(e.date).format("YYYY-MM-DD HH:mm:ss")}):null]};const H=V;const q=(0,n(97211).A)((e=>{let{data:t,children:n,...a}=e;return n({url:t,...a})})),G=e=>{let{id:t,originName:n,openDownload:a,children:s,modalProps:r,...l}=e;const i=O();return(0,h.jsx)(o.Typography.Link,{...l,onClick:()=>{i({...r,id:t,originName:n,openDownload:a})},children:s||n})};G.defaultProps={openDownload:!0};const Q=G},10419:(e,t,n)=>{n.r(t),n.d(t,{HtmlPreview:()=>g,ImagePreview:()=>I,OSSFilePreview:()=>T,OfficePreview:()=>y,PdfPreview:()=>A,TextPreview:()=>F,UnknownPreview:()=>B,default:()=>M});var a=n(63114),s=n.n(a),r=n(73884),l=n(13050),o=n(83136),i=n.n(o);const c="style_container__9Fu-3__hcBlJ",d="style_loading__r3aiE__hcBlJ",u="style_text-outer__TzhuG__hcBlJ",p="style_error__wSaxt__hcBlJ";var m=n(87558),h=n(70579);const f=(0,m.createWithFetch)({transformResponse:e=>{let{data:t}=e;return{data:{code:200,results:t}}}})((e=>{let{data:t}=e;const n=(0,r.useRef)(null);return(0,r.useEffect)((()=>{const e=(new DOMParser).parseFromString(t,"text/html");e.querySelectorAll("script").forEach((e=>{e.parentElement.removeChild(e)}));const a=(0,l.getPublicPath)("components-core")+"/iframeResizer.contentWindow.js",s=document.createElement("script");s.src=a,e.head.appendChild(s);const r=document.createElement("style");r.innerText="html,body{height:auto!important;}body{pointer-events: none;background: #FFFFFF;}",e.head.appendChild(r),n.current.srcdoc=e.documentElement.outerHTML}),[t]),(0,r.useEffect)((()=>{s().iframeResize({checkOrigin:!1},n.current)}),[]),(0,h.jsx)("iframe",{title:"\u7b80\u5386\u9884\u89c8",frameBorder:"0",width:"100%",ref:n})})),g=e=>{let{className:t,url:n,maxWidth:a}=e;return(0,h.jsx)("div",{className:i()(t,c),style:{maxWidth:a},children:(0,h.jsx)(f,{url:n})})};var _=n(76329);const x=(0,m.createWithFetch)({cache:"office-preview"})((e=>{let{data:t,className:n,...a}=e;const{data:s}=t;return s.map((e=>{let{url:t}=e;const s=E(t);return(0,r.createElement)(s,{...a,url:t,key:t,className:n})}))})),y=e=>{let{id:t,apis:n,className:a,...s}=e;const{apis:r}=(0,_.usePreset)(),l=Object.assign({},r,n);return(0,h.jsx)(x,{...s,...l.previewOffice,data:{id:t},className:a})};var v=n(55199),j=n(39165),b=(n(71975),n(18267));const N=(0,r.memo)((e=>{let{url:t,maxWidth:n,scale:a,rotate:s,className:o}=e;const[u,p]=(0,r.useState)(0);j.pdfjs.GlobalWorkerOptions.workerSrc=(0,l.getPublicPath)("components-core")+"/pdfjs/build/pdf.worker.js";const[m,f]=(0,r.useState)(n),g=(0,b.useResize)((()=>{g.current.clientWidth&&f(Math.min(g.current.clientWidth,n))}));return(0,h.jsx)("div",{ref:g,className:i()(o,c),style:{maxWidth:n},children:(0,h.jsx)(j.Document,{file:{url:t},options:{standardFontDataUrl:(0,l.getPublicPath)("components-core")+"/pdfjs/standard_fonts/",cMapUrl:(0,l.getPublicPath)("components-core")+"/pdfjs/cmaps/",cMapPacked:!0},error:"PDF\u6587\u4ef6\u52a0\u8f7d\u5931\u8d25",loading:(0,h.jsx)("div",{className:d,children:(0,h.jsx)(v.Spin,{})}),noData:"\u672a\u6307\u5b9aPDF\u6587\u4ef6",onLoadSuccess:e=>{let{numPages:t}=e;p(t),console.log("onLoadSuccess")},onLoadError:e=>{console.log("onLoadError",e)},onSourceError:e=>{console.log("onSourceError",e)},children:(0,h.jsx)(v.Space,{direction:"vertical",children:u>=1&&Array.from(new Array(u),((e,t)=>(0,h.jsx)(j.Page,{className:"preview-item",scale:a/100,rotate:s,pageNumber:t+1,width:m,loading:null,renderAnnotationLayer:!1,renderTextLayer:!0,noData:"\u672a\u6307\u5b9a\u9875\u9762"},"page_".concat(t))))})})})}));N.defaultProps={autoSize:!0,renderTextLayer:!1,scale:100,rotate:0,maxWidth:1200};const A=N;var w=n(91409),C=n.n(w),S=n(89946),P=n.n(S);const F=e=>{let{url:t,className:n,maxWidth:a}=e;const[s,l]=(0,r.useState)(""),[o,m]=(0,r.useState)(!0),[f,g]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{P().get(t).then((e=>{let{data:t}=e;l(t),m(!1)}),(()=>{m(!1),g(!0)}))}),[t]),(0,h.jsxs)("div",{className:i()(n,c),style:{maxWidth:a},children:[o?(0,h.jsx)("div",{className:d,children:(0,h.jsx)(v.Spin,{})}):null,(0,h.jsx)("div",{className:u,children:f?(0,h.jsx)("div",{className:p,children:"\u6587\u4ef6\u52a0\u8f7d\u5931\u8d25"}):(0,h.jsx)(C(),{text:s})})]})},B=e=>{let{maxWidth:t}=e;return(0,h.jsx)("div",{className:c,style:{maxWidth:t},children:(0,h.jsx)("div",{className:u,children:(0,h.jsx)(v.Result,{status:"500",title:"\u4e0d\u652f\u6301\u7684\u6587\u4ef6\u7c7b\u578b",subTitle:"\u7cfb\u7edf\u4e0d\u652f\u6301\u8be5\u6587\u4ef6\u7c7b\u578b\u9884\u89c8\uff0c\u8bf7\u4e0b\u8f7d\u5230\u672c\u5730\u540e\u8fdb\u884c\u9884\u89c8"})})})},I=e=>{let{url:t,scale:n,rotate:a,className:s,maxWidth:l}=e;const[o,u]=(0,r.useState)(!0),[m,f]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{const e=new Image;e.src=t;const n=()=>{u(!1)},a=()=>{u(!1),f(!0)};return e.addEventListener("load",n),e.addEventListener("error",a),()=>{e.removeEventListener("load",n),e.removeEventListener("error",a)}}),[t,n,a]),(0,h.jsxs)("div",{className:i()(s,c),style:{maxWidth:l},children:[o?(0,h.jsx)("div",{className:d,children:(0,h.jsx)(v.Spin,{})}):null,m?(0,h.jsx)("div",{className:p,children:"\u56fe\u7247\u52a0\u8f7d\u5931\u8d25"}):(0,h.jsx)("img",{src:t,alt:"\u7b80\u5386\u9884\u89c8"})]})},k=e=>{const t=(e||"").split("?")[0].toLowerCase();return/.txt$/.test(t)?"txt":/.pdf$/.test(t)?"pdf":/.(png|jpg|jpeg)$/.test(t)?"image":/.(html|htm)$/.test(t)?"html":/.(doc|docx|xls|xlsx|ppt|pptx)$/.test(t)?"office":"unknown"},O=k,E=e=>({txt:F,pdf:A,image:I,html:g,office:y,unknown:B}[k(e)]);const T=(0,n(97211).A)((e=>{let{data:t,id:n,className:a,...s}=e;const r=E(t);return"office"===O(t)?(0,h.jsx)(y,{...s,id:n,className:a}):(0,h.jsx)(r,{...s,className:a,url:t})})),M=e=>{let{id:t,originName:n,...a}=e;return"office"===O(n)?(0,h.jsx)(y,{...a,id:t,originName:n}):(0,h.jsx)(T,{...a,id:t,originName:n})}},330:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y,useFlexBox:()=>g});var a=n(77964),s=n(74065),r=n.n(s),l=n(73884),o=n(55199),i=n(87558),c=n.n(i),d=n(19853),u=n.n(d),p=n(83136),m=n.n(p),h=n(70579);const f=[{width:786,col:1,size:15},{width:960,col:2,size:12},{width:1360,col:3,size:12},{width:1680,col:4,size:12},{width:1920,col:5,size:15}],g=e=>{const{columns:t,onChange:n}=Object.assign({},{columns:f},e),[s,o]=(0,l.useState)(null),i=(0,l.useRef)(null),c=(0,a.A)((e=>{const a=e.clientWidth,s=t.find(((e,t)=>e.width>=a))||r()(t);u()(s,i.current)||(o(s),i.current&&n&&n(s),i.current=s)}));return{ref:c,column:s}},_=e=>{let{columns:t,outerClassName:n,gutter:a,...s}=e;const{ref:r,column:l}=g({columns:t});return(0,h.jsx)("div",{ref:r,className:n,children:l&&(0,h.jsx)(o.List,{...s,grid:{gutter:a,column:l.col}})})};_.defaultProps={gutter:16,columns:f},_.Item=o.List.Item;const x=(0,l.forwardRef)(((e,t)=>{let{columns:n,api:a,getFetchApi:s,outerClassName:r,className:l,gutter:i,dataFormat:d,...u}=e;const{ref:p,column:f}=g({columns:n});return(0,h.jsx)("div",{ref:p,className:r,children:f&&(0,h.jsx)(c(),{...a||s(f),ref:t,render:e=>{let{data:t,isComplete:n}=e;return(0,h.jsx)(o.List,{...u,className:m()(l,"loading-container",{"is-loading":!n}),dataSource:d(t),grid:{gutter:i,column:f.col}})}})})}));x.defaultProps={gutter:16,columns:f,dataFormat:e=>e.pageData},_.Fetch=x;const y=_},45053:(e,t,n)=>{n.d(t,{A:()=>m});var a=n(98434),s=n(55199),r=n(73884),l=n(83136),o=n.n(l),i=n(70720),c=n.n(i),d=n(47094),u=n(70579);const p=e=>{let{name:t,groupName:n,overlayClassName:l,errorRender:i,groupIndex:p,children:m}=e;const h=(e=>{let{name:t,groupName:n,groupIndex:s}=e;const{emitter:l,formState:o}=(0,a.useFormContext)(),i=(0,r.useRef)({name:t,groupName:n,groupIndex:s});i.current={name:t,groupName:n,groupIndex:s};const c=(0,r.useRef)(o);c.current=o;const[d,u]=(0,r.useState)(null);return(0,r.useEffect)((()=>{const e=l.addListener("form-field-validate-complete",(e=>{let{id:t,validate:n}=e;const s=c.current[t];if(!s)return;const r=i.current;s.name!==r.name||r.groupName&&(s.groupName!==r.groupName||s.groupIndex!==r.groupIndex)||u(2===n.status?Object.assign({},n,{label:s.label,errMsg:a.util.compileErrMsg(n.msg,s.label)}):null)}));return()=>{e&&e.remove()}}),[l]),d})({name:t,groupName:n,groupIndex:p}),[f,g]=(0,r.useState)(!1),_=h&&f&&i(Object.assign({},h,{closeHover:()=>g(!1)})),x=(0,r.useRef)(null),y=(0,r.useRef)(null);c()((()=>{g(!1)})).current={contains:e=>x.current.contains(e)||y.current&&y.current.contains(e)};const[v,j]=(0,r.useState)(0);return(0,r.useLayoutEffect)((()=>{const e=()=>{const e=x.current.querySelector(".react-form__field-component");e&&j(e.clientWidth)};e();const t=new ResizeObserver(e);t.observe(x.current);const n=new MutationObserver(e);return n.observe(x.current,{subtree:!0,childList:!0}),()=>{n.disconnect(),t.disconnect()}}),[]),(0,u.jsx)(s.Popover,{open:!!_,overlayClassName:o()(l,d.A["error-tip-overlay"]),content:_&&(0,u.jsx)("div",{ref:y,style:{width:v},className:o()(d.A["error-tip-overlay-content"]),children:_}),placement:"bottom",transitionName:"ant-slide-up",arrow:!1,children:(0,u.jsx)("div",{className:o()("error-tip"),ref:x,onMouseEnter:()=>{g(!0)},children:m})})};p.defaultProps={errorRender:()=>null};const m=p},83560:(e,t,n)=>{n.d(t,{A:()=>h});var a=n(55199),s=n(98434),r=n(63361),l=n(73884),o=n(10486),i=n(21554),c=n(64671),d=n(83136),u=n.n(d),p=n(47094),m=n(70579);const h=e=>{let{list:t,groupArgs:n,itemRender:d}=e;const h=(0,s.useFormContext)(),f=Object.assign({},h,n?{groupArgs:n}:{}),g=(0,l.useRef)(null),[_,x]=(0,l.useState)(!1);return(0,l.useEffect)((()=>{x(!0)}),[]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{ref:g,style:{display:"none"}}),t.filter((e=>"function"===typeof e.props.display?e.props.display(f):!1!==e.props.display)).map(((e,s)=>{const h=e.props.name+s||n&&n[0]+s||s,x={key:h,list:t,props:e.props},y=Object.assign({},e.props),v=e.type;["display","block","hidden","setExtraProps","isBlock","featureId","tips"].forEach((t=>{e.props.hasOwnProperty(t)&&(x[t]=e.props[t]),delete y[t]})),x.hasOwnProperty("isBlock")&&(y.block=x.isBlock);const j=(0,m.jsx)(v,{...Object.assign({},y,"function"===typeof x.setExtraProps?x.setExtraProps({props:y,contextApi:f}):{}),onChange:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e.props.onChange&&e.props.onChange(...n,f)}}),b=x.hidden?_&&(0,o.createPortal)(j,g.current):d(x.tips?(0,m.jsxs)(a.Row,{gutter:8,align:"top",children:[(0,m.jsx)(a.Col,{flex:1,children:j}),(0,m.jsx)(a.Col,{children:(0,m.jsx)(i.default,{content:x.tips,children:(0,m.jsx)("span",{className:u()(p.A["field-tips"],{[p.A["label-hidden"]]:y.labelHidden}),children:(0,m.jsx)(c.default,{type:"icon-xinxi-miaobian"})})})})]}):j,x);return(0,m.jsx)(l.Fragment,{children:x.hasOwnProperty("featureId")?(0,m.jsx)(r.default,{id:x.featureId,children:b},h):b},h)}))]})}},85696:(e,t,n)=>{n.d(t,{A:()=>v});var a=n(73884),s=n(76329),r=n(33097),l=n.n(r),o=n(64261),i=n(58609),c=n(55431),d=n(46237),u=n(1454),p=n(46732),m=n(98434),h=n(83136),f=n.n(h),g=n(47094),_=n(70579);const x=e=>{let{children:t}=e;const[n,r]=(0,a.useState)(!1),i=(0,s.usePreset)(),c=l()(i,"formInfo",{}),d=l()(i,"locale");return(0,a.useEffect)((()=>{(0,o.A)(c,{locale:d}),r(!0)}),[c,d]),n?t:null},y=(0,a.forwardRef)(((e,t)=>{let{className:n,helperGuideName:a,children:s,lang:r,...l}=e;return(0,_.jsx)(i.IntlProvider,{importMessages:c.A,moduleName:"FormInfo",children:(0,_.jsx)(d.Ay,{value:r,children:(0,_.jsx)(u.default,{children:(0,_.jsx)(p.K,{value:a,children:(0,_.jsx)(m.FormAntd,{...l,ref:t,className:f()(n,g.A["form-outer"]),children:(0,_.jsx)(x,{children:s})})})})})})}));y.defaultProps={type:"inner"};const v=y},35774:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(98434),s=n(81014),r=n(70579);const l=e=>{let{onClick:t,...n}=e;const l=(0,a.useFormContext)();return(0,r.jsx)(s.default,{...n,onClick:e=>t(l,e)})}},48221:(e,t,n)=>{n.d(t,{Ay:()=>h,WJ:()=>g,Xy:()=>f});var a=n(25963),s=n(83136),r=n.n(s),l=n(98434),o=n(73025),i=n(58609),c=n(47094),d=n(55431),u=n(70579);const p=[{children:"\u53d6\u6d88",ButtonComponent:l.CancelButton},{type:"primary",children:"\u4fdd\u5b58",ButtonComponent:l.SubmitButton,autoClose:!1}],m=e=>{let{className:t,withDecorator:n,footerButtons:a=p,formProps:s,...o}=e;return{...o,footerButtons:a,className:r()(t,c.A["form-outer"],c.A["form-drawer"]),withDecorator:e=>{const t=t=>{const n="function"===typeof s?s(t):s;return(0,u.jsx)(l.FormAntd,{...n,children:(0,u.jsx)(i.IntlProvider,{importMessages:d.A,moduleName:"FormInfo",children:e(t)})})};return"function"===typeof n?n(t):t()}}},h=e=>(0,u.jsx)(a.default,{...m(e)}),f=()=>{const e=(0,a.useDrawer)();return t=>e(m(t))},g=e=>{const t=f();return(0,u.jsx)(o.A,{...e,modalFunc:t})}},2196:(e,t,n)=>{n.d(t,{A:()=>c});var a=n(55199),s=n(1454),r=n(330),l=n(83560),o=n(70579);const i=e=>{let{list:t,groupArgs:n,column:i,gap:c,...d}=e;const{ref:u,column:p}=(0,r.useFlexBox)(),m=e=>(0,o.jsx)(a.Row,{gutter:[c||24,0],children:(0,o.jsx)(l.A,{list:t,groupArgs:n,itemRender:(t,n)=>(0,o.jsx)(a.Col,{span:!0===n.block?24:Math.round(24/(e||1)),children:t})})});return(0,o.jsx)(s.default.Part,{...d,children:(0,o.jsx)("div",{ref:u,children:Number.isInteger(i)&&i>0?m(i):m(p?p.col:2)})})};i.defaultProps={column:2,list:[]};const c=i},30891:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(98434);const s=e=>{let{children:t}=e;const{openApi:n,formData:s}=(0,a.useFormContext)();return t({...n,formData:s})}},46237:(e,t,n)=>{n.d(t,{Ay:()=>i,oc:()=>o});var a=n(73884);const s=(0,a.createContext)([]),{Provider:r,Consumer:l}=s,o=()=>(0,a.useContext)(s),i=r},5995:(e,t,n)=>{n.d(t,{Ay:()=>f,Vl:()=>g,W6:()=>_});var a=n(3382),s=n(83136),r=n.n(s),l=n(98434),o=n(83799),i=n(73025),c=n(58609),d=n(47094),u=n(55431),p=n(70579);const m="FormInfo",h=e=>{let{className:t,withDecorator:n,footerButtons:a,formProps:s,...i}=e;return{...i,footerButtons:a||[{children:(0,p.jsx)(c.IntlProvider,{importMessages:u.A,moduleName:m,children:(0,p.jsx)(c.FormattedMessage,{id:"Cancel",moduleName:m})}),ButtonComponent:l.CancelButton},{type:"primary",children:(0,p.jsx)(c.IntlProvider,{importMessages:u.A,moduleName:m,children:(0,p.jsx)(c.FormattedMessage,{id:"Save",moduleName:m})}),ButtonComponent:l.SubmitButton,autoClose:!1}],className:r()(t,d.A["form-outer"],d.A["form-modal"]),withDecorator:e=>{const t=t=>{const n="function"===typeof s?s(t):s;return(0,p.jsx)(o.lV,{...n,children:(0,p.jsx)(c.IntlProvider,{importMessages:u.A,moduleName:"FormInfo",children:e(t)})})};return"function"===typeof n?n(t):t()}}},f=e=>(0,p.jsx)(a.default,{...h(e)}),g=()=>{const e=(0,a.useModal)();return t=>e(h(t))},_=e=>{const t=g();return(0,p.jsx)(i.A,{...e,modalFunc:t})}},94005:(e,t,n)=>{n.d(t,{$X:()=>u,Ay:()=>d,Wp:()=>p});var a=n(5995),s=n(55199),r=n(73884),l=n(98434),o=n(70579);const i=e=>{let{setCurrent:t,current:n,items:a,setStepData:r,stepData:i}=e;const c=a[n],{formData:d}=(0,l.useFormContext)();return(0,o.jsxs)(s.Space,{className:"full-space",direction:"vertical",children:[(0,o.jsx)(s.Steps,{current:n,onChange:e=>{r((t=>{const n=t.slice(0);return n[e]=d,n})),t(e)},items:a}),c.children]})},c=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(0);return s=>{var r;let{items:c,formProps:d}=s;const u=n===c.length-1;return{stepData:e,formProps:Object.assign({},d,{data:Object.assign({},null===(r=d.data)||void 0===r?void 0:r[n],e[n]),onSubmit:s=>{const r=e.slice(0);if(r[n]=s,t(r),u)return null===d||void 0===d?void 0:d.onSubmit(e);a(n+1)}}),children:(0,o.jsx)(i,{items:c,current:n,setCurrent:a,stepData:e,setStepData:t}),footerButtons:[{children:"\u53d6\u6d88",ButtonComponent:l.CancelButton},{type:"primary",children:u?"\u4fdd\u5b58":"\u4e0b\u4e00\u6b65",ButtonComponent:l.SubmitButton,autoClose:!1}]}}},d=e=>{const t=c(),{footerButtons:n,children:s,formProps:r}=t(e);return(0,o.jsx)(a.Ay,{...e,formProps:r,footerButtons:n,children:s})},u=()=>{const e=(0,a.Vl)(),t=c();return n=>{const{footerButtons:a,children:s,formProps:r}=t(n);return e({...n,formProps:r,footerButtons:a,children:s})}},p=e=>{let{modalProps:t,...n}=e;const s=c(),{footerButtons:r,children:l,formProps:i}=s(t);return(0,o.jsx)(a.W6,{...n,modalProps:Object.assign({},t,{formProps:i,footerButtons:r,children:l})})}},46732:(e,t,n)=>{n.d(t,{A:()=>d,K:()=>c});var a=n(75363),s=n(73884),r=n(98434),l=n(47094),o=n(70579);const i=(0,s.createContext)(""),{Provider:c}=i,d=e=>{let{name:t}=e;const n=(0,s.useContext)(i),c=(0,r.useGroup)();return n&&(0,o.jsx)(a.default,{className:l.A["helper-guide-field"],name:n+"-"+(c.name?c.name+"-":"")+t})}},85846:(e,t,n)=>{n.d(t,{A:()=>y});var a=n(73884),s=n(55199),r=n(58407),l=n(64671),o=n(1454),i=n(98434),c=n(2196),d=n(83136),u=n.n(d),p=n(55431),m=n(58609),h=n(33097),f=n.n(h),g=n(47094),_=n(70579);const x=e=>{let{title:t,addText:n,minLength:o,isUnshift:d,maxLength:h,defaultLength:x,label:y,name:v,beforeAdd:j,afterDelete:b,column:N,list:A,listRender:w,itemTitle:C,outer:S,renderChildren:P,className:F}=e;const B=(0,a.useRef)(null),I=(0,i.useFormContext)(),{formData:k}=I;return(0,_.jsx)(m.IntlProvider,{importMessages:p.A,moduleName:"FormInfo",children:(0,a.cloneElement)(S,{title:t,addText:n,className:u()(F,g.A["list-part"]),allowAdd:!(h&&h<=f()(k,"".concat(v,".length"),0)),add:()=>{"function"===typeof j&&!1===j(v,I)||B.current.onAdd({isUnshift:d})}},P((0,_.jsx)(i.GroupList,{name:v,defaultLength:x,ref:B,children:function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];const[i,{index:d,onRemove:u,length:p}]=n,h={key:i,column:N,list:"function"===typeof A?A(...n,I):A,title:"function"===typeof C?C({index:d,key:i,onRemove:u}):C,groupArgs:n,extra:(0,_.jsx)(m.FormattedMessage,{id:"delText",moduleName:"FormInfo",children:e=>(0,_.jsxs)(r.default,{disabled:o&&o>=p,danger:!0,className:"btn-no-padding",message:(0,_.jsx)(m.FormattedMessage,{id:"delConfirm",moduleName:"FormInfo",values:{name:y||t}}),type:"link",onClick:()=>{u(i),b&&b(...n,I)},children:[(0,_.jsx)(l.default,{type:"icon-shanchu"}),e]})})};return(0,_.jsxs)("div",{className:g.A["list-item"],children:["function"===typeof w?w(h):(0,_.jsx)(c.A,{...h,className:g.A["list-item-part"],gap:16}),(0,_.jsx)(s.Divider,{})]},i)}})))})};x.defaultProps={minLength:0,isUnshift:!0,defaultLength:1,outer:(0,_.jsx)((e=>{let{add:t,addText:n,className:a,allowAdd:r,...i}=e;return(0,_.jsx)(o.default.Part,{...i,className:a,extra:r&&(0,_.jsx)(m.FormattedMessage,{id:"addText",moduleName:"FormInfo",children:e=>(0,_.jsxs)(s.Typography.Link,{className:g.A["list-btn"],onClick:t,children:[(0,_.jsx)(l.default,{type:"icon-tianjia"}),n||e]})})})}),{}),renderChildren:e=>e};const y=x},18936:(e,t,n)=>{n.d(t,{A:()=>E});const a={"ant-tag":"style_ant-tag__7ct2q__hcBlJ",input:"style_input__+OpvV__hcBlJ",overlay:"style_overlay__CXfU5__hcBlJ","is-disabled":"style_is-disabled__uX4qq__hcBlJ","input-icon":"style_input-icon__E3NjK__hcBlJ",large:"style_large__vMozz__hcBlJ",small:"style_small__ubqQ+__hcBlJ","input-inner":"style_input-inner__sY-6k__hcBlJ","input-custom":"style_input-custom__Kxq3n__hcBlJ","display-content":"style_display-content__qA1jn__hcBlJ","overlay-footer-extra":"style_overlay-footer-extra__yCzWX__hcBlJ","selected-tag":"style_selected-tag__BZsMM__hcBlJ","selected-tag-list":"style_selected-tag-list__As0ho__hcBlJ","selected-tag-inner":"style_selected-tag-inner__2NH59__hcBlJ","text-inner":"style_text-inner__Bq2Ji__hcBlJ",placeholder:"style_placeholder__odotY__hcBlJ","is-modal":"style_is-modal__4cj8L__hcBlJ","overlay-content":"style_overlay-content__kpGRn__hcBlJ"};var s=n(74981);const{context:r,useContext:l,Provider:o,Consumer:i}=(0,s.A)();var c=n(73884),d=n(10986),u=n.n(d),p=n(87558),m=n(33097),h=n.n(m),f=n(55199),g=n(83136),_=n.n(g),x=n(3382),y=n(64671),v=n(79686),j=n.n(v),b=n(41740),N=n.n(b),A=n(74065),w=n.n(A),C=n(17342),S=n(70579);const P=e=>{let{maxLength:t,single:n,setValue:a,value:s,message:r}=e;return e=>a(!n&&Number.isInteger(t)&&t>0&&e.length>t?(r("\u6700\u591a\u9009\u62e9".concat(t,"\u4e2a")),s):e)},F=e=>{let{single:t,value:n,mapping:s,onClose:r}=e;return n&&Array.isArray(n)&&0!==n.length?t?(0,S.jsx)("span",{className:a["text-inner"],children:h()(s.get(n[0]),"label")||n[0]}):n.map((e=>{const t=s.get(e);return(0,S.jsx)(f.Tag,{className:a["display-tag"],closable:!0,onClose:n=>{n.preventDefault(),r(e,t)},children:(0,S.jsx)("span",{className:a["tag-inner"],children:h()(t,"label")||e})},e)})):null},B=(0,c.forwardRef)(((e,t)=>{let{value:n,onChange:s,extra:r,showSelectedTag:l,renderSelectedContent:o,children:i,...d}=e;const[u,p]=(0,c.useState)(n),m=(0,c.useRef)(n);m.current=n;const[h,g]=(0,c.useState)(!1),{message:_}=f.App.useApp(),y=P({maxLength:d.maxLength,single:d.single,setValue:p,value:u,message:_.error});return(0,c.useEffect)((()=>{h&&p(m.current)}),[h]),(0,c.useImperativeHandle)(t,(()=>({modalOpen:()=>{g(!0)},close:()=>{g(!1)}}))),(0,S.jsx)(x.default,{...d,open:h,onConfirm:()=>{s(u)},onClose:()=>{g(!1)},footer:(l||r)&&(0,S.jsxs)(f.Space,{direction:"vertical",className:a["overlay-footer"],children:[r&&(0,S.jsx)("div",{className:a["overlay-footer-extra"],children:r}),l&&o({value:u,setValue:y})]}),children:"function"===typeof i?i({value:u,setValue:y}):i})})),I=(0,c.forwardRef)(((e,t)=>{let{value:n,setValue:s,children:r,renderSelectedContent:l,showSelectedTag:o,placement:i,inputContent:d,single:u,extra:p,overlayWidth:m,wrapClassName:h,...g}=e;const[_,x]=(0,c.useState)(!1);return(0,c.useImperativeHandle)(t,(()=>({close:()=>{x(!1)}})),[]),(0,S.jsx)(f.Popover,{...g,open:_,onOpenChange:x,overlayClassName:a.overlay,arrow:!1,content:(0,S.jsxs)("div",{style:m?{"--overlay-width":m}:{},className:a["overlay-content"],onClick:e=>{e.stopPropagation()},children:[(0,S.jsx)("div",{className:a["overlay-inner"],children:"function"===typeof r?r({value:n,setValue:e=>{(!u||n[0]!==e[0])&&s(e),u&&x(!1)}}):r}),(o||p)&&(0,S.jsxs)("div",{className:a["overlay-footer"],children:[p&&(0,S.jsx)("div",{className:a["overlay-footer-extra"],children:p}),o&&l({value:n,setValue:s})]})]}),trigger:"click",placement:i,children:(0,S.jsx)("div",{className:a["input-inner"],children:d})})})),k=(0,p.withFetch)((e=>{let{setFetchApi:t,wrapClassName:n,...s}=e;const[r,o]=(0,c.useState)(!1),i=(0,c.useRef)(null),d=(0,c.useRef)(null),u=l(),{valueState:p,mapping:m,props:h}=u,[g,x]=p,{single:v,placement:j,getPopupContainer:b,placeholder:N,isPopup:A,disabled:w,showSelectedTag:P,extra:k,inputContent:O}=h,E=(0,c.useRef)(s);E.current=s,(0,c.useEffect)((()=>{t(Object.assign({},E.current,{data:s.data,isComplete:s.isComplete}))}),[s.data,t,s.isComplete]);const T=F({single:v,value:g,mapping:m,onClose:e=>{x((t=>{const n=t.slice(0),a=t.indexOf(e);return a>-1&&n.splice(a,1),n}))}}),M=e=>{let{value:t,setValue:n}=e;return(0,S.jsxs)(f.Space,{className:a["selected-tag"],align:"center",wrap:!0,children:[(0,S.jsxs)("div",{children:["\u5df2\u9009",!h.single&&Number.isInteger(h.maxLength)&&h.maxLength>0?"(".concat(t.length,"/").concat(h.maxLength,")"):"",":"]}),(0,S.jsx)(C.A,{className:a["selected-tag-list"],children:(0,S.jsx)("div",{className:a["selected-tag-inner"],children:F({value:t,mapping:m,onClose:e=>{n((t=>{const n=t.slice(0),a=t.indexOf(e);return a>-1&&n.splice(a,1),n}))}})})})]})},R=O?O(u):(0,S.jsxs)(f.Space,{className:a["display-content"],onMouseOver:()=>{o(!0)},onMouseOut:()=>{o(!1)},children:[(0,S.jsx)("div",{children:T||(0,S.jsx)("span",{className:a.placeholder,children:N})}),r&&g&&g.length>0&&!w?(0,S.jsx)(y.default,{className:_()(a.close,a["input-icon"],"close","input-icon"),type:"icon-shibai",onClick:e=>{e.stopPropagation(),x([])}}):(0,S.jsx)(y.default,{className:_()(a["input-icon"],"input-icon-arrow","input-icon"),type:"icon-arrow-thin-down"})]});return A?(0,S.jsx)(I,{ref:d,overlayWidth:h.overlayWidth,value:g,setValue:x,single:v,inputContent:R,extra:"function"===typeof k?k({close:()=>d.current.close(),context:u}):k,renderSelectedContent:M,showSelectedTag:P,trigger:"click",placement:j,getPopupContainer:b,children:h.children}):(0,S.jsxs)("div",{className:a["input-inner"],onClick:()=>{i.current.modalOpen()},children:[(0,S.jsx)(B,{size:h.modalSize,ref:i,single:h.single,maxLength:h.maxLength,disabledScroller:!0,wrapClassName:_()(a.overlay,a["is-modal"],n),title:h.placeholder,value:g,onChange:x,extra:"function"===typeof k?k({close:()=>i.current.close(),context:u}):k,showSelectedTag:P,renderSelectedContent:M,children:h.children}),R]})})),O=e=>{let{api:t,className:n,displayItems:s,wrapClassName:r,...l}=e;const[i,d]=(0,c.useState)(""),[p,m]=(0,c.useState)(new Map(s.map((e=>[e.value,e])))),[g,x]=(0,c.useState)({}),{message:y}=f.App.useApp(),v=e=>{const t=e.filter((e=>p.get(e.value)!==e));0!==t.length&&m((e=>{const n=N()(e);return t.forEach((e=>{n.set(e.value,e)})),n}))},b=e=>((e,t,n)=>"all"!==n?e:(t(e),e.map((e=>e.value))))(l.single?j()(e)?[]:[e]:e||[],v,l.valueType),[A,C]=u()(Object.assign({},l,{onChange:e=>{const t=((e,t,n)=>"all"!==n?e:e.map((e=>t.get(e))))(e,p,l.valueType);l.onChange&&l.onChange(l.single?w()(t):t)}},"value"in l?{value:b(l.value)}:{defaultValue:b(l.defaultValue)})),F=P({maxLength:l.maxLength,single:l.single,setValue:C,value:A,message:y.error});return(0,S.jsx)(o,{value:{mapping:p,searchText:i,setSearchText:d,appendMapping:v,setItems:e=>{g.setData(e),v(h()(l.dataFormat(e),"list",[]))},fetchApi:g,valueState:[A,F],props:l},children:(0,S.jsx)("div",{className:_()(a["input".concat(l.inputContent&&"function"===typeof l.inputContent?"-custom":"")],n),children:(0,S.jsx)(k,{...t,wrapClassName:r,loading:null,setFetchApi:x,onRequestSuccess:e=>{v(h()(l.dataFormat(e),"list",[])),t.onRequestSuccess&&t.onRequestSuccess(e)}})})})};O.defaultProps={placeholder:"\u8bf7\u9009\u62e9",displayItems:[],extra:null,api:{loader:()=>[]},dataFormat:e=>({list:e}),placement:"bottomLeft",getPopupContainer:null,showSelectedTag:!0},O.useContext=l;const E=O},97056:(e,t,n)=>{n.d(t,{A:()=>h});var a=n(85846),s=n(83560),r=n(55199),l=n(41740),o=n.n(l),i=n(73884),c=n(83136),d=n.n(c),u=n(47094),p=n(70579);const m=(0,i.forwardRef)(((e,t)=>{const[n,a]=(0,i.useState)(new Map);return(0,i.useImperativeHandle)(t,(()=>e=>{setTimeout((()=>{a((t=>{if(t.has(e.key))return t;const n=o()(t);return n.set(e.key,e.props),n}))}))}),[]),(0,p.jsxs)(r.Row,{wrap:!1,className:u.A["table-list-header"],style:{"--col-width":"".concat(100/n.size,"%")},children:[Array.from(n).map((e=>{let[t,{label:n,rule:a}]=e;return(0,p.jsx)(r.Col,{className:d()({[u.A["is-req"]]:0===a.split(" ").indexOf("REQ")}),children:n},t)})),(0,p.jsx)(r.Col,{className:u.A["table-list-extra"]})]})})),h=e=>{let{list:t,className:n,...l}=e;const o=(0,i.useRef)(null);return(0,p.jsx)(a.A,{...l,className:d()(n,u.A["table-list"]),list:t,renderChildren:e=>(0,p.jsxs)("div",{className:u.A["table-list-inner"],children:[(0,p.jsx)(m,{ref:o}),e]}),listRender:e=>{let{list:t,groupArgs:n,extra:a,key:l}=e;return(0,p.jsxs)(r.Row,{wrap:!1,align:"middle",style:{"--col-width":"".concat(100/t.length,"%")},children:[(0,p.jsx)(s.A,{list:t,groupArgs:n,itemRender:(e,t)=>(o.current(t),(0,p.jsx)(r.Col,{className:u.A["table-list-field"],flex:1,children:e}))}),(0,p.jsx)(r.Col,{className:u.A["table-list-extra"],children:a})]},l)}})}},1904:(e,t,n)=>{n.d(t,{A:()=>i,N:()=>c});var a=n(98434),s=n(18267);const{useOnChange:r,useDecorator:l}=a.hooks,o=e=>r(Object.assign({},{placeholder:"\u8bf7\u9009\u62e9"+e.label},e))(s.AddressSelectField);o.Field=s.AddressSelectField,o.AddressEnum=s.AddressSelectField.AddressEnum,o.createAddressApi=s.AddressSelectField.createAddressApi,o.withAddressApi=s.AddressSelectField.withAddressApi;const i=o,c=e=>l(Object.assign({},{placeholder:"\u8bf7\u9009\u62e9"+e.label,inputPlaceholder:"\u8bf7\u8f93\u5165"+e.label},e))(s.AddressInputField);c.Field=s.AddressInputField},30096:(e,t,n)=>{n.d(t,{Ay:()=>d});var a=n(98434),s=n(18267);const{useOnChange:r}=a.hooks,l=e=>{const t=t=>r(Object.assign({},{placeholder:"\u8bf7\u9009\u62e9"+t.label},t))(e);return t.field=t.Field=e,t},o=l(s.UserField),i=l(s.TableField),c=l(s.AdvancedSelectField);c.createdList=e=>{let{renderList:t,defaultProps:n}=e;return l((0,s.createListField)({renderList:t,defaultProps:n}))},c.User=o,c.Table=i;const d=c},96339:(e,t,n)=>{n.d(t,{A:()=>J});var a=n(73884),s=n(29574),r=n(40438),l=n(76329),o=n(3382),i=n(64671),c=n(55199),d=n(53202),u=n.n(d),p=n(33097),m=n.n(p),h=n(83136),f=n.n(h),g=n(51941),_=n(98434),x=n(34677),y=n.n(x);const v="style_upload-btn__-6XtP__hcBlJ",j="style_square__UPkfA__hcBlJ",b="style_is-loading__wx6Pd__hcBlJ",N="style_upload-btn-tips__YtxWz__hcBlJ",A="style_drop-tips__N-v59__hcBlJ",w="style_preview-area__aV3SN__hcBlJ";var C=n(18411),S=n(58609),P=n(55431),F=n(70579);const{useOnChange:B}=_.hooks,I=r.default.Avatar,k="FormInfo",O=(0,s.Ay)((e=>{let{className:t,icon:n,loading:a,value:s,gender:r,width:l,height:o,children:d,shape:u,defaultAvatar:p,apis:h}=e;const g=(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(I,{id:m()(s,"id"),gender:r,width:64*l/o,height:64,shape:u,defaultAvatar:p,apis:h}),(0,F.jsx)("div",{className:N,children:n||(0,F.jsx)(i.default,{type:"icon-chuanzhaopian",size:16})}),d]});return(0,F.jsx)("div",{className:f()(t,v,{[b]:a,[j]:"square"===u||!(l&&l===o)}),style:{width:64*l/o},children:a?(0,F.jsx)(c.Spin,{children:g}):g})})),E=e=>{let t=e.split(","),n=t[1].substring(0,t[1].length-2),a=t[0].match(/:(.*?);/)[1],s=atob(n),r=s.length,l=new Uint8Array(r);for(;r--;)l[r]=s.charCodeAt(r);return new Blob([l],{type:a})},T=(0,a.forwardRef)(((e,t)=>{let{image:n,width:r,height:l,borderRadius:o,preview:d,fileSize:p,accept:m,renderTips:h,getApi:f,shape:_,border:x,...y}=e;const v=(0,S.useIntl)({moduleName:k}),[j,b]=(0,a.useState)(0),N=(0,a.useRef)(null),[C,P]=(0,a.useState)(n),[B,I]=(0,a.useState)(1),[O,T]=(0,a.useState)(0),[M,R]=(0,a.useState)(""),L=(0,a.useRef)(null);(0,a.useLayoutEffect)((()=>{b(2*N.current.clientWidth/3)}),[]),f({getImage:()=>{const e=L.current.getImage(),t=document.createElement("canvas"),n=t.getContext("2d");return t.width=r,t.height=l,n.drawImage(e,0,0,t.width,t.height),new window.File([E(t.toDataURL())],C.name,{type:C.type})}});const J=()=>{R(L.current.getImage().toDataURL())},D=(0,g.useDebouncedCallback)(J,500);return(0,F.jsx)("div",{ref:N,children:(0,F.jsxs)(c.Row,{wrap:!1,align:"middle",children:[(0,F.jsx)(c.Col,{span:d?16:24,children:j&&(0,F.jsxs)(c.Space,{direction:"vertical",children:[(0,F.jsx)(u(),{...y,ref:L,image:C,scale:B,rotate:O,width:j-2*x,height:l*j/r-2*x*l/r,border:x,color:[0,0,0,.6],borderRadius:o*j/r,onImageReady:J,onImageChange:D}),(0,F.jsx)("div",{className:A,children:h("".concat(v.formatMessage({id:"PictureFormat"})).concat(m.map((e=>e.replace(/^\./,""))).join(" ")," ").concat(v.formatMessage({id:"ImageSize"})).concat(v.formatMessage({id:"NotExceeding"},{size:p})),{accept:m,fileSize:p})}),(0,F.jsxs)(c.Row,{gutter:14,align:"middle",children:[(0,F.jsx)(c.Col,{children:(0,F.jsx)(c.Tooltip,{title:v.formatMessage({id:"Rotate"}),placement:"bottom",children:(0,F.jsx)(i.default,{type:"icon-xuanzhuan",onClick:()=>{T((e=>(e-90)%360))}})})}),(0,F.jsx)(c.Col,{children:(0,F.jsx)(c.Tooltip,{title:v.formatMessage({id:"ImageFull"}),placement:"bottom",children:(0,F.jsx)(i.default,{type:"icon-chongman",onClick:()=>{I(1)}})})}),(0,F.jsx)(c.Col,{flex:1,children:(0,F.jsx)(c.Slider,{tooltip:{placement:"bottom",formatter:()=>v.formatMessage({id:"Size"})},value:B,step:.05,min:.2,max:3,onChange:I})}),(0,F.jsx)(c.Col,{children:(0,F.jsx)(s.FI,{accept:m,onChange:e=>{e[0].size>1024*p*1024?c.message.error(v.formatMessage({id:"FileNotExceeding"},{name:e[0].name,size:p})):(T(0),I(1),P(e[0]))},children:(0,F.jsx)(S.FormattedMessage,{id:"ReUpload",moduleName:k})})})]})]})}),d&&(0,F.jsx)(c.Col,{span:8,children:(0,F.jsx)("div",{className:w,children:(0,F.jsxs)(c.Space,{direction:"vertical",children:[(0,F.jsx)(c.Avatar,{src:M,shape:_,style:{width:j/2-36,height:(j/2-36)*l/r}}),(0,F.jsx)("div",{style:{textAlign:"center"},children:(0,F.jsx)(S.FormattedMessage,{id:"Preview",moduleName:k})})]})})})]})})}));T.defaultProps={border:1};const M=()=>{const e=(0,o.useModal)();return t=>{const{image:n,width:a,height:s,borderRadius:r,getApi:l,preview:o,fileSize:i,accept:c,renderTips:d,border:u,dropModalSize:p,...m}=Object.assign({},{title:"\u7f16\u8f91\u5934\u50cf",width:200,height:200,borderRadius:"circle"===t.shape&&t.width&&t.width===t.height?t.width/2:2,preview:!0},t);return e({...m,size:p,children:(0,F.jsx)(T,{preview:o,fileSize:i,accept:c,getApi:l,renderTips:d,width:a,height:s,shape:"circle"===t.shape&&t.width&&t.width===t.height?"circle":"square",borderRadius:r,image:n,border:u,scale:1,rotate:0})})}},R=e=>{let{value:t,gender:n,fileSize:s,accept:r,openEditor:o,apis:i,renderTips:d,onChange:u,shape:p,width:m,height:h,title:f,border:g,icon:_,dropModalSize:x,defaultAvatar:v}=e;const[j,b]=(0,a.useState)(!1),{apis:N}=(0,l.usePreset)(),A=y()({},N,i),{ossUpload:w}=A,C=(0,a.useRef)(null),P=M(),B=(0,S.useIntl)({moduleName:k});return(0,F.jsx)(O,{value:t,gender:n,accept:r,width:m,height:h,shape:p,icon:_,loading:j,defaultAvatar:v,apis:A,onChange:e=>{if(e[0].size>1024*s*1024)return void c.message.error(B.formatMessage({id:"FileNotExceeding"},{name:e[0].name,size:s}));const t=e=>(b(!0),w({file:e}).then((e=>{let{data:t}=e;0===t.code?u(t.data):c.message.error(B.formatMessage({id:"UploadFailed"},{msg:t.msg?":"+t.msg:""}))})).finally((()=>{b(!1)})));o?P({image:e[0],width:m,height:h,title:f,shape:p,border:g,dropModalSize:x,getApi:e=>C.current=e,fileSize:s,accept:r,renderTips:d,onConfirm:()=>{t(C.current.getImage())}}):t(e[0])}})};R.defaultProps={defaultAvatar:C.A,openEditor:!0,fileSize:2,width:200,height:200,dropModalSize:"small",border:1,title:(0,F.jsx)(S.IntlProvider,{importMessages:P.A,moduleName:"FormInfo",children:(0,F.jsx)(S.FormattedMessage,{id:"Crop",moduleName:"FormInfo"})}),accept:[".jpg",".png",".jpeg"],renderTips:e=>e,shape:"circle"};const L=e=>B(e)(R);L.defaultProps={},L.Field=L,L.useDropModal=M;const J=L},83230:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(98434),s=n(18267);const{useOnChange:r}=a.hooks,l=e=>r(Object.assign({},{placeholder:"\u8bf7\u9009\u62e9"+e.label},e))(s.CascaderField);l.Field=s.CascaderField,l.createTreeUtils=s.createTreeUtils;const o=l},81026:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(18267),s=n(98434);const{useOnChange:r}=s.hooks,l=e=>r(Object.assign({},{placeholder:"\u8bf7\u9009\u62e9"+e.label},e))(a.FunctionSelectField);l.Field=a.FunctionSelectField,l.Enum=a.FunctionSelectField.Enum;const o=l},78756:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(18267),s=n(98434);const{useOnChange:r}=s.hooks,l=e=>r(Object.assign({},{placeholder:"\u8bf7\u9009\u62e9"+e.label},e))(a.IndustrySelectField);l.Field=a.IndustrySelectField,l.Enum=a.IndustrySelectField.Enum;const o=l},15209:(e,t,n)=>{n.d(t,{A:()=>d});var a=n(55199),s=n(10986),r=n.n(s),l=n(13050),o=n(70579);const i=e=>{let{...t}=e;const[n,s]=r()(t);return(0,o.jsx)(a.Input,{...t,value:n,onChange:e=>{s(e.target.value?e.target.value.toUpperCase():e.target.value,e)}})},c=(0,l.createWithRemoteLoader)({modules:["FormInfo@formModule"]})((e=>{let{remoteModules:t,...n}=e;const[a]=t,{hooks:s}=a,{useDecorator:r}=s;return r(Object.assign({placeholder:"\u8bf7\u8f93\u5165".concat(n.label||"")},n))(i)}));c.field=i;const d=c},92328:(e,t,n)=>{n.d(t,{A:()=>v});var a=n(10986),s=n.n(a),r=n(98434),l=n(55199),o=n(69484);const i="style_money-input__Pyur7__hcBlJ",c="style_money-description__9pFk4__hcBlJ";var d=n(83136),u=n.n(d),p=n(34677),m=n.n(p),h=n(73884),f=n(70579);const{isNotEmpty:g}=r.util,{useOnChange:_}=r.hooks,x=e=>{let{chineseEmpty:t,className:n,showError:a,errorDesc:r,transformMoneyToChinese:d,onBlur:p,moneyFormat:_,...x}=e;const[y,v]=(0,h.useState)(""),[j,b]=s()(x),N=m()({controls:!1,precision:2,addonAfter:"\u5143"},x,{max:g(x.max)?x.max>o.e?o.e:x.max:o.e});return(0,f.jsxs)("div",{className:u()(n,"money-input",i),children:[(0,f.jsx)(l.InputNumber,{...N,status:y,formatter:_?e=>"".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,","):null,parser:e=>{const t=_?null===e||void 0===e?void 0:e.replace(/\$\s?|(,*)/g,""):e;return g(t)?(Number(t)>Number(N.max)||g(N.min)&&Number(t)<Number(N.min))&&v("error"):v(""),g(t)?Number(t):null},onChange:e=>{b(e)},onBlur:e=>{p&&p(e,v)}}),(0,f.jsx)("div",{className:u()(c),children:"error"===y&&a?r:g(j)?(0,o.A)(d?d(j):j):t})]})},y=e=>_(Object.assign({placeholder:"\u8bf7\u8f93\u5165".concat(e.label||"")},e))(x);y.Field=x,y.toChineseCharacter=o.A;const v=y},88893:(e,t,n)=>{n.d(t,{N:()=>y,A:()=>v});var a=n(88701),s=n(55199),r=n(98434),l=n(78491),o=n.n(l),i=n(10986),c=n.n(i),d=n(33097),u=n.n(d);const p={"country-select":"style_country-select__Ztf-V__hcBlJ","flag-img":"style_flag-img__RGhcM__hcBlJ"};var m=n(13050),h=n(70579);const{useDecorator:f}=r.hooks,g=(0,m.createWithRemoteLoader)({modules:["components-iconfont:CountyFlag"]})((e=>{let{remoteModules:t,value:n,onChange:a}=e;const[r]=t;return(0,h.jsx)(r,{children:e=>{let{list:t}=e;return(0,h.jsx)(s.Select,{popupMatchSelectWidth:300,className:p["country-select"],value:n||"CN",onChange:a,placeholder:"\u8bf7\u9009\u62e9\u56fd\u5bb6",showSearch:!0,filterOption:(e,t)=>t.name.indexOf(e)>-1,optionLabelProp:"code",options:t.map((e=>{let{country_name_cn:t,country_code:n,ab:a}=e;return{value:a,code:"(+".concat(n,")"),name:t,label:(0,h.jsxs)(s.Space,{align:"center",children:[(0,h.jsx)("span",{className:p["country-name"],children:t}),(0,h.jsxs)("div",{children:["(+",n,")"]})]})}}))})}})})),_=e=>{const{className:t,onBlur:n,name:r,...l}=e,[i,d]=c()(e),p=o()(n||(()=>{})),m=e=>new a.AsYouType(u()(e,"code","CN")).input(u()(e,"value",""));return(0,h.jsx)("div",{className:t,ref:p,children:(0,h.jsx)(s.Input,{...l,addonBefore:(0,h.jsx)(g,{value:u()(i,"code","CN"),onChange:e=>{d&&d(Object.assign({},i,{code:e,value:m({code:e,value:u()(i,"value","")})})),n&&n()}}),value:u()(i,"value",""),onChange:e=>{d&&d(Object.assign({code:"CN"},i,{value:e.target.value,code:u()(i,"code","CN")}))},onBlur:e=>{d&&d(Object.assign({code:"CN"},i,{value:m({value:e.target.value,code:u()(i,"code","CN")})})),n&&n()}})})},x=e=>{let{rule:t,...n}=e;const a=f(Object.assign({placeholder:"\u8bf7\u8f93\u5165".concat(n.label||""),rule:(e=>{const t=(e||"").split(" "),n=t.indexOf("REQ");return n>-1?t.splice(n+1,0,"PHONE_NUMBER"):t.unshift("PHONE_NUMBER"),t.join(" ")})(t)},n));return a(_)};x.Field=_,x.defaultProps={},x.format=e=>{let{code:t,value:n}=e;const s=t?(0,a.getCountryCallingCode)(t):null;return s&&n?"+".concat(s," ").concat(n):""};const y=async(e,t)=>{let{field:a}=t;if((a.rule||"").split(" ").indexOf("REQ")>-1&&!u()(e,"value"))return{result:!1,errMsg:"%s\u4e0d\u80fd\u4e3a\u7a7a"};if(!u()(e,"value"))return{result:!0};return{result:await Promise.all([n.e(8481),n.e(6900)]).then(n.bind(n,6900)).then((t=>{let{isValidPhoneNumber:n}=t;return n(u()(e,"value",""),{defaultCountry:u()(e,"code","CN"),extract:!0})})),errMsg:"%s\u683c\u5f0f\u4e0d\u6b63\u786e"}},v=x},6179:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(55199),s=n(98434);const{useOnChange:r}=s.hooks,l=e=>r(Object.assign({placeholder:"\u8bf7\u9009\u62e9".concat(e.label||"")},e))(a.Rate);l.defaultProps={fieldName:"rate"};const o=l},36972:(e,t,n)=>{n.d(t,{A:()=>F});var a=n(73884),s=n(98434),r=n(78491),l=n.n(r),o=n(55199);const i="style_salary__sUOtT__hcBlJ",c="style_salary-type__Sl1LC__hcBlJ",d="style_input-number__eoEZr__hcBlJ",u="style_full__NPqJm__hcBlJ",p="style_input-group__toLB7__hcBlJ",m="style_input-group-no-mb__C4nzh__hcBlJ";var h=n(58609),f=n(55431),g=n(48731),_=n(10986),x=n.n(_),y=n(21079),v=n(70579);const{field:j}=s.Select.Fetch,{useDecorator:b,useUIDecorator:N}=s.hooks,A=e=>{if(!e)return"";const t=isNaN(Number(e))?e:Math.abs(Number(e));return e.split(".")[1]&&e.split(".")[1].length>2?t.toFixed(2):t},w=e=>{let{children:t,isError:n}=e;return(0,v.jsx)("div",{style:{marginBottom:0},className:"react-form__field ".concat(n?"is-error":""),children:(0,v.jsx)("div",{className:"react-form__field-main",children:(0,v.jsx)("div",{className:"react-form__field-input",children:(0,a.cloneElement)(t,{className:"react-form__field-component"})})})})},C=e=>{let{getPopupContainer:t,onBlur:n,api:a,isRange:s=!0,placeholder:r,disabled:f,showMonth:_,remindUnit:b,req:N,...C}=e;const[S,P]=x()(C);console.log(S,"\u85aa\u8d44");const{formatMessage:F}=(0,h.useIntl)({moduleName:"FormInfo"}),B=F({id:"defaultSelectPlaceholder"},{label:""}),I=F({id:"defaultInputPlaceholder"},{label:""}),k=[6].indexOf((0,y.get)(S,"type"))>-1,O=1===(0,y.get)(S,"type"),E=7===(0,y.get)(S,"type"),T=e=>{if(e)return k?e/1e4:e},M=l()(n||(()=>{}));return(0,v.jsx)("div",{ref:M,className:i,children:(0,v.jsxs)(o.Row,{wrap:!1,gutter:10,children:[(0,v.jsx)(o.Col,{children:(0,v.jsx)(j,{className:c,...a,value:(0,y.get)(S,"type"),onChange:e=>{P&&P(Object.assign({},O?{}:S,{type:e,min:"",max:""}))},placeholder:r||B,getPopupContainer:t,disabled:f,children:e=>{let{data:t}=e;return{options:t||[]}}})}),O?null:(0,v.jsxs)(o.Col,{flex:1,children:[s&&(0,v.jsxs)(o.Space.Compact,{className:b&&[5,6].includes(null===S||void 0===S?void 0:S.type)?p:m,children:[(0,v.jsx)(w,{isError:!(0,y.get)(S,"min")&&N,children:(0,v.jsx)(o.InputNumber,{disabled:f,placeholder:I,formatter:A,value:T((0,y.get)(S,"min")),style:{width:100,textAlign:"center"},onChange:e=>{P(Object.assign({},S,{min:k?1e4*e:e}))},description:b&&[5,6].includes(null===S||void 0===S?void 0:S.type)?(0,v.jsxs)("span",{style:{color:"#fc3333"},children:["\u6ce8\u610f\uff1a",(0,v.jsx)(g.default,{name:null===S||void 0===S?void 0:S.type,moduleName:"salaryTypeEnum"}),"\u7684\u5355\u4f4d\u4e3a",k?F({id:"thousand"}):E?"":F({id:"yuan"})]}):null})}),(0,v.jsx)(o.Input,{style:{width:30,borderLeft:0,borderRight:0,pointerEvents:"none"},placeholder:"~",disabled:!0}),(0,v.jsx)(w,{isError:!(0,y.get)(S,"max")&&N,children:(0,v.jsx)(o.InputNumber,{disabled:f,placeholder:I,formatter:A,value:T((0,y.get)(S,"max")),style:{width:_?108:131,textAlign:"center"},addonAfter:k?F({id:"thousand"}):E?"":F({id:"yuan"}),onChange:e=>{P(Object.assign({},S,{max:k?1e4*e:e}))}})}),5===(0,y.get)(S,"type")&&_&&(0,v.jsxs)("span",{className:(0,y.get)(S,"max")&&(0,y.get)(S,"min")&&!(0,y.get)(S,"month")&&N?"error":"",children:[(0,v.jsx)("span",{className:d,children:"X"}),(0,v.jsx)(o.InputNumber,{min:12,disabled:f,value:(0,y.get)(S,"month"),onChange:e=>{P(Object.assign({},S,{month:e}))},style:{width:100,textAlign:"center"},placeholder:"\u6570\u91cf",addonAfter:"\u6708"})]})]}),!s&&!E&&(0,v.jsx)(o.InputNumber,{disabled:f,min:0,max:1e8,placeholder:I,className:u,formatter:A,value:T((0,y.get)(S,"max")),style:{width:151,textAlign:"center"},addonAfter:k?F({id:"thousand"}):E?"":F({id:"yuan"}),onChange:e=>{P(Object.assign({},S,{max:k?1e4*e:e}))}}),!s&&E&&(0,v.jsx)(o.Input,{disabled:f,placeholder:I,className:u,onChange:e=>{P(Object.assign({},S,{max:e.target.value}))},value:(0,y.get)(S,"max"),style:{width:151,textAlign:"center"}})]})]})})},S=e=>(0,v.jsx)(h.IntlProvider,{moduleName:"FormInfo",importMessages:f.A,children:(0,v.jsx)(C,{...e})});S.defaultProps={api:{loader:()=>[{value:1,label:"\u9762\u8bae"},{value:2,label:"\u65f6\u85aa"},{value:3,label:"\u65e5\u85aa"},{value:4,label:"\u5468\u85aa"},{value:5,label:"\u6708\u85aa"},{value:6,label:"\u5e74\u85aa"}]},defaultValue:{type:5,min:"",max:"",month:12}};const P=e=>{var t;return b({...e,req:(null===e||void 0===e||null===(t=e.rule)||void 0===t?void 0:t.indexOf("REQ"))>-1})(S)};P.Field=S;const F=P},50192:(e,t,n)=>{n.d(t,{A:()=>x});var a=n(87558),s=n(83136),r=n.n(s);const l="style_table__A9nBK__hcBlJ";var o=n(21079),i=n(27777),c=n(98434),d=n(10986),u=n.n(d),p=n(73884),m=n(70579);const{useOnChange:h}=c.hooks,f=(0,a.withFetch)((e=>{let{...t}=e;const[n,a]=u()(t),s=["isLoading","isComplete","data","requestParams","error","send","refresh","reload","loadMore","setData"],c=(0,o.pick)(t,s),d=(0,o.omit)(t,s),{rowKey:h="id",columns:f,className:g,innerName:_,headerRender:x,footerRender:y}=d,v=t.dataFormat(c.data),j=(e,t,n)=>{let{current:s,rowKeyValue:r,dataIndex:l}=n;const o={},i=e.slice(0).map((e=>{if(e[h]===r)return o[e[h]]={...e,[l]:s},{...e,[l]:s};{const n=t[e[h]];return o[e[h]]=Object.assign({},e,n),Object.assign({},e,n)}})),d={pageData:i,totalCount:i.length};c.setData(d),a&&a(o)},b=(0,p.useRef)(null);return b.current=j,(0,p.useEffect)((()=>{v.list.every((e=>{const t=n[e[h]]||{};return Object.keys(e).every((e=>t.hasOwnProperty(e)))}))&&Object.keys(n).length===v.list.length||!c.isComplete||b.current(v.list,n,{})}),[c.isComplete,n,v.list,h]),(0,m.jsxs)("div",{children:[x&&x(c),(0,m.jsx)(i.Table,{...d,className:r()(l,g),rowKey:h,dataSource:v.list,pagination:!1,columns:f.map((e=>{const t={...e};return t.dataIndex?Object.assign({},t,{render:(e,a,s)=>{const r=!t.editable||("function"===typeof t.editable?t.editable(e,a,s,v.list):t.editable),l=a[h],i=n[l],d=(0,o.get)(i,t.dataIndex)||e;if(r&&t.field){var u,p;if(null!==(u=t.field)&&void 0!==u&&u.render)return(0,m.jsx)(m.Fragment,{children:t.field.render({value:d,name:"".concat(_,".").concat(l,".").concat(t.dataIndex),label:" ",labelHidden:t.labelHidden,onChange:function(){for(var e,a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];const o=null!==(e=t.field)&&void 0!==e&&e.getValue?t.field.getValue(s[0]):s[0];return j(v.list,n,{current:o,rowKeyValue:l,dataIndex:t.dataIndex}),t.field.onChange&&t.field.onChange(...s,c)}},a,s,c)});const e=null===(p=t.field)||void 0===p?void 0:p.type;return(0,m.jsx)(e,{...(0,o.omit)(t.field,["type","getValue"]),value:d,name:"".concat(_,".").concat(l,".").concat(t.dataIndex),label:" ",labelHidden:t.labelHidden,onChange:function(){for(var e,a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];const o=null!==(e=t.field)&&void 0!==e&&e.getValue?t.field.getValue(s[0]):s[0];return j(v.list,n,{current:o,rowKeyValue:l,dataIndex:t.dataIndex}),t.field.onChange&&t.field.onChange(...s,c)}})}return t.render?t.render(d,a,s):d}}):t}))}),y&&y(c)]})}));f.defaultProps={mergeList:(e,t)=>Object.assign({},t,{pageData:(e.pageData||[]).concat(t.pageData||[])}),dataFormat:e=>({list:e.pageData,total:e.totalCount})};const g=e=>{let{api:t,...n}=e;return(0,m.jsx)(f,{...n,...t})};g.defaultProps={api:{},value:{}};const _=e=>h(Object.assign({placeholder:"\u8bf7\u9009\u62e9".concat(e.label),innerName:e.name},e))(g);_.Field=g;const x=_},56259:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(89319),s=n(98434);const{useOnChange:r}=s.hooks,l=e=>r(Object.assign({},{},e))(a.A);l.Field=a.A;const o=l},89099:(e,t,n)=>{n.d(t,{A:()=>j});var a=n(55199),s=n(83136),r=n.n(s),l=n(10986),o=n.n(l);const i="style_upload__t422Q__hcBlJ",c="style_upload-list__Q9HDc__hcBlJ",d="style_tips__3Gpnu__hcBlJ";var u=n(64671),p=n(67390),m=n(98434),h=n(1488),f=n.n(h),g=n(29574),_=n(70579);const{useOnChange:x}=m.hooks,y=e=>{let{className:t,fileSize:n,maxLength:s,multiple:l,size:u,accept:m,children:h,renderTips:x,showUploadList:y,onSave:v,ossUpload:j,getPermission:b,...N}=e;const[A,w]=o()(N),C=A||[],{fileList:S,onFileSelected:P}=(0,g.lN)({multiple:l,onSave:v,ossUpload:j,fileSize:n,maxLength:s,value:C,onChange:w,concurrentCount:10}),F=[...S,...C],B=x("\u652f\u6301\u6269\u5c55\u540d".concat(m.map((e=>e.replace(/^\./,""))).join("\u3001"),",\u5355\u4e2a\u6587\u4ef6\u5927\u5c0f\u4e0d\u8d85\u8fc7").concat(n,"M\uff0c\u6700\u591a\u4e0a\u4f20").concat(s,"\u4e2a\u9644\u4ef6"),{fileSize:n,maxLength:s,accept:m});return(0,_.jsxs)(a.Space,{direction:"vertical",children:[(0,_.jsxs)(a.Space,{children:[(0,_.jsx)(g.Zi,{...f()(N,["value","onChange"]),size:u,multiple:l,accept:m,className:r()(i,t),onChange:P,children:h}),B&&(0,_.jsx)("div",{className:d,children:B})]}),y&&F.length>0&&(0,_.jsx)(p.List,{className:c,dataSource:F,infoItemRenders:[],getPermission:b||(e=>"delete"===e),apis:{onDelete:e=>{const t=C.slice(0),n=t.indexOf(e);n>-1&&t.splice(n,1),w(t)}}})]})};y.defaultProps={defaultValue:[],children:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(u.default,{type:"icon-shangchuanfujian"}),"\u4e0a\u4f20\u9644\u4ef6"]}),accept:[".pdf",".jpg",".png",".jpeg",".doc",".docx",".xls",".xlsx",".html",".msg",".zip"],renderTips:e=>e,multiple:!0,showUploadList:!0,maxLength:10,fileSize:30};const v=e=>x(e)(y);v.defaultProps={interceptor:"file-format"},v.field=y;const j=v},10328:(e,t,n)=>{n.d(t,{A:()=>T,E:()=>M});var a=n(98434),s=n(30096),r=n(1904),l=n(83230),o=n(81026),i=n(78756),c=n(92328),d=n(88893),u=n(89099),p=n(96339),m=n(36972),h=n(15209),f=n(50192),g=n(6179),_=n(74529),x=n.n(_),y=n(73884),v=n(58609),j=n(33097),b=n.n(j),N=n(21079),A=n(46237),w=n(56259),C=n(70579);const S=e=>t=>{const n=x()(...e)((e=>{let{forwardedRef:n,...a}=e;return(0,C.jsx)(t,{...a,ref:n})})),a=(0,y.forwardRef)(((e,t)=>(0,C.jsx)(n,{...e,forwardedRef:t})));return Object.keys(t).filter((e=>-1===["$$typeof","render","field"].indexOf(e))).forEach((e=>{a[e]=t[e]})),a},P=e=>t=>{let{placeholder:n,label:a,...s}=t;return(0,C.jsx)(v.FormattedMessage,{id:"defaultInputPlaceholder",moduleName:"FormInfo",values:{label:a},children:t=>(0,C.jsx)(e,{...s,label:a,placeholder:n||t})})},F=e=>t=>{let{placeholder:n,label:a,...s}=t;return(0,C.jsx)(v.FormattedMessage,{id:"defaultSelectPlaceholder",moduleName:"FormInfo",values:{label:a},children:t=>(0,C.jsx)(e,{...s,label:a,placeholder:n||t})})},B=e=>t=>{const n=(0,a.useGroup)(),s=b()(n,"name"),r=(0,N.get)(n,"index"),l=(0,A.oc)();return l&&Array.isArray(l)&&l.length>0?l.map((n=>{if("string"===typeof n)return(0,y.createElement)(e,{...t,key:n});const{name:a,label:l,options:o}=n,i=b()(o,"ignore",[]),c=b()(o,"disabled",[]),d=b()(o,"fields",[]),u=e=>t.name===e.name&&!(e.hasOwnProperty("groupName")&&e.groupName!==s)&&!(e.hasOwnProperty("groupIndex")&&e.groupIndex!==r);if(i.length>0&&i.find(u))return null;if(d.length>0&&!d.find(u))return null;let p=Object.assign({},t,{name:b()(o,"nameTransform",((e,t)=>"".concat(e).concat(t)))(t.name,a),label:b()(o,"labelTransform",((e,t)=>e&&"".concat(e).concat(t)))(t.label,l)});return c.length>0&&c.find(u)&&(p.disabled=!0,p.rule=""),(0,y.createElement)(e,{...p,key:a})})):(0,C.jsx)(e,{...t})},I=S([B,P])(a.Input),k=S([B,P])(a.InputNumber);I.Password=S([B,P])(a.Input.Password);const O=S([B,F])(a.DatePicker);O.MonthPicker=S([B,F])(a.DatePicker.MonthPicker),O.RangePicker=S([B,F])(a.DatePicker.RangePicker),O.WeekPicker=S([B,F])(a.DatePicker.WeekPicker);const E=S([B,F])(a.TimePicker);E.RangePicker=S([B,F])(a.TimePicker.RangePicker);const T={Input:I,InputNumber:k,DatePicker:O,TimePicker:E,DatePickerToday:S([B])((e=>{let{placeholder:t,label:n,soFarText:s,...r}=e;const{formatMessage:l}=(0,v.useIntl)({moduleName:"FormInfo"});return(0,C.jsx)(a.DatePickerToday,{...r,label:n,placeholder:[l({id:"startDate"}),l({id:"endDate"})],soFarText:s||l({id:"soFarText"})})})),RadioGroup:S([B])(a.RadioGroup),CheckboxGroup:S([B])(a.CheckboxGroup),Rate:S([B])(g.A),TableInput:S([B])(f.A),SalaryInput:S([B])(m.A),TypeDateRangePicker:S([B])(w.A),MoneyInput:S([B])(c.A),PhoneNumber:S([B])(d.A),Upload:S([B])(u.A),Avatar:S([B])(p.A),FunctionSelect:S([B,F])(o.A),IndustrySelect:S([B,F])(i.A),Cascader:S([B,F])(l.A),AddressSelect:S([B,F])(r.A),AddressInput:S([B,F])(r.N),TreeSelect:S([B,F])(a.TreeSelect),ReactInputNumber:S([B,P])(a.InputNumber),InputUpperCase:S([B,P])(h.A),Select:S([B,F])(a.Select),TextArea:S([B,P])(a.TextArea),AdvancedSelect:S([B,F])(s.Ay)},M={createWithFieldDecorator:S,withInputDefaultPlaceholder:P,withSelectDefaultPlaceholder:F,withLang:B}},83799:(e,t,n)=>{n.d(t,{NI:()=>T,TQ:()=>d.A,JL:()=>E,eu:()=>_.A,vx:()=>u.A,lr:()=>V,s3:()=>H,lV:()=>s.A,d4:()=>p.A,ZN:()=>m.A,pd:()=>R,YI:()=>z,h2:()=>M,F0:()=>h.A,go:()=>f.A,tt:()=>B.A,lu:()=>x.A,l6:()=>D,N:()=>j.A,EY:()=>F,fs:()=>L,AG:()=>W,f7:()=>U,w5:()=>v.A,_O:()=>g.A,nk:()=>q});var a=n(98434),s=n(85696),r=n(58609),l=n(73884),o=n(30891),i=n(47094),c=n(30096),d=n(1904),u=n(83230),p=n(81026),m=n(78756),h=n(92328),f=n(88893),g=n(89099),_=n(96339),x=n(36972),y=n(15209),v=n(56259),j=n(50192),b=n(55199),N=n(10986),A=n.n(N),w=n(70579);const{useDecorator:C}=a.hooks,S=e=>{let{children:t,...n}=e;const[a]=A()(n);return(0,w.jsxs)(b.Typography.Text,{...n,children:[(0,w.jsx)("div",{style:{height:0,width:0,overflow:"hidden"},children:(0,w.jsx)(b.Input,{value:a})}),t||a]})},P=e=>C(e)(S);P.Field=S;const F=P;var B=n(6179),I=n(45053);const k=e=>{const t=(0,l.forwardRef)(((t,n)=>{let{placeholder:a,label:s,...l}=t;return(0,w.jsx)(r.FormattedMessage,{id:"defaultInputPlaceholder",moduleName:"FormInfo",values:{label:s},children:t=>(0,w.jsx)(e,{...l,ref:n,label:s,placeholder:a||t})})}));return Object.keys(e).filter((e=>-1===["$$typeof","render","field"].indexOf(e))).forEach((n=>{t[n]=e[n]})),t},O=e=>{const t=(0,l.forwardRef)(((t,n)=>{let{placeholder:a,label:s,...l}=t;return(0,w.jsx)(r.FormattedMessage,{id:"defaultSelectPlaceholder",moduleName:"FormInfo",values:{label:s},children:t=>(0,w.jsx)(e,{...l,ref:n,label:s,placeholder:a||t})})}));return Object.keys(e).filter((e=>-1===["$$typeof","render","field"].indexOf(e))).forEach((n=>{t[n]=e[n]})),t},E=O(c.Ay),T=O(d.N),M=k(y.A),R=k(a.Input);R.Password=k(a.Input.Password);const L=(J=a.TextArea,e=>{let{placeholder:t,label:n,className:a,...s}=e;return(0,w.jsx)(r.FormattedMessage,{id:"defaultInputPlaceholder",moduleName:"FormInfo",values:{label:n},children:e=>(0,w.jsx)("div",{className:i.A["textarea-wrapped-component"],children:(0,w.jsx)(J,{...s,label:n,placeholder:t||e})})})});var J;const D=O(a.Select);D.Fetch=O(a.Select.Fetch),D.Fetch.field=a.Select.Fetch.field;const z=k(a.InputNumber),U=O(a.TreeSelect);U.Fetch=O(a.TreeSelect.Fetch),U.Fetch.field=a.TreeSelect.Fetch.field;const W=O(a.TimePicker);W.RangePicker=O(a.TimePicker.RangePicker);const V=O(a.DatePicker);V.MonthPicker=O(a.DatePicker.MonthPicker),V.RangePicker=O(a.DatePicker.RangePicker),V.WeekPicker=O(a.DatePicker.WeekPicker);const H=e=>{let{placeholder:t,label:n,soFarText:s,...l}=e;const{formatMessage:o}=(0,r.useIntl)({moduleName:"FormInfo"});return(0,w.jsx)(a.DatePickerToday,{...l,label:n,placeholder:[o({id:"startDate"}),o({id:"endDate"})],soFarText:s||o({id:"soFarText"})})},q=Object.assign({},a,{Input:R,InputUpperCase:M,TextArea:L,Select:D,InputNumber:z,TreeSelect:U,TimePicker:W,DatePicker:V,DatePickerToday:H,Form:s.A,FormItem:o.A,AdvancedSelect:E,AddressSelect:d.A,AddressInput:T,MoneyInput:h.A,PhoneNumber:f.A,Cascader:u.A,FunctionSelect:p.A,IndustrySelect:m.A,TypeDateRangePicker:v.A,Upload:g.A,Avatar:_.A,SalaryInput:x.A,TableInput:j.A,Text:F,Rate:B.A,ErrorTip:I.A})},96252:(e,t,n)=>{n.r(t),n.d(t,{AddressInput:()=>_.NI,AddressSelect:()=>_.TQ,AdvancedSelect:()=>_.JL,Avatar:()=>_.eu,Cascader:()=>_.vx,DatePicker:()=>_.lr,DatePickerToday:()=>_.s3,ErrorTip:()=>h.A,Form:()=>p.A,FormApiButton:()=>i.A,FormDrawer:()=>u.Ay,FormDrawerButton:()=>u.WJ,FormItem:()=>m.A,FormModal:()=>c.Ay,FormModalButton:()=>c.W6,FormStepModal:()=>d.Ay,FormStepModalButton:()=>d.Wp,FunctionSelect:()=>_.d4,IndustrySelect:()=>_.ZN,Input:()=>_.pd,InputNumber:()=>_.YI,InputUpperCase:()=>_.h2,List:()=>l.A,MoneyInput:()=>_.F0,PhoneNumber:()=>_.go,Rate:()=>_.tt,SalaryInput:()=>_.lu,Select:()=>_.l6,SelectInnerInput:()=>x.A,TableInput:()=>_.N,TableList:()=>o.A,Text:()=>_.EY,TextArea:()=>_.fs,TimePicker:()=>_.AG,TreeSelect:()=>_.f7,TypeDateRangePicker:()=>_.w5,Upload:()=>_._O,default:()=>y,fieldDecorator:()=>r.E,fields:()=>r.A,formModule:()=>_.nk,useFormDrawer:()=>u.Xy,useFormModal:()=>c.Vl,useFormStepModal:()=>d.$X});var a=n(64261),s=n(2196),r=n(10328),l=n(85846),o=n(97056),i=n(35774),c=n(5995),d=n(94005),u=n(48221),p=n(85696),m=n(30891),h=n(45053),f=n(98434),g={};for(const v in f)["default","Form","FormItem","ErrorTip","fields","fieldDecorator","List","TableList","FormApiButton","FormModal","useFormModal","FormModalButton","FormStepModal","useFormStepModal","FormStepModalButton","FormDrawer","useFormDrawer","FormDrawerButton","SelectInnerInput"].indexOf(v)<0&&(g[v]=()=>f[v]);n.d(t,g);var _=n(83799),x=n(18936);(0,a.A)(),s.A.fields=r.A,s.A.List=l.A,s.A.TableList=o.A,s.A.FormApiButton=i.A,s.A.FormModal=c.Ay,s.A.useFormModal=c.Vl,s.A.FormModalButton=c.W6,s.A.FormStepModal=d.Ay,s.A.useFormStepModal=d.$X,s.A.FormStepModalButton=d.Wp,s.A.FormDrawer=u.Ay,s.A.useFormDrawer=u.Xy,s.A.FormDrawerButton=u.WJ,s.A.Form=p.A,s.A.FormItem=m.A,s.A.ErrorTip=h.A,s.A.SubmitButton=f.SubmitButton,s.A.CancelButton=f.CancelButton,s.A.fieldDecorator=r.E;const y=s.A},55431:(e,t,n)=>{n.d(t,{A:()=>a});const a=e=>({"en-US":()=>n.e(1649).then(n.bind(n,21649)),"zh-CN":()=>n.e(711).then(n.bind(n,80711))}[e]())},64261:(e,t,n)=>{n.d(t,{A:()=>m});var a=n(98434),s=n(57469),r=n.n(s),l=n(34677),o=n.n(l),i=n(33097),c=n.n(i),d=(n(17448),n(88893)),u=n(46732),p=n(70579);const m=(e,t)=>{const{locale:n}=Object.assign({},t);a.interceptors.output.use("photo-string",(e=>{var t,n;return e&&"string"!==typeof e?(null===(t=e.id)||void 0===t||null===(n=t.split("?"))||void 0===n?void 0:n[0])||e.id:e})),a.interceptors.input.use("to-array",(e=>Array.isArray(e)?e[0]:e)),a.interceptors.output.use("to-array",(e=>[e])),a.interceptors.input.use("array-single",(e=>e?[e]:[])),a.interceptors.output.use("array-single",(e=>e?e[0]:null)),a.interceptors.input.use("date-string",(e=>e?r()(e):null)),a.interceptors.output.use("date-string",(e=>e?new Date(e.valueOf()).toISOString():"")),a.interceptors.input.use("date-range-string",(e=>{if(!Array.isArray(e))return[];const t=[];return e[0]&&t.push(r()(e[0])),e[0]&&e[1]&&"sofar"===e[1]&&t.push("\u81f3\u4eca"),e[0]&&e[1]&&"\u81f3\u4eca"!==e[1]&&t.push(r()(e[1])),t})),a.interceptors.output.use("date-range-string",(e=>{if(!Array.isArray(e))return[];const t=[];return e[0]&&t.push(new Date(e[0].valueOf()).toISOString()),e[0]&&e[1]&&"\u81f3\u4eca"===e[1]&&t.push("sofar"),e[0]&&e[1]&&"\u81f3\u4eca"!==e[1]&&t.push(new Date(e[1].valueOf()).toISOString()),t})),a.interceptors.output.use("file-format",(e=>Array.isArray(e)?e.map((e=>({id:e.id||e.ossId,originalName:e.filename}))):[])),a.interceptors.input.use("file-format",(e=>Array.isArray(e)?e.map((e=>({id:e.id||e.ossId,ossId:e.id||e.ossId,filename:e.originalName}))):[]));const s=a.RULES.REQ,l=a.RULES.LEN,i=(e,t)=>{t=Object.assign({},t);const a={REQ:{"zh-CN":"%s\u4e0d\u80fd\u4e3a\u7a7a","en-US":"%s cannot be empty "},LENGTH_EQUAL:{"zh-CN":"%s\u5fc5\u987b\u7b49\u4e8e".concat(t.end),"en-US":"%s must be equal to ".concat(t.end)},LENGTH_MORE:{"zh-CN":"%s\u5fc5\u987b\u5927\u4e8e".concat(t.start),"en-US":"%s must be greater than ".concat(t.start)},LENGTH_LESS:{"zh-CN":"%s\u5fc5\u987b\u5c0f\u4e8e".concat(t.end),"en-US":"%s must be less than ".concat(t.end)}},s=c()(a,"".concat(e,".").concat(n));return s||c()(a,"".concat(e,".zh-CN"))};(0,a.preset)(o()({},{rules:{REQ:function(){return Object.assign({},s(...arguments),{errMsg:i("REQ")})},LEN:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const[a,s,r]=t;let o="";return r===s&&a.length!==Number(r)&&(o="LENGTH_EQUAL"),a.length<s&&(o="LENGTH_MORE"),r&&a.length>r&&(o="LENGTH_LESS"),Object.assign({},l(...t),{errMsg:i(o,{start:s,end:r})})},PHONE_NUMBER:d.N,ARRAY_LENGTH:(e,t,n)=>n===t&&e.length!==Number(n)?{result:!1,errMsg:i("LENGTH_EQUAL",{start:t,end:n})}:e.length<t?{result:!1,errMsg:i("LENGTH_MORE",{start:t,end:n})}:n&&e.length>n?{result:!1,errMsg:i("LENGTH_LESS",{start:t,end:n})}:{result:!0}},field:{datePicker:{defaultProps:{interceptor:"date-string"}},rangeDatePicker:{defaultProps:{interceptor:"date-range-string"}},textArea:{defaultProps:{autoSize:{minRows:2,maxRows:6}}}},globalProps:{labelTips:e=>(0,p.jsx)(u.A,{...e})}},"function"===typeof e?e({interceptors:a.interceptors,RULES:a.RULES}):e))}},75363:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});const a=e=>({"en-US":()=>n.e(9431).then(n.bind(n,9431)),"zh-CN":()=>n.e(1065).then(n.bind(n,81065))}[e]());var s=n(58609),r=n(64671),l=n(55199),o=n(83136),i=n.n(o);const c="style_helper-guide__K5xFw__hcBlJ",d="style_inner__bMKeU__hcBlJ",u="style_content__xTfWZ__hcBlJ",p="style_link__93j7O__hcBlJ";var m=n(48731),h=n(70579);const f=e=>{let{name:t,className:n}=e;return(0,h.jsx)(s.IntlProvider,{importMessages:a,moduleName:"HelperGuide",children:(0,h.jsx)(m.default,{moduleName:"helperGuide",name:t,children:e=>e&&e.value&&(0,h.jsx)("div",{className:i()(c,n),children:(0,h.jsxs)(l.Space,{className:d,children:[(0,h.jsx)(r.default,{colorful:!0,type:"icon-color-bangzhuyindao"}),(0,h.jsx)("span",{className:u,children:e.content}),e.url&&(0,h.jsxs)(l.Typography.Link,{className:p,href:e.url,target:"_blank",children:["\u67e5\u770b\u5e2e\u52a9",(0,h.jsx)(r.default,{type:"icon-shuangjiantou-right"})]})]})})})})}},1454:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var a=n(55199),s=n(83136),r=n.n(s),l=n(64671);const o="style_part__+Vw3+__hcBlJ",i="style_collapse__ARl-O__hcBlJ",c="style_is-active__i1zHH__hcBlJ";var d=n(70579);const u=e=>{let{children:t,className:n,...s}=e;return(0,d.jsx)(a.Collapse,{...s,className:r()(i,n),expandIcon:e=>{let{isActive:t}=e;return(0,d.jsx)(l.default,{size:12,className:r()({[c]:t}),type:"icon-triangle-right"})},children:t})};u.Panel=a.Collapse.Panel;const p=u,m=e=>{let{className:t,children:n}=e;return(0,d.jsx)(a.Space,{className:t,direction:"vertical",size:24,children:n})};m.Part=e=>{let{className:t,title:n,extra:s,children:l,...i}=e;return(0,d.jsx)(a.Card,{className:r()(o,t,{"no-title":!n}),bordered:!1,title:n,extra:s,...i,children:l})},m.Collapse=p;const h=m},55109:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var a=n(96252);const s="style_rich-editor__guy9h__hcBlJ",r="style_read-only__mFMiA__hcBlJ",l="style_hidden__IUpV4__hcBlJ",o="style_no-border__bKLqc__hcBlJ";var i=n(10986),c=n.n(i),d=n(78491),u=n.n(d),p=n(76329),m=n(39803),h=n.n(m),f=(n(25884),n(83136)),g=n.n(f),_=n(73884),x=n(55199),y=n(21079),v=n(18081),j=n.n(v);const b=(e,t)=>{let n=e.split(","),a=n[0].match(/:(.*?);/)[1]||"image/jpeg",s=a.split("/")[1]||"jpg";const r=window.atob(n[1]);let l=r.length;const o=new Uint8Array(l);for(;l--;)o[l]=r.charCodeAt(l);return new File([o],"".concat(t,".").concat(s),{type:a})},N=e=>!!e&&/http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w- ./?%&=]*)?/.test(e);var A=n(70579);const w=[[{header:[1,2,3,4,5,6,!1]}],[{size:["small",!1,"large","huge"]}],[{color:[]},{background:[]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{align:[]}],["image"],["link"],["clean"]],C=e=>{const t=document.createElement("div");return t.innerHTML=e,{text:t.innerText}},S=e=>{const t=document.createElement("A");return t.href=e,t},P=e=>{let{className:t,readOnly:n,preview:a,onBlur:i,placeholder:d,hideToolbar:m,border:f,domain:v,folder:P,type:F,maxHeight:B,...I}=e;const[k,O]=c()(I),E=(0,_.useRef)(!1),T=(0,_.useRef)(null),M=u()((()=>{i&&i()})),{ossApi:R,ossToStatic:L,ajax:J,urlToOss:D}=(0,p.usePreset)(),z=(0,_.useMemo)((()=>k&&"[object Object]"===Object.prototype.toString.call(k)?k.hasOwnProperty("ops")?k:k.hasOwnProperty("blocks")?(e=>{const t=[];for(let n=0;n<(e.blocks||[]).length;n++){const a=e.blocks[n];if(a.data&&("header"===a.type&&(t.push({insert:"".concat(C(a.data.text).text)}),t.push({attributes:{header:a.data.level},insert:"\n"})),"paragraph"===a.type&&t.push({insert:"".concat(C(a.data.text).text,"\n")}),"delimiter"===a.type&&(t.push({attributes:{color:"#000000",size:"huge",bold:!0},insert:" * * *"}),t.push({attributes:{align:"center"},insert:"\n"})),"image"===a.type&&t.push({insert:{image:a.data.file.hasOwnProperty("id")?"".concat(window.location.origin,"/attachment/").concat(a.data.file.id,".png?id=").concat(a.data.file.id,"&originalName=").concat(a.data.file.filename):a.data.file.url}}),"list"===a.type&&(a.data.items||[]).map((e=>{t.push.apply(t,[{insert:"".concat(C(e.content).text)},{attributes:{list:"bullet"},insert:"\n"}])})),"attaches"===a.type)){const e=(0,y.get)(a.data,"file.title")||(0,y.get)(a.data,"title")||"",n=(0,y.get)(a.data,"file.extension")||e.substring(e.lastIndexOf(".")+1),s=a.data.file.hasOwnProperty("id")?"".concat(window.location.origin,"/attachment/").concat(a.data.file.id,".").concat(n,"?id=").concat(a.data.file.id,"&originalName=").concat(e):a.data.file.url;t.push.apply(t,[{attributes:{link:s},insert:e},{insert:"\n"}])}}return{ops:t}})(k):k:k&&"string"===typeof k?{ops:[{insert:"".concat(C(k).text,"\n")}]}:{ops:[]}),[k]),U=((0,_.useMemo)((()=>!(!k||"[object Object]"!==Object.prototype.toString.call(k)||!k.hasOwnProperty("blocks"))),[k]),async(e,t)=>{const n=S(e),a=new URLSearchParams(n.search),s=null===a||void 0===a?void 0:a.get("id"),r=n.pathname.substring(n.pathname.lastIndexOf("/")+1),l=s||r.substring(0,r.lastIndexOf("."));if(l){const{data:n}=await J((0,y.merge)({},R,{params:{id:l},showError:!1})),a=R.transformData?R.transformData(n):n.data;return a?await D({url:j()(a),folder:t}):e}const o=await D({url:e,folder:t});return o||e}),W=async()=>{const e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("accept","image/*"),e.click(),e.onchange=()=>{const t=e.files[0],n=x.message.loading("\u4e0a\u4f20\u4e2d...",0);L({file:t,folder:P}).then((e=>{var t;let a=null===T||void 0===T||null===(t=T.current)||void 0===t?void 0:t.getEditor();const s=a.getSelection().index;a.insertEmbed(s,"image",e,"api"),a.setSelection(s+1),n()}))}},V=async()=>{var e,t;if(T.current){var n=null===(e=M.current)||void 0===e?void 0:e.querySelectorAll(".ql-container img");for(let e=0;e<n.length;e++){const t=n[e];let a=S(t.src);const s=new Image;s.src=t.src;const r=v.some((e=>e.host===a.hostname)),l=v.some((e=>e.host===a.hostname&&!0===e.update));if(r)s.onerror=()=>{l&&U(t.src,P).then((e=>{t.src=e}))};else if(/^data:image/.test(t.src)){const e=(0,y.uniqueId)("base64_")+(new Date).getTime(),n=b(t.src,e);L({file:n,folder:P}).then((async e=>{t.src=e}))}else N(t.src)&&D({url:j()(t.src),folder:P}).then((e=>{e&&(t.src=e)}))}var a=null===(t=M.current)||void 0===t?void 0:t.querySelectorAll(".ql-container a");for(let e=0;e<a.length;e++){const t=a[e];if(N(t.href)){let e=S(t.href);v.some((t=>t.host===e.hostname&&!0===t.update))&&U(t.href,P).then((e=>{t.href=e}))}}}},H=(0,_.useMemo)((()=>({toolbar:{container:w,handlers:{image:e=>{W.call(void 0,I)}}}})),[]);return(0,_.useEffect)((()=>{E.current=!1;const e=setInterval((()=>{T.current&&T.current.editor&&(E.current=!0,V(),clearInterval(e))}),10);return()=>{e&&clearInterval(e)}}),[]),(0,A.jsx)("div",{ref:M,style:{"--max-height":B&&!(0,y.isNaN)(parseFloat(B))?parseFloat(B)+"px":""},className:g()(t,s,{[r]:a||n,[l]:a||m||n,[o]:!1===f}),children:(0,A.jsx)(h(),{ref:T,readOnly:n,modules:H,value:"html"===F?k:z,placeholder:d,theme:"snow",onChange:async(e,t,n,a)=>{const s="html"===F?a.getHTML():a.getContents();V();const r="html"===F?s:await(async e=>{const t=(0,y.get)(e,"ops")||[];for(let n=0;n<t.length;n++){const e=t[n],a=(0,y.get)(e,"insert.image");if(a){let t=S(a);const n=v.some((e=>e.host===t.hostname)),s=v.some((e=>e.host===t.hostname&&!0===e.update));if(n){const t=s?await U(a,P):a;e.insert.image=t}else if(/^data:image/.test(a)){const t=(0,y.uniqueId)("base64_")+(new Date).getTime(),n=b(a,t),s=await L({file:n,folder:P});e.insert.image=s}else if(N(a)){const t=await D({url:j()(a),folder:P});e.insert.image=t||a}}}return{ops:t}})(s);O&&O(r)}})})};P.defaultProps={placeholder:"\u8bf7\u8f93\u5165",hideToolbar:!1,border:!0,value:null,readOnly:!1,preview:!1,defaultValue:{ops:[]},folder:"richEditor",domain:[{host:"localhost",update:!0},{host:"attachment.dev.fatalent.cn",update:!0},{host:"attachment.test.fatalent.cn",update:!0},{host:"attachment.fatalent.cn",update:!0},{host:"fat-dev-static.oss-cn-shanghai.aliyuncs.com"},{host:"fat-test-static.oss-cn-shanghai.aliyuncs.com"},{host:"fat-static.oss-cn-shanghai.aliyuncs.com"}]};const F=P,{useOnBlur:B}=a.hooks,I=e=>B(e)(F);I.Field=I.field=F;const k=I},21554:(e,t,n)=>{n.r(t),n.d(t,{TooltipFetch:()=>F,TooltipInfoLabel:()=>w,default:()=>N});var a=n(55199),s=n(83136),r=n.n(s);const l="style_tooltip__zHGMI__hcBlJ",o="style_large__lvmsm__hcBlJ",i="style_small__nUt0r__hcBlJ",c="style_popup-content__-rKQN__hcBlJ",d="style_title__1EQPq__hcBlJ",u="style_important-info__qTSZY__hcBlJ",p="style_error__yTTq3__hcBlJ",m="style_warning__CMJxz__hcBlJ",h="style_success__AvJVx__hcBlJ",f="style_sub-title__uD8CH__hcBlJ",g="style_content__lzgUz__hcBlJ",_="style_alone__q6q82__hcBlJ",x="style_fetch-content__tEOEV__hcBlJ",y="style_fetch-loading__tN-WB__hcBlJ",v="style_title-info-icon__iY8Q+__hcBlJ";var j=n(70579);const b=e=>{let{overlayClassName:t,title:n,size:s,subtitle:x,content:y,importantInfo:v,importantInfoType:b,moreInfo:N,...A}=e;return(0,j.jsx)(a.Tooltip,{...A,overlayClassName:r()(t,l,{[i]:"small"===s,[o]:"large"===s}),title:(0,j.jsxs)(a.Space,{direction:"vertical",className:c,children:[n&&(0,j.jsx)("div",{className:d,children:n}),v&&(0,j.jsx)("div",{className:r()(u,{[h]:"success"===b,[m]:"warning"===b,[p]:"error"===b}),children:v}),x&&(0,j.jsx)("div",{className:f,children:x}),y&&(0,j.jsx)("div",{className:r()(g,{[_]:[n,x,v,N].every((e=>!e))}),children:y}),N&&(0,j.jsx)("div",{children:N})]})})};b.defaultProps={};const N=b;var A=n(64671);const w=e=>{let{title:t,tooltipTitle:n}=e;return(0,j.jsxs)("div",{children:[t,n?(0,j.jsx)(N,{...n,children:(0,j.jsx)("span",{children:(0,j.jsx)(A.default,{type:"icon-xinxi-miaobian",className:v,size:14})})}):null]})};var C=n(73884),S=n(87558);const P=e=>{let{api:t,children:n,fetchContent:s,showLoading:l,loadingClassName:o,force:i,...c}=e;const[d,u]=(0,C.useState)(!1),p=(0,S.useFetch)(Object.assign({},t,{auto:!1})),{isComplete:m,isLoading:h,data:f,send:g}=p;return(0,j.jsx)(N,{...Object.assign({},c,m?s(f,p):{}),open:d,onOpenChange:async e=>{!e||m&&!i||await g({type:"refresh"}),u(e)},children:(0,j.jsxs)("span",{className:x,children:[n,l&&h?(0,j.jsx)(a.Spin,{size:"small",className:r()(o,y)}):null]})})};P.defaultProps={showLoading:!0};const F=P},47094:(e,t,n)=>{n.d(t,{A:()=>a});const a={"form-outer":"style_form-outer__IWUs0__hcBlJ","form-drawer":"style_form-drawer__uYDXS__hcBlJ","table-list":"style_table-list__6lp-A__hcBlJ","list-item":"style_list-item__hVzQa__hcBlJ","table-list-inner":"style_table-list-inner__uc8DK__hcBlJ","table-list-field":"style_table-list-field__JSJfB__hcBlJ","table-list-header":"style_table-list-header__KXvKa__hcBlJ","is-req":"style_is-req__LfXQf__hcBlJ","table-list-extra":"style_table-list-extra__faYTK__hcBlJ","list-btn":"style_list-btn__WKYkm__hcBlJ","list-part":"style_list-part__Ld0GA__hcBlJ","list-item-part":"style_list-item-part__MzKP7__hcBlJ","money-input":"style_money-input__J86Pb__hcBlJ","money-description":"style_money-description__Gz3p7__hcBlJ","components-upload-wrapper":"style_components-upload-wrapper__Ir0gz__hcBlJ","textarea-wrapped-component":"style_textarea-wrapped-component__r1oKc__hcBlJ","helper-guide-field":"style_helper-guide-field__Wke3w__hcBlJ","field-tips":"style_field-tips__7CIJi__hcBlJ","label-hidden":"style_label-hidden__FzFEN__hcBlJ","error-tip-overlay":"style_error-tip-overlay__aNCGc__hcBlJ","error-tip-overlay-content":"style_error-tip-overlay-content__kDOoQ__hcBlJ"}}}]);
//# sourceMappingURL=192.db4b6754.chunk.js.map