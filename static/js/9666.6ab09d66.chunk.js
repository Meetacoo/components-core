"use strict";(self.webpackChunk_kne_components_components_core=self.webpackChunk_kne_components_components_core||[]).push([[9666,7285],{27285:(e,n,t)=>{t.r(n),t.d(n,{default:()=>c});var s=t(73884),i=t(10486),r=t(66484),o=t(96499);const a=parseInt(String(s.version).split(".")[0])<18;class c extends s.Component{constructor(){super(...arguments),this.elRef=(0,s.createRef)(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame((()=>{this.doResize()})))}}render(){const e=[];for(const n of this.state.customRenderingMap.values())e.push(s.createElement(d,{key:n.id,customRendering:n}));return s.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new o.cy;let n;this.handleCustomRendering=e.handle.bind(e),this.calendar=new r.Calendar(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),e.subscribe((e=>{const t=Date.now(),s=!n;(a||s||this.isUpdating||this.isUnmounting||t-n<100?h:i.flushSync)((()=>{this.setState({customRenderingMap:e},(()=>{n=t,s?this.doResize():this.requestResize()}))}))}))}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){void 0!==this.resizeId&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}c.act=h;class d extends s.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:n}=e,t="function"===typeof n?n(e.renderProps):n;return(0,i.createPortal)(t,e.containerEl)}}function h(e){e()}}}]);
//# sourceMappingURL=9666.6ab09d66.chunk.js.map