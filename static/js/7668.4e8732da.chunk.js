"use strict";(self.webpackChunk_kne_components_components_core=self.webpackChunk_kne_components_components_core||[]).push([[7668],{22396:(e,t,n)=>{n.d(t,{c:()=>r});const r={getItem:e=>{const t=window.localStorage.getItem(e);try{const{dataType:e,value:n}=JSON.parse(t);if("object"===e&&"null"===n)return null;if("undefined"===e)return;return"number"===e?Number(n):"boolean"===e?Boolean(n):n}catch(n){return null}},setItem:(e,t)=>{const n=typeof t;window.localStorage.setItem(e,JSON.stringify({dataType:n,value:t}))}}},17376:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_});var r=n(46964),s=n(84768),a=n(68086),l=n(83416),i=n.n(l),o=n(90948),c=n.n(o),d=n(82496);const u=[["gender",()=>[{value:"M",description:"\u7537"},{value:"F",description:"\u5973"}]],["marital",()=>[{description:"\u5df2\u5a5a",value:"Y"},{description:"\u672a\u5a5a",value:"N"}]],["confirm",()=>[{description:"\u662f",value:"Y"},{description:"\u5426",value:"N"}]],["political",()=>[{description:"\u4e2d\u5171\u515a\u5458",value:"\u4e2d\u5171\u515a\u5458"},{description:"\u5171\u9752\u56e2\u5458",value:"\u5171\u9752\u56e2\u5458"},{description:"\u7fa4\u4f17",value:"\u7fa4\u4f17"},{description:"\u5176\u4ed6\u515a\u6d3e",value:"\u5176\u4ed6\u515a\u6d3e"}]],["phoneStateEnum",()=>[{value:0,description:"\u7a7a\u53f7"},{value:1,description:"\u5b9e\u53f7"},{value:2,description:"\u505c\u673a"},{value:3,description:"\u5e93\u65e0"},{value:4,description:"\u6c89\u9ed8\u53f7"},{value:5,description:"\u98ce\u9669\u53f7"}]],["degreeEnum",()=>[{description:"\u521d\u4e2d",value:10},{description:"\u4e2d\u4e13",value:20},{description:"\u9ad8\u4e2d",value:30},{description:"\u5927\u4e13",value:40},{description:"\u672c\u79d1",value:50},{description:"\u7855\u58eb\u7814\u7a76\u751f",value:60},{description:"\u535a\u58eb\u7814\u7a76\u751f",value:70},{description:"\u535a\u58eb\u540e",value:75},{description:"\u5b66\u5386\u4e0d\u9650",value:999}]]],m=(0,s.withFetch)((e=>{let{data:t,children:n}=e;return"function"===typeof n?n(t):n||(null===t||void 0===t?void 0:t.description)})),p=i()((e=>new Map(u.concat(Object.keys(Object.assign({},e)).map((t=>[t,e[t]])))))),h=e=>{let{loader:t,...n}=e;const{global:{enumsRef:s}}=(0,a.useGlobalContext)(),l=(0,r.useRef)(null);return(0,d.jsx)(m,{...n,loader:async function(){const e=p(await t(...arguments)),{params:n}=arguments.length<=0?void 0:arguments[0],{moduleName:r,name:a,force:i,locale:o}=n,d=async t=>!0!==i&&l.current===o&&s.current.get(t)||await(async()=>{const n=e.get(t),r=await(async()=>"function"===typeof n?new Map((await n({locale:o})).map((e=>[e.value.toString(),e]))):Array.isArray(n)?new Map(n.map((e=>[e.value.toString(),e]))):"object"===typeof n?new Map(Object.keys(n).map((e=>[e.toString(),n[e]]))):(console.warn("\u679a\u4e3e\u503cloader\u7684\u8bbe\u7f6e\u53ef\u80fd\u4e0d\u6b63\u786e"),new Map))();return s.current.set(t,r),l.current=o,r})();if(Array.isArray(r))return await Promise.all(r.map((e=>d(e).then((e=>Array.from(e.values()))))));const u=await d(r);return c()(a)?Array.from(u.values()):u.get(a.toString())}})},g=e=>{let{moduleName:t,name:n,force:r,children:s,...l}=e;const i=(0,a.usePreset)();return(0,d.jsx)(h,{...l,params:{moduleName:t,locale:null===i||void 0===i?void 0:i.locale,enums:null===i||void 0===i?void 0:i.enums,name:n,force:r},loader:e=>{let{params:t}=e;return t.enums},children:s})};g.defaultProps={force:!1};const _=g},89188:(e,t,n)=>{n.r(t),n.d(t,{AdvancedSelectFilterItem:()=>se,CascaderFilterItem:()=>ce,CityFilterItem:()=>oe,DatePickerFilterItem:()=>ee,DateRangePickerFilterItem:()=>te,FilterItem:()=>h,FilterItemContainer:()=>O,FilterLines:()=>b,FilterValueDisplay:()=>m,FunctionSelectFilterItem:()=>le,IndustrySelectFilterItem:()=>ie,InputFilterItem:()=>ue,PopoverItem:()=>w,TreeFilterItem:()=>de,TypeDateRangePickerFilterItem:()=>re,UserFilterItem:()=>ae,default:()=>xe,fields:()=>r,getFilterValue:()=>F,withFieldItem:()=>X});var r={};n.r(r),n.d(r,{AdvancedSelectFilterItem:()=>se,CascaderFilterItem:()=>ce,CityFilterItem:()=>oe,DatePickerFilterItem:()=>ee,DateRangePickerFilterItem:()=>te,FunctionSelectFilterItem:()=>le,IndustrySelectFilterItem:()=>ie,InputFilterItem:()=>ue,TreeFilterItem:()=>de,TypeDateRangePickerFilterItem:()=>re,UserFilterItem:()=>ae});var s=n(96164),a=n(34900),l=n(74879);const i={filter:"style_filter__Xml45__rgnvX","filter-item-icon":"style_filter-item-icon__kVCRK__rgnvX","filter-item-option-icon":"style_filter-item-option-icon__q1fz3__rgnvX","filter-title":"style_filter-title__PlIpS__rgnvX","filter-title-hidden":"style_filter-title-hidden__NJ1ZB__rgnvX","ad-filter-title":"style_ad-filter-title__5-OzD__rgnvX","ad-filter-line":"style_ad-filter-line__ga6UH__rgnvX","filter-line":"style_filter-line__E+cRh__rgnvX","clean-btn":"style_clean-btn__oSEvm__rgnvX","filter-item":"style_filter-item__Q2ncE__rgnvX","un-expand":"style_un-expand__4PFY8__rgnvX","ad-filter-selected":"style_ad-filter-selected__KbLfG__rgnvX","filter-label":"style_filter-label__qu26i__rgnvX","filter-item-wrap":"style_filter-item-wrap__rOq7H__rgnvX",option:"style_option__rd5Qo__rgnvX","is-active":"style_is-active__OArQI__rgnvX","is-visited":"style_is-visited__gZ5ni__rgnvX","un-expand-shadow":"style_un-expand-shadow__fj92e__rgnvX","filter-item-label":"style_filter-item-label__C781J__rgnvX","filter-item-field":"style_filter-item-field__Ltfr8__rgnvX","filter-drop-tag":"style_filter-drop-tag__DD-2P__rgnvX","filter-list-tag":"style_filter-list-tag__Qt5hA__rgnvX","filter-tag":"style_filter-tag__dUGfu__rgnvX","filter-tag-value":"style_filter-tag-value__p-SFv__rgnvX","pop-util-content":"style_pop-util-content__bx5zP__rgnvX","pop-util-overlay":"style_pop-util-overlay__LEASt__rgnvX","pop-util-footer":"style_pop-util-footer__Xat1s__rgnvX","pop-util-text":"style_pop-util-text__pzeUy__rgnvX","filter-item-inner":"style_filter-item-inner__LVXgh__rgnvX","filter-item-text":"style_filter-item-text__MA8tU__rgnvX","filter-item-custom":"style_filter-item-custom__UusRa__rgnvX","filter-item-custom-active":"style_filter-item-custom-active__uFtny__rgnvX","filter-item-number-range-split":"style_filter-item-number-range-split__fVt8E__rgnvX","filter-item-number-input":"style_filter-item-number-input__YPO6K__rgnvX","range-picker":"style_range-picker__c6ngq__rgnvX","cascader-select-wrap":"style_cascader-select-wrap__z5hu7__rgnvX","cascader-dropdown-menu":"style_cascader-dropdown-menu__nhAH5__rgnvX"};var o=n(79272),c=n.n(o);const d=e=>({"en-US":()=>n.e(5188).then(n.bind(n,25188)),"zh-CN":()=>n.e(9264).then(n.bind(n,39264))}[e]());var u=n(82496);const m=e=>{let{value:t,extraExpand:n,onChange:r}=e;return(0,u.jsx)(l.IntlProvider,{importMessages:d,moduleName:"Filter",children:(0,u.jsxs)(s.Space,{className:i["filter-title"],align:"top",size:16,children:[(0,u.jsx)("span",{className:i["filter-label"],children:(0,u.jsx)(l.FormattedMessage,{id:"selectedText",moduleName:"Filter",defaultMessage:"\u60a8\u5df2\u9009\u62e9"})}),(0,u.jsxs)("div",{className:i["filter-line"],children:[t.map(((e,n)=>{let{name:s,label:l,value:i}=e;return(0,u.jsx)(a.default,{type:"filterResult",filterName:l,text:Array.isArray(i)?i.map((e=>e.label)).join("\uff0c"):i.label,closable:!0,onClose:()=>{const e=t.slice(0);e.splice(n,1),r(e)}},s)})),(0,u.jsxs)(s.Space,{size:4,className:c()(i["un-expand-shadow"]),children:[n,(0,u.jsx)(s.Button,{size:"small",children:(0,u.jsx)(l.FormattedMessage,{id:"clearAllText",moduleName:"Filter",defaultMessage:"\u6e05\u7a7a\u5168\u90e8"})})]}),(0,u.jsxs)(s.Space,{size:4,className:c()(i["un-expand"]),children:[n,(0,u.jsx)(s.Button,{size:"small",onClick:()=>{r([])},children:(0,u.jsx)(l.FormattedMessage,{id:"clearAllText",moduleName:"Filter",defaultMessage:"\u6e05\u7a7a\u5168\u90e8"})})]})]})]})})};var p=n(5520);const h=e=>{let{open:t,active:n,label:r,children:a}=e;return(0,u.jsx)(s.Space,{className:i["filter-item-wrap"],children:(0,u.jsxs)("div",{className:c()(i["filter-item"],{[i["is-active"]]:n,[i["is-visited"]]:t}),children:[(0,u.jsxs)(s.Space,{className:i["filter-item-label"],size:4,children:[(0,u.jsx)("div",{children:r}),(0,u.jsx)(p.default,{className:i["filter-item-icon"],type:"icon-triangle-down"})]}),(0,u.jsx)("div",{className:i["filter-item-field"],children:a})]})})};var g=n(46964);const _=(0,g.createContext)({}),{Provider:v}=_;var y=n(58564),f=n.n(y);const x=e=>{let{list:t,children:n}=e;const{value:r,onChange:s}=(0,g.useContext)(_);return(0,u.jsxs)("div",{className:i["filter-line"],children:[t.map(((e,t)=>{const n=e.type;return(0,g.createElement)(n,{...e.props,key:e.key||e.props.name||t,value:r?f()(r.get(e.props.name),"value"):e.props.value,onChange:s?t=>s({name:e.props.name,label:e.props.label,value:t}):e.props.onChange})})),n]})},j=e=>{let{list:t,displayLine:n,label:r,extra:a,children:o}=e;const m=t.length>n,[h,_]=(0,g.useState)(!1);return(0,u.jsxs)(l.IntlProvider,{importMessages:d,moduleName:"Filter",children:[(0,u.jsxs)(s.Space,{className:c()(i["filter-title"]),align:"top",size:16,children:[(0,u.jsx)("span",{className:i["filter-label"],children:r||(0,u.jsx)(l.FormattedMessage,{id:"filterText",moduleName:"Filter",defaultMessage:"\u7b5b\u9009"})}),(0,u.jsxs)(s.Row,{justify:"space-between",wrap:!1,align:"middle",children:[(0,u.jsx)(s.Col,{className:i["filter-list"],flex:1,children:t.slice(0,n).map(((e,t)=>(0,u.jsx)(x,{list:e,children:m&&!1===h&&t===n-1?(0,u.jsxs)(s.Space,{size:4,className:c()(i["filter-item"],i.option),onClick:()=>{_((e=>!e))},children:[(0,u.jsx)(l.FormattedMessage,{id:"moreText",moduleName:"Filter",defaultMessage:"\u66f4\u591a"}),(0,u.jsx)(p.default,{className:i["filter-item-option-icon"],type:"icon-arrow-thin-down"})]}):null},t)))}),(0,u.jsx)(s.Col,{children:a})]})]}),(0,u.jsx)(s.Space,{className:c()(i["filter-title"],"filter-title-wrap"),align:"center",size:16,children:o}),(0,u.jsxs)(s.Space,{className:c()(i["filter-title"],"filter-title-wrap",{[i["filter-title-hidden"]]:!(m&&h)}),align:"top",size:16,children:[(0,u.jsx)("span",{className:i["filter-label"],children:(0,u.jsx)(l.FormattedMessage,{id:"moreText",moduleName:"Filter",defaultMessage:"\u66f4\u591a"})}),(0,u.jsx)("div",{className:i["filter-list"],children:t.slice(n).map(((e,r)=>(0,u.jsx)(x,{list:e,children:r===t.length-n-1&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(s.Space,{size:4,className:c()(i["un-expand-shadow"]),children:(0,u.jsxs)(s.Space,{size:4,className:c()(i.option,i["filter-item"]),children:[(0,u.jsx)(l.FormattedMessage,{id:"toggleUpText",moduleName:"Filter",defaultMessage:"\u6536\u8d77"}),(0,u.jsx)(p.default,{className:i["filter-item-option-icon"],type:"icon-arrow-thin-up"})]})}),(0,u.jsx)(s.Space,{size:4,className:c()(i["un-expand"]),onClick:()=>{_((e=>!e))},children:(0,u.jsxs)(s.Space,{size:4,className:c()(i.option,i["filter-item"]),children:[(0,u.jsx)(l.FormattedMessage,{id:"toggleUpText",moduleName:"Filter",defaultMessage:"\u6536\u8d77"}),(0,u.jsx)(p.default,{className:i["filter-item-option-icon"],type:"icon-arrow-thin-up"})]})})]})},r)))})]})]})};j.defaultProps={displayLine:1};const b=j;var C=n(3292);const N=e=>{let{value:t,label:n,onValidate:r,overlayClassName:a,placement:o,onOpenChange:d,onChange:m,children:p}=e;const[_,v]=(0,g.useState)(t),[y,f]=(0,g.useState)(!1),x=(0,g.useMemo)((()=>r&&!r(_)),[r,_]);return(0,u.jsx)(s.Popover,{open:y,trigger:"click",placement:o,overlayClassName:c()(i["pop-util-overlay"],a),onOpenChange:e=>{f(e),v(t),d&&d(e)},content:(0,u.jsxs)("span",{onClick:e=>{e.stopPropagation()},children:[(0,u.jsx)("div",{className:i["pop-util-content"],children:p({value:_,onChange:v})}),(0,u.jsxs)(s.Row,{className:i["pop-util-footer"],justify:"end",gutter:8,children:[(0,u.jsx)(s.Col,{children:(0,u.jsx)(s.Button,{size:"small",onClick:()=>{f(!1),d&&d(!1)},children:(0,u.jsx)(l.FormattedMessage,{id:"cancelText",moduleName:"Filter",defaultMessage:"\u53d6\u6d88"})})}),(0,u.jsx)(s.Col,{children:(0,u.jsx)(s.Button,{size:"small",type:"primary",disabled:x,onClick:()=>{f(!1),d&&d(!1),m&&m(_)},children:(0,u.jsx)(l.FormattedMessage,{id:"determineText",moduleName:"Filter",defaultMessage:"\u786e\u5b9a"})})})]})]}),children:(0,u.jsx)("span",{children:(0,u.jsx)(h,{open:y,active:(0,C.c)(t),label:n})})})};N.defaultProps={placeholder:"\u8bf7\u9009\u62e9",placement:"bottomLeft"};const w=N,X=e=>t=>{let{value:n,onChange:r,label:s,...a}=t;const[l,o]=(0,g.useState)(!1);return(0,u.jsx)(h,{label:s,open:l,active:(0,C.c)(n),children:(0,u.jsx)(e,{...a,className:i["filter-item-inner"],value:n,onChange:r,valueType:"all",onOpenChange:o})})};var k=n(79483),S=n.n(k);const F=e=>S()(e,((e,t)=>{let{name:n,value:r}=t;e[n]=Array.isArray(r)?r.map((e=>{let{value:t}=e;return t})):r.value}),{}),O=e=>{let{children:t,...n}=e;return t(n)};var E=n(15400),P=n(76091),R=n(52236),M=n(53456),I=n(40724),T=n(72892),z=n(1165),A=n.n(z);const K="style_scroll-loader__Rcuti__rgnvX",L="style_is-popup__pCRv2__rgnvX";var D=n(42116),H=n(5e4),Y=n.n(H),B=n(83416),U=n.n(B);const q=T.c.useContext,V=e=>{let{value:t,setValue:n,size:r}=e;const{fetchApi:a,props:l}=q(),i=A()(l.dataFormat),{single:o,isPopup:d,searchPlaceholder:m,...p}=l,h=(0,g.useRef)(l.fieldNames);h.current=l.fieldNames;const _=a.data,{treeData:v}=(0,g.useMemo)((()=>i(_,{fieldNames:h.current})),[i,_]);return(0,u.jsx)(s.Space,{direction:"vertical",size:16,children:(0,u.jsx)(D.c,{className:c()(K,{[L]:l.isPopup}),children:(0,u.jsx)(s.Tree,{...Y()(p,["value","valueType","children","dataFormat"]),size:r,checkable:!o,treeData:v,onCheck:n,checkedKeys:t,onSelect:o?n:e=>{const t=e[0];void 0!==t&&n((e=>{const n=e.slice(0),r=n.indexOf(t);return r>-1?n.splice(r,1):n.push(t),n}))},selectedKeys:o?t:void 0})})})},W=e=>{let{maxLength:t,dataFormat:n,...r}=e;return(0,u.jsx)(T.c,{...r,dataFormat:e=>n(e,{fieldNames:r.fieldNames}),children:e=>{let{value:n,setValue:r}=e;return(0,u.jsx)(V,{size:t,value:n,setValue:r})}})};W.defaultProps={searchPlaceholder:"\u641c\u7d22",maxLength:Number.MAX_VALUE,size:"middle",isPopup:!0,checkStrictly:!1,dataFormat:(e,t)=>{let{fieldNames:n}=t;const r=U()(((e,t)=>{let{fieldNames:n}=t;const r=[],s=e=>{Array.isArray(e)&&e.length>0&&e.forEach((e=>{const t=e[f()(n,"key","key")],a=e[f()(n,"title","title")],l=e[f()(n,"children","children")];r.push({id:t,value:t,label:a}),s(l)}))};return s(e),r}));return{treeData:e,list:r(e,{fieldNames:n})}}};const G=W,J=e=>{let{label:t,value:n,onChange:r,placeholder:a,onValidate:l,overlayClassName:o,placement:c,onOpenChange:d,...m}=e;return(0,u.jsx)(w,{label:t,value:n,onChange:r,onValidate:l,overlayClassName:o,placement:c,onOpenChange:d,children:e=>{let{value:n,onChange:r}=e;return(0,u.jsx)(s.Input,{...m,placeholder:a||"\u8bf7\u8f93\u5165".concat(t),className:i["filter-item-text"],value:f()(n,"value",""),onChange:e=>r(e.target.value?{label:e.target.value,value:e.target.value}:null)})}})};var Q=n(11044),Z=n.n(Q);const $=X((e=>{let{value:t,onChange:n,picker:r,...a}=e;return(0,u.jsx)(s.DatePicker,{...a,picker:r,value:t&&Z()(t.value),onChange:e=>{const{format:t}=Object.assign({format:"YYYY-MM-DD"},a);e&&n({label:"date"!==r?"".concat(e.startOf(r).format(t),"~").concat(e.endOf(r).format(t)):e.format(t),value:new Date(e.startOf(r).valueOf())})}})}));$.defaultProps="date";const ee=$,te=X((e=>{let{value:t,onChange:n,...r}=e;return(0,u.jsx)(s.DatePicker.RangePicker,{...r,allowEmpty:[!1,!1],value:t&&Array.isArray(t.value)&&2===t.value.length&&t.value.map((e=>Z()(e))),onChange:e=>{const{format:t}=Object.assign({format:"YYYY-MM-DD"},r);n({label:e.map((e=>e.format(t))).join("~"),value:e.map((e=>new Date(e.valueOf())))})}})}));var ne=n(72904);const re=e=>{let{label:t,value:n,onChange:r,...s}=e;return(0,u.jsx)(w,{label:t,value:n,onChange:r,onValidate:e=>{const t=null===e||void 0===e?void 0:e.value;return(null===t||void 0===t?void 0:t.type)&&Array.isArray(null===t||void 0===t?void 0:t.value)&&2===t.value.length},children:e=>{let{value:t,onChange:n}=e;return(0,u.jsx)(ne.c,{...s,className:i["filter-item-text"],value:f()(t,"value"),onChange:e=>{const{format:t}=Object.assign({format:"YYYY-MM-DD"},s),r=(null===e||void 0===e?void 0:e.value)||[];n({label:r[0]&&!r[1]?"".concat(Z()(r[0]).format(t),"\u4ee5\u540e"):!r[0]&&r[1]?"".concat(Z()(r[1]).format(t),"\u4ee5\u524d"):r[0]&&r[1]?"".concat(Z()(r[0]).format(t),"~").concat(Z()(r[1]).format(t)):"",value:e})}})}})},se=X(E.cp),ae=X(E.YL),le=X(P.c),ie=X(M.c),oe=X(R.cp),ce=X(I.cp),de=X(G),ue=(me=J,e=>{let{placeholder:t,label:n,...r}=e;return(0,u.jsx)(l.FormattedMessage,{id:"defaultInputPlaceholder",moduleName:"Filter",values:{label:n},children:e=>(0,u.jsx)(me,{...r,label:n,placeholder:t||e})})});var me,pe=n(75680),he=n.n(pe),ge=n(4696),_e=n.n(ge),ve=n(87292),ye=n(31804);const fe=e=>{const{extraExpand:t,className:n,...r}=e,[s,a]=he()(e),o=(0,g.useMemo)((()=>s.filter((e=>(0,ve.isNotEmpty)(e.value)))),[s]),d=(0,g.useMemo)((()=>new Map(o.map((e=>[e.name,e])))),[o]);return(0,u.jsx)(l.IntlProvider,{moduleName:"Filter",importMessages:ye.c,children:(0,u.jsx)(v,{value:{value:d,onChange:e=>{const t=_e()(d);e.value?t.set(e.name,e):t.delete(e.name),null===a||void 0===a||a(Array.from(t.values()))}},children:(0,u.jsxs)("div",{className:c()(i.filter,n),children:[(0,u.jsx)(b,{...r}),o&&o.length>0&&(0,u.jsx)(m,{value:o,onChange:a,extraExpand:t})]})})})};fe.defaultProps={defaultValue:[]};const xe=fe},31804:(e,t,n)=>{n.d(t,{c:()=>r});const r=e=>({"en-US":()=>n.e(3764).then(n.bind(n,43764)),"zh-CN":()=>n.e(304).then(n.bind(n,47924))}[e]())},11600:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});const r=e=>({"en-US":()=>n.e(3264).then(n.bind(n,3264)),"zh-CN":()=>n.e(5348).then(n.bind(n,35348))}[e]());var s=n(74879),a=n(5520),l=n(96164),i=n(79272),o=n.n(i);const c="style_helper-guide__K5xFw__rgnvX",d="style_inner__bMKeU__rgnvX",u="style_content__xTfWZ__rgnvX",m="style_link__93j7O__rgnvX";var p=n(17376),h=n(82496);const g=e=>{let{name:t,className:n}=e;return(0,h.jsx)(s.IntlProvider,{importMessages:r,moduleName:"HelperGuide",children:(0,h.jsx)(p.default,{moduleName:"helperGuide",name:t,children:e=>e&&e.value&&(0,h.jsx)("div",{className:o()(c,n),children:(0,h.jsxs)(l.Space,{className:d,children:[(0,h.jsx)(a.default,{colorful:!0,type:"icon-color-bangzhuyindao"}),(0,h.jsx)("span",{className:u,children:e.content}),e.url&&(0,h.jsxs)(l.Typography.Link,{className:m,href:e.url,target:"_blank",children:["\u67e5\u770b\u5e2e\u52a9",(0,h.jsx)(a.default,{type:"icon-shuangjiantou-right"})]})]})})})})}},40436:(e,t,n)=>{n.r(t),n.d(t,{Affix:()=>R,Menu:()=>W.default,Page:()=>P,PermissionsPage:()=>V,StateBarPage:()=>Z,TablePage:()=>J,default:()=>U});var r=n(96164),s=n(46964);const a={menu:null,filter:null,menuOpen:!0,menuWidth:"240px",menuFixed:!0,menuCloseButton:!0,backgroundColor:null,header:null,headerHeight:0,headerFixed:!0,headerInfo:null,backUrl:null,title:null,titleExtra:null,titleLeftExtra:null,noMargin:!1,noPadding:!1,optionFooterHeight:0,option:null,optionWidth:"400px",optionNoPadding:!1,optionFixed:!0,optionFooter:null},l=(0,s.createContext)({}),{Provider:i,Consumer:o}=l,c=()=>(0,s.useContext)(l);var d=n(28864),u=n(55860),m=n(80627),p=n(60436),h=n.n(p),g=n(54948),_=n(79272),v=n.n(_);const y={layout:"style_layout__k+lxR__rgnvX","page-content":"style_page-content__4XeN8__rgnvX","page-main":"style_page-main__P0yEF__rgnvX","page-main-content":"style_page-main-content__1OVPN__rgnvX","table-page":"style_table-page__JkbLf__rgnvX","helper-guide":"style_helper-guide__vzw4z__rgnvX","page-outer":"style_page-outer__2a6iH__rgnvX","no-margin":"style_no-margin__S6caT__rgnvX","page-menu":"style_page-menu__CZSa9__rgnvX",closed:"style_closed__hmnft__rgnvX","page-menu-inner":"style_page-menu-inner__rmKpu__rgnvX","page-menu-main":"style_page-menu-main__OXg2M__rgnvX","page-option-main":"style_page-option-main__LyfT3__rgnvX","page-menu-main-outer":"style_page-menu-main-outer__yY+-Q__rgnvX","page-option":"style_page-option__diS2S__rgnvX","page-option-inner":"style_page-option-inner__Fj1JH__rgnvX","page-option-footer":"style_page-option-footer__d7xE0__rgnvX","fixed-container":"style_fixed-container__1VZwY__rgnvX","is-fixed":"style_is-fixed__1aQhp__rgnvX","page-menu-btn-outer":"style_page-menu-btn-outer__iVJiW__rgnvX","page-menu-btn":"style_page-menu-btn__BiTy8__rgnvX","page-title":"style_page-title__zw-Fd__rgnvX","page-title-text":"style_page-title-text__Rj4RC__rgnvX","no-padding":"style_no-padding__V7Dwy__rgnvX","page-header":"style_page-header__a813p__rgnvX","page-header-info":"style_page-header-info__cMrZR__rgnvX","layout-menu":"style_layout-menu__yiab0__rgnvX","sub-menu":"style_sub-menu__dyqK7__rgnvX","no-collapsed":"style_no-collapsed__76h8W__rgnvX","has-not-children":"style_has-not-children__fnjRK__rgnvX","table-page-top":"style_table-page-top__bt1l9__rgnvX","error-component":"style_error-component__HvghB__rgnvX","state-bar-page":"style_state-bar-page__+aUM4__rgnvX","back-icon":"style_back-icon__79v2G__rgnvX"};var f=n(82496);const x=e=>{let{className:t,isFixed:n,children:r}=e;return n?(0,f.jsx)("div",{className:v()(t,"fixed-container",y["fixed-container"],{[y["is-fixed"]]:n}),children:r}):(0,f.jsx)("div",{className:v()(t,"fixed-container",y["fixed-container"]),children:r})};var j=n(5520),b=n(42116),C=n(48428),N=n(58564),w=n.n(N),X=n(3292),k=n(22396);const S="CORE_PAGE_MENU_OPEN_KEY",F=()=>{const{pageProps:e,setPageProps:t}=c(),{menu:n,menuOpen:s,menuWidth:a,menuFixed:l,menuCloseButton:i}=e,o=(0,C.useLocation)().pathname.split("/")[1];return n?(0,f.jsxs)(r.Col,{className:v()(y["page-menu"],{[y.closed]:!s}),style:{"--width":a},children:[(0,f.jsx)(x,{className:y["page-menu-inner"],isFixed:l,children:(0,f.jsx)("div",{className:y["page-menu-main-outer"],children:(0,f.jsx)(b.c,{className:y["page-menu-main"],children:n})})}),i?(0,f.jsx)(x,{className:v()(y["page-menu-btn-outer"],y["page-menu-btn-outer"]),isFixed:l,children:(0,f.jsx)(r.Button,{className:v()(y["page-menu-btn"],{[y.closed]:!s}),icon:s?(0,f.jsx)(j.default,{type:"icon-arrow-bold-left"}):(0,f.jsx)(j.default,{type:"icon-arrow-bold-right"}),onClick:()=>{t({menuOpen:!e.menuOpen});const n=k.c.getItem(S)||{};n[o]=!e.menuOpen,k.c.setItem(S,n),t({menuOpen:!e.menuOpen})}})}):null]}):null},O=e=>{let{children:t,isPass:n,...a}=e;const{setPageProps:l}=c(),i=(0,s.useRef)(null),o=(()=>{const e=(0,C.useLocation)().pathname.split("/")[1];return(0,s.useMemo)((()=>{const t=k.c.getItem(S)||{};return!(0,X.c)(w()(t,e))||w()(t,e)}),[e])})(),d=(0,s.useRef)(o);return d.current=o,(0,s.useEffect)((()=>{if(!h()(i.current,a)){i.current=a;const e=Object.assign({},a,"boolean"===typeof d.current?{menuOpen:d.current}:{});e.header&&0===e.headerHeight&&delete e.headerHeight,e.optionFooter&&0===e.optionFooterHeight&&delete e.optionFooter,l(e)}}),[a,l]),!1===n?(0,f.jsx)(r.Result,{status:"403",subTitle:"\u6682\u672a\u5f00\u653e\u6b64\u529f\u80fd"}):t},E=e=>{let{featureId:t,name:n,openFeatures:r,...a}=e;return!0===r?(0,f.jsx)(g.default,{id:n,children:e=>{let{isPass:t}=e;return(0,s.createElement)(O,{...a,key:n,isPass:t})}}):(0,s.createElement)(O,{...a,key:n})};E.defaultProps=a;const P=E,R=e=>{let{isFixed:t,offsetTop:n,offsetBottom:s,onChange:a,...l}=e;return t?(0,f.jsx)(r.Affix,{...l,offsetTop:Number.isInteger(n)?n-.1:n,offsetBottom:s,onChange:a}):(0,f.jsx)("div",{...l})},M=e=>{let{targetKey:t,...n}=e;const r=(e=>{let{targetKey:t}=e;const{setPageProps:n}=c(),r=(0,s.useRef)(null);return(0,s.useLayoutEffect)((()=>{const e=()=>{n({[t]:r.current.offsetHeight})};e();const s=new MutationObserver(e);return s.observe(r.current,{subtree:!0,childList:!0}),()=>{s.disconnect()}}),[n,t]),r})({targetKey:t});return(0,f.jsx)("div",{...n,ref:r})},I=()=>{const{pageProps:e}=c(),{header:t,headerFixed:n}=e;return t?(0,f.jsx)(R,{isFixed:n,className:y["page-header"],offsetTop:d.navigationHeight,children:(0,f.jsx)(M,{targetKey:"headerHeight",children:t})}):null},T=()=>{const{pageProps:e}=c(),{headerInfo:t}=e,n=(0,s.useRef)(null);return t?(0,f.jsx)("div",{ref:n,className:v()(y["page-header-info"],"page-header-info"),children:t}):null};var z=n(89188);const A=e=>{let{title:t,filter:n,titleExtra:s,titleLeftExtra:a,backUrl:l}=e;const i=(0,C.useNavigate)();return n?(0,f.jsx)(z.default,{className:y["page-title"],...n,extra:s}):t||a||s?(0,f.jsxs)(r.Row,{justify:"space-between",align:"middle",className:y["page-title"],children:[(0,f.jsx)(r.Col,{children:(0,f.jsxs)(r.Space,{children:[t?(0,f.jsx)("div",{className:y["page-title-text"],children:l?(0,f.jsxs)(r.Space,{children:[(0,f.jsx)("span",{className:y["back-icon"],onClick:()=>{i(l)},children:(0,f.jsx)(j.default,{type:"icon-arrow-thin-left"})}),(0,f.jsx)("span",{children:t})]}):t}):null,a||null]})}),(0,f.jsx)(r.Col,{children:s})]}):null},K=()=>{const{pageProps:e}=c(),{option:t,optionWidth:n,optionFixed:s,optionFooter:a,optionFooterHeight:l,optionNoPadding:i}=e;return t?(0,f.jsx)(r.Col,{className:v()(y["page-option"],"page-option"),style:{"--width":n,"--foot-height":l+"px"},children:(0,f.jsxs)(x,{className:y["page-option-inner"],isFixed:s,children:[(0,f.jsx)(b.c,{className:v()(y["page-option-main"],"page-option-main"),style:{padding:i?"0px":"var(--padding-width)"},children:t}),a?(0,f.jsx)(M,{className:y["page-option-footer"],targetKey:"optionFooterHeight",children:(0,f.jsx)(r.Space,{align:"center",children:a})}):null]})}):null};var L=n(11600);const{Content:D}=r.Layout,H=()=>(0,f.jsx)(r.Alert,{message:"\u7cfb\u7edf\u51fa\u4e86\u70b9\u5c0f\u95ee\u9898\uff0c\u53ef\u5237\u65b0\u9875\u9762\u8fdb\u884c\u89e3\u51b3",showIcon:!0,type:"error",action:(0,f.jsx)(r.Button,{size:"small",danger:!0,onClick:()=>window.location.reload(),children:"\u5237\u65b0"})}),Y=e=>(0,f.jsx)(m.c,{...e,errorComponent:H}),B=e=>{let{children:t,theme:n,navigation:l}=e;const[o,c]=(0,s.useState)(0),[m,p]=(0,s.useState)(Object.assign({},a)),h=(0,s.useCallback)((e=>p((t=>Object.assign({},t,e)))),[]);return(0,s.useEffect)((()=>{const e=(0,u.K)(),t=()=>{c(e.scrollLeft)};return e.addEventListener("scroll",t),()=>{e.removeEventListener("scroll",t)}}),[]),(0,f.jsxs)(r.Layout,{className:y.layout,style:Object.assign({},{"--nav-height":d.navigationHeight+"px","--nav-height-base":"var(--nav-height)","--scroll-left":-o+"px"},n),children:[l&&(0,f.jsx)(Y,{children:(0,f.jsx)(d.default,{...l,onChange:e=>{(null===l||void 0===l?void 0:l.onChange)&&l.onChange(e)}})}),(0,f.jsx)(Y,{children:(0,f.jsx)(D,{className:y["layout-content-wrap"],children:(0,f.jsxs)(i,{value:{pageProps:m,setPageProps:h},children:[(0,f.jsx)(Y,{children:(0,f.jsx)(I,{})}),(0,f.jsx)(Y,{children:(0,f.jsx)(T,{})}),(0,f.jsx)(Y,{children:(0,f.jsxs)(r.Row,{className:v()(m.className,y["page-outer"]),wrap:!1,style:{"--nav-height":"calc(".concat(m.headerHeight,"px + var(--nav-height-base))"),"--nav-only-height":"var(--nav-height-base)"},children:[(0,f.jsx)(Y,{children:(0,f.jsx)(F,{})}),(0,f.jsx)(r.Col,{className:v()(y["page-content"],{[y["no-margin"]]:m.noMargin}),flex:1,style:{"--background-color":m.backgroundColor},children:(0,f.jsxs)("div",{className:y["page-main"],children:[(0,f.jsx)(Y,{children:(0,f.jsx)(A,{title:m.title,backUrl:m.backUrl,filter:m.filter,titleExtra:m.titleExtra,titleLeftExtra:m.titleLeftExtra})}),(0,f.jsx)("div",{className:v()(y["page-main-content"],{[y["no-padding"]]:m.noPadding}),children:(0,f.jsxs)(Y,{children:[m.helperGuideName&&(0,f.jsx)(L.default,{className:y["helper-guide-page"],name:m.helperGuideName}),t]})})]})}),(0,f.jsx)(Y,{children:(0,f.jsx)(K,{})})]})})]})})})]})};B.defaultProps={navigation:{}};const U=B;var q=n(92832);const V=e=>{let{permissions:t,...n}=e;return(0,f.jsx)(q.default,{...Object.assign({},t,{type:"error"}),children:(0,f.jsx)(P,{...n})})};var W=n(63849),G=n(33188);const J=(0,s.forwardRef)(((e,t)=>{let{helperGuideName:n,permissions:r,page:a,openFeatures:l,name:i,topArea:o,...c}=e;const[d,u]=(0,s.useState)(null);return(0,f.jsxs)(V,{name:i,openFeatures:l,permissions:r,...a,children:[o?(0,f.jsx)("div",{className:y["table-page-top"],children:"function"===typeof o?o(d):o}):null,(0,f.jsxs)("div",{className:y["table-page"],children:[n&&(0,f.jsx)(L.default,{className:v()("helper-guide",y["helper-guide"]),name:n}),(0,f.jsx)(G.TablePage,{...c,ref:t,name:i,onRequestSuccess:e=>{u(e)}})]})]})}));var Q=n(60752);const Z=e=>{let{helperGuideName:t,permissions:n,page:r,stateBar:s,children:a,...l}=e;return(0,f.jsxs)(V,{...r,permissions:n,...l,children:[(0,f.jsx)("div",{className:y["state-bar-page"],children:(0,f.jsx)(Q.default,{...s})}),t&&(0,f.jsx)(L.default,{className:y["helper-guide"],name:t}),a]})}},63849:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});const r={menu:"style_menu__gvIvn__rgnvX","all-no-start-icon":"style_all-no-start-icon__CA+zR__rgnvX","no-start-icon":"style_no-start-icon__LnC1S__rgnvX","has-children":"style_has-children__m9tce__rgnvX","has-children-node":"style_has-children-node__2bhEB__rgnvX","is-root":"style_is-root__4hhOc__rgnvX",title:"style_title__+Hcar__rgnvX",active:"style_active__WU49K__rgnvX","no-collapse":"style_no-collapse__aIZBM__rgnvX","title-content":"style_title-content__cQXpK__rgnvX",loading:"style_loading__1pU4P__rgnvX"};var s=n(79272),a=n.n(s),l=n(96164),i=n(48428),o=n(92832),c=n(75680),d=n.n(c),u=n(5520),m=n(46964),p=n(92420),h=n.n(p),g=n(84768),_=n(82496);const v=e=>{const t=(0,i.useNavigate)(),{id:n,className:s,label:c,iconType:d,path:m,request:p,onClick:h,isOpen:v,isSelected:y,onOpenChange:f,children:x,fetchOptions:j,depth:b,onLoad:C,allowCollapsed:N}=e,w=Array.isArray(x)&&x.length>0||j,{refresh:X,isLoading:k}=(0,g.useFetch)(Object.assign({},j,{auto:!N&&j,onRequestSuccess:e=>{C(e)}}));return(0,_.jsx)(o.default,{request:p,children:(0,_.jsxs)("div",{className:a()(s,r["menu-item"]),children:[(0,_.jsxs)("div",{className:a()(r.title,{[r.active]:y,[r["has-children"]]:w,[r["no-collapse"]]:w&&!N,[r["no-start-icon"]]:!d,[r["is-root"]]:0===b}),onClick:r=>{r.stopPropagation(),w||!m?w||j?N&&(j&&X({}),f(!v)):null===h||void 0===h||h(n,e):t(m)},children:[d&&(0,_.jsx)(u.default,{type:d}),(0,_.jsx)("span",{className:r["title-content"],children:c}),w&&N&&(0,_.jsx)(u.default,{type:v?"icon-arrow-bold-down":"icon-arrow-bold-right"})]}),w?!N||v&&x?(0,_.jsx)("div",{className:r["children-list"],children:x}):!N||v&&k?(0,_.jsx)("div",{className:r["children-list"],children:(0,_.jsx)(l.Spin,{className:r.loading,size:"small"})}):void 0:null]})})},y=e=>{let{className:t,allowCollapsed:n,...s}=e;const{pathname:l,search:o}=(0,i.useLocation)(),[c,u]=d()(s,{value:"currentKey",defaultValue:"defaultCurrentKey"}),[p,g]=d()(s,{defaultValue:"defaultItems",value:"items",onChange:"onItemsChange"}),{items:y,defaultOpenKeys:f,links:x,childrenKeys:j,hasStartIcon:b,hasChildren:C}=(0,m.useMemo)((()=>{var e;const{items:t,childrenKeys:n,nodeMapping:r}=(e=>{const t={},n=[],r=(e,s)=>{const{parentKey:a,depth:l}=Object.assign({parentKey:"root",depth:0,paths:[]},s);return Array.isArray(e)&&e.length>0?e.map(((e,s)=>{const i="".concat(e.key||"".concat("root"!==a?"".concat(a,"-"):"","node-").concat(s));t[a]||(t[a]=[]),t[a].push(i);const o=r(e.children,{parentKey:i,depth:l+1});t[i]&&t[a].push(...t[i]);const c=Object.assign({},e,{key:i,parentKey:a,depth:l,children:o,originItem:e});return n[i]=c,c})):null};return{items:r(e),childrenKeys:t,nodeMapping:n}})(p);let s=!1,a=!1;const l=[],i=[];return null===n||void 0===n||null===(e=n.root)||void 0===e||e.forEach((e=>{const t=r[e];t.iconType&&(s=!0),t.path&&l.push({path:t.path,key:e}),Array.isArray(t.children)&&t.children.length>0&&(a=!0,i.push(t.key))})),{defaultOpenKeys:i,links:l,items:t,childrenKeys:n,hasStartIcon:s,hasChildren:a}}),[p]);(0,m.useEffect)((()=>{const e=x.find((e=>{let{path:t}=e;return h()(l.replace(/[#,?].*/,""))===h()(t)||h()(l+o,"")===h()(t)}));e&&u(e.key)}),[x,l,o,u]);const[N,w]=d()(Object.assign({},s,{defaultOpenKeys:s.defaultOpenKeys||f}),{value:"openKeys",defaultValue:"defaultOpenKeys",onChange:"onOpenChange"}),X=(0,m.useCallback)(((e,t)=>{const{parentKey:r,depth:s,selectedKey:a,openKeys:l,paths:i}=Object.assign({parentKey:null,depth:0,paths:[]},t);return Array.isArray(e)&&e.length>0?e.map((e=>{let{children:t,key:o,originItem:c,...d}=e;return(0,m.createElement)(v,{...Object.assign({},d),id:o,parentId:r,depth:s,allowCollapsed:n,isSelected:o===a||j[o]&&j[o].indexOf(a)>-1,onClick:u,onLoad:e=>{g((t=>{const n=t=>Array.isArray(t)&&t.length>0?t.map((t=>Object.assign({},t,{children:c===t?e:n(t.children)}))):null;return n(t)}))},isOpen:(l||[]).indexOf(o)>-1,key:o,onOpenChange:()=>{w((e=>{const t=e.slice(0);return e.indexOf(o)>-1?t.splice(e.indexOf(o),1):t.push(o),t}))}},X(t,{parentKey:r,depth:s+1,selectedKey:a,openKeys:l,paths:[...i,o]}))})):null}),[g,w,u,j,n]);return(0,_.jsx)("div",{className:a()(t,r.menu,{[r["all-no-start-icon"]]:!b,[r["has-children-node"]]:C}),children:X(y,{selectedKey:c,openKeys:N})})};y.defaultProps={defaultItems:[],allowCollapsed:!0};const f=y},28864:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S,navigationHeight:()=>w});var r=n(96164),s=n(48428),a=n(58564),l=n.n(a),i=n(46964),o=n(79272),c=n.n(o);const d=n.p+"static/media/favicon.477a5bb996fd5b367fe0dddc29f67824.svg";var u=n(63212);const m=e=>({"en-US":()=>n.e(1304).then(n.bind(n,11304)),"zh-CN":()=>n.e(5252).then(n.bind(n,65252))}[e]());var p=n(74879),h=n(5520);const g="style_navigation-wrap__VF8x2__rgnvX",_="style_navigation__60RrS__rgnvX",v="style_is-fixed__kHFWj__rgnvX",y="style_navigation-logo__q9qHu__rgnvX",f="style_logo__lB9RC__rgnvX",x="style_navigation-list__EYtkg__rgnvX",j="style_navigation-options__0BdJU__rgnvX",b="style_more-icon__gNMnt__rgnvX";var C=n(82496);const{Header:N}=r.Layout,w=48,X=e=>{let{name:t,mapping:n,defaultTitle:r}=e;const s=(0,i.useRef)({mapping:n,defaultTitle:r});return(0,i.useEffect)((()=>{const e=l()(s.current.mapping.get(t),"title");document.title=(e?e+"-":"")+s.current.defaultTitle}),[t]),null},k=e=>{let{permissions:t,list:n,headerLogo:a,rightOptions:o,isFixed:w,showIndex:k,indexLabel:S,defaultTitle:F,overflowedIndicator:O,base:E,onChange:P,className:R}=e;const M=(0,i.useMemo)((()=>new Map(n.map((e=>{let{key:t,...n}=e;return[t,n]})))),[n]),I=(0,s.useNavigate)(),T=(0,s.useLocation)(),z=(0,i.useRef)(),A=(0,i.useRef)(null),[K,L]=(0,i.useState)("\u66f4\u591a"),D=T.pathname.replace(new RegExp("^".concat(E)),"").split("/")[1],H=D?l()(Array.from(M.entries()).find((e=>{let[n,{path:r,permission:s}]=e;return-1!==("function"===typeof r?r(s,t):r).indexOf("/"+D)})),"[0]"):"home";(0,i.useEffect)((()=>{const e=()=>{if(z.current){const e=z.current.querySelectorAll("li[data-menu-id]");let t=!1;for(let r=0;r<e.length;r++){if(-1!==e[r].getAttribute("data-menu-id").indexOf(H)){t=!0;break}}let n=M.get(H)&&!t?l()(M.get(H),"title"):"";L(n)}},t={attributes:!0,childList:!0,subtree:!0};return z&&z.current&&(e(),A.current&&A.current.disconnect(),A.current=new MutationObserver(e),A.current.observe(z.current,t)),()=>{A.current&&A.current.disconnect()}}),[H,M]);const Y=!!k&&{label:S||(0,C.jsx)(p.FormattedMessage,{id:"indexLabel",moduleName:"Navigation"}),key:"home",onClick:()=>{P&&P("/"),setTimeout((()=>{I("/")}),0)}};return(0,C.jsxs)(p.IntlProvider,{importMessages:m,moduleName:"Navigation",children:[(0,C.jsx)(p.FormattedMessage,{id:"defaultTitle",moduleName:"Navigation",children:e=>(0,C.jsx)(X,{defaultTitle:F||e,mapping:M,name:H})}),(0,C.jsx)("div",{className:c()(g,R),children:(0,C.jsx)(N,{className:c()("navigation",_,{[v]:w}),children:(0,C.jsxs)(r.Row,{justify:"space-around",wrap:!1,children:[(0,C.jsx)(r.Col,{className:c()("navigation-logo",y),children:(0,C.jsx)(u.default,{className:c()(f),src:d,alt:"logo",...a})}),(0,C.jsx)(r.Col,{ref:z,flex:1,className:c()("navigation-list",x),children:(0,C.jsx)(r.Menu,{selectedKeys:[H],mode:"horizontal",overflowedIndicator:O||(0,C.jsxs)(r.Space,{size:4,children:[(0,C.jsx)("span",{children:K||(0,C.jsx)(p.FormattedMessage,{id:"overflowedIndicator",moduleName:"Navigation"})}),(0,C.jsx)("span",{className:b,children:(0,C.jsx)(h.default,{type:"icon-arrow-thin-down"})})]}),items:[Y,...Array.from(M.entries()).filter((e=>{let[n,{permission:r}]=e;if("string"===typeof r)return t.indexOf(r)>-1;if("function"===typeof r)return r(t);if(Array.isArray(r)){for(let e of r)if(t.indexOf(e)>-1)return!0;return!1}return!0})).map((e=>{let[n,{title:r,path:s,permission:a}]=e;const l="function"===typeof s?s(a,t):s;return{label:r,key:n,onClick:()=>{P&&P(l),setTimeout((()=>{I(l)}),0)}}}))]})}),(0,C.jsx)(r.Col,{className:j,children:o})]})})})]})};k.defaultProps={isFixed:!0,permissions:[],list:[],showIndex:!0,base:""};const S=k},92832:(e,t,n)=>{n.r(t),n.d(t,{computedIsPass:()=>m,default:()=>_,usePermissions:()=>p,usePermissionsPass:()=>h});var r=n(46964),s=n(96164),a=n(58564),l=n.n(a),i=n(79272),o=n.n(i);const c="style_outer__vbHB9__rgnvX";var d=n(94328),u=n(82496);const m=e=>{let{permissions:t,request:n}=e;return!(Array.isArray(n)&&n.length>0)||n.some((e=>(t||[]).indexOf(e)>-1))},p=()=>{const e=(0,d.useGlobalContext)();return{permissions:l()(e,"global.accountInfo.permissions",[])}},h=e=>{let{request:t}=e;const{permissions:n}=p();return m({permissions:n,request:t})},g=e=>{let{type:t,className:n,tagName:a,message:l,request:i,children:d,...m}=e;const p=h({request:i});return"function"===typeof d?d({isPass:p,type:t,request:i}):!0===p?d:"error"===t?(0,u.jsx)(s.Result,{status:"403",subTitle:l}):"tooltip"===t?(0,u.jsx)(s.Tooltip,{title:l,children:(0,r.createElement)(a,{...m,className:o()(c,n)},d)}):null};g.defaultProps={type:"hidden",tagName:"span",message:"\u60a8\u6682\u65e0\u6743\u9650\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458"};const _=g},60752:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});var r=n(96164),s=n(79272),a=n.n(s);const l={"state-bar":"style_state-bar__3jfis__rgnvX","has-children":"style_has-children__oQDqU__rgnvX","tab-tab-control":"style_tab-tab-control__SopeO__rgnvX","tab-radio-control":"style_tab-radio-control__R8X6-__rgnvX","tab-step-control":"style_tab-step-control__EQaCl__rgnvX","inner-state-bar":"style_inner-state-bar__lWmOz__rgnvX"};var i=n(82496);const o=e=>{let{className:t,type:n="tab",stateOption:s=[],isInner:o,...c}=e;return(0,i.jsx)(r.Tabs,{...c,"data-testid":"components-core-state-bar",className:a()(l["state-bar"],l["tab-".concat(n,"-control")],t,{[l["inner-state-bar"]]:o,[l["has-children"]]:s.some((e=>!!e.children))}),style:{"--total-count":s.length},animated:!1,items:s.map((e=>{let{tab:t,label:n,key:r,...s}=e;return{label:t||n,key:r,...s}}))})}},34900:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var r=n(46964),s=n(79272),a=n.n(s);const l={"state-tag":"style_state-tag__Kx27z__rgnvX","state-result-tag":"style_state-result-tag__CssDz__rgnvX","state-skill-tag":"style_state-skill-tag__k0bQE__rgnvX","state-tag-filter-result-wrapper":"style_state-tag-filter-result-wrapper__QYS5z__rgnvX","state-tag-filter-name":"style_state-tag-filter-name__iJaJd__rgnvX","state-tag-filterResult":"style_state-tag-filterResult__KTkot__rgnvX","show-bg":"style_show-bg__OcL+R__rgnvX","tag-text":"style_tag-text__JHCt+__rgnvX","state-tag-wrapper":"style_state-tag-wrapper__A-gTE__rgnvX"};var i=n(96164),o=n(82496);const c={default:"#666666",skill:{color:"#666666",borderColor:"#EEEEEE"},result:"#666666",filterResult:"#5CB8B2",success:"#027A48",progress:"#F09700",danger:"#D14343",info:"#155ACF",other:"#6740C3"},d=e=>{let{showBorder:t,text:n,type:s,showBackground:d,className:u,filterName:m,...p}=e;const h=(0,r.useMemo)((()=>{var e,t;return{color:(null===c||void 0===c||null===(e=c[s])||void 0===e?void 0:e.color)||c[s],borderColor:(null===c||void 0===c||null===(t=c[s])||void 0===t?void 0:t.borderColor)||c[s]}}),[s]);return(0,o.jsxs)(i.Space,{"data-testid":"components-core-state-tag",className:a()(l["state-tag-wrapper"],"filterResult"===s?l["state-tag-filter-result-wrapper"]:""),align:"center",size:4,children:[m?(0,o.jsxs)("span",{className:l["state-tag-filter-name"],children:[m,":"]}):null,(0,o.jsx)(i.Tag,{color:h.color,...p,style:{background:d?h.color+"0F":"none",color:h.color,border:t?"1px solid ".concat(h.borderColor):"none"},className:a()(l["state-tag"],u,"result"===s?l["state-result-tag"]:"","skill"===s?l["state-skill-tag"]:"",l["state-tag-".concat(s)],d?l["show-bg"]:"",t?l["show-border"]:""),children:(0,o.jsx)("span",{className:l["tag-text"],children:n})})]})};d.defaultProps={color:"#666666",type:"default",showBorder:!1,showBackground:!0,text:"",className:""};const u=d},33188:(e,t,n)=>{n.r(t),n.d(t,{TablePage:()=>we,default:()=>ye});const r={table:"style_table__z7kfz__rgnvX","is-resize":"style_is-resize__ut6RW__rgnvX","is-moving":"style_is-moving__BJ9wR__rgnvX","cell-resize-bar":"style_cell-resize-bar__-mlUF__rgnvX","is-computed":"style_is-computed__B9rIF__rgnvX","options-btn":"style_options-btn__U3uoy__rgnvX",tooltip:"style_tooltip__vJlkv__rgnvX","table-changer-setting":"style_table-changer-setting__HcrwR__rgnvX","width-changer-sign":"style_width-changer-sign__Aflyl__rgnvX","columns-control":"style_columns-control__5-5ZF__rgnvX","columns-control-content":"style_columns-control-content__MoeUI__rgnvX","columns-control-content-title":"style_columns-control-content-title__P5sXV__rgnvX","columns-control-content-scroller":"style_columns-control-content-scroller__CeYRV__rgnvX","columns-control-content-footer":"style_columns-control-content-footer__0bQWm__rgnvX","columns-control-content-input":"style_columns-control-content-input__G6yKq__rgnvX","columns-control-content-list":"style_columns-control-content-list__aXvTs__rgnvX","columns-control-content-item":"style_columns-control-content-item__jbyyE__rgnvX","is-drag":"style_is-drag__U68aw__rgnvX","columns-control-content-item-icon":"style_columns-control-content-item-icon__yJqZf__rgnvX","sortable-drag":"style_sortable-drag__K5hWd__rgnvX","sortable-ghost":"style_sortable-ghost__lKTd2__rgnvX","columns-control-overlay":"style_columns-control-overlay__OxCIz__rgnvX","sort-btn":"style_sort-btn__KvNLr__rgnvX","sort-active-desc":"style_sort-active-desc__TIhMC__rgnvX","sort-icon":"style_sort-icon__dB85I__rgnvX","sort-active-asc":"style_sort-active-asc__RUBup__rgnvX"};var s=n(96164),a=n(46964),l=n(79272),i=n.n(l),o=n(43664),c=n(55860),d=n(94368),u=n(1165),m=n.n(u);const p={"col-item":"columns_col-item__Ym1Ec__rgnvX",tag:"columns_tag__bQZLG__rgnvX",avatar:"columns_avatar__SLPI+__rgnvX",hover:"columns_hover__oAwHg__rgnvX",primary:"columns_primary__6KtaA__rgnvX",loading:"columns_loading__gtBay__rgnvX",options:"columns_options__WvDZD__rgnvX"};var h=n(11044),g=n.n(h),_=n(5520),v=n(64972),y=n(82496);const f=e=>{let{className:t,list:n,width:l}=e;const[o,c]=(0,a.useState)(n.length),u=()=>{const e=p.current.querySelectorAll(".option-item"),t=e.length,n=m.current.clientWidth;let r=0,s=0,l=[].map.call(e,(e=>e.offsetWidth));for(;n>=s+l[r]+8*r&&r<t;)s+=l[r],r+=1;for(;n<s+8*(r-1)+(r<t?40:0)&&r>0;)s-=l[r-1],r-=1;(0,a.startTransition)((()=>{c(r)}))},m=(0,d.c)(u),p=(0,d.c)(u),h=n.slice(o);return(0,y.jsx)("div",{className:i()(t),style:{"--max-width":l+"px"},children:(0,y.jsxs)("div",{ref:m,children:[(0,y.jsx)("div",{style:{width:0,height:0,overflow:"hidden",position:"relative"},children:(0,y.jsx)("div",{style:{position:"absolute"},ref:p,children:(0,y.jsx)(s.Space,{children:n.map(((e,t)=>{let{className:n,...s}=e;return(0,a.createElement)(v.default,{...s,key:t,className:i()("option-item","btn-no-padding",r["options-btn"],n),type:"link"})}))})})}),(0,y.jsxs)(s.Space,{children:[n.slice(0,o).map(((e,t)=>{let{className:n,...s}=e;return(0,a.createElement)(v.default,{...s,key:t,className:i()("btn-no-padding",r["options-btn"],n),type:"link"})})),h.length>0&&(0,y.jsx)(s.Dropdown,{menu:{items:h.map(((e,t)=>{let{children:n,...r}=e;return{...r,key:t,label:n}}))},children:(0,y.jsx)(s.Button,{icon:(0,y.jsx)(_.default,{type:"icon-gengduo2"}),className:"btn-no-padding",type:"link"})})]})]})})};var x=n(34900),j=n(63212),b=n(17376),C=n(84768);const N=e=>{let{children:t,ellipsis:n}=e;return(0,y.jsx)(s.Typography.Text,{ellipsis:n&&Object.assign({},{tooltip:{overlayClassName:r.tooltip,children:t}}),children:t})},w=e=>{let{type:t,item:n,isEmpty:r,emptyRender:s,hover:l,primary:o,children:c,width:d,style:u,onClick:m,colValue:h}=e;const[g,_]=(0,a.useState)(!1);return(0,y.jsx)("div",{style:Object.assign({},u,{"--max-width":d+"px"}),className:i()(p["col-item"],p[t],r?null:{[p.hover]:l,[p.primary]:o,[p.loading]:g}),onClick:e=>{"function"!==typeof m||r||g||(_(!0),Promise.resolve(m({item:n,colItem:h,event:e})).finally((()=>{_(!1)})))},children:r?s({type:t,item:n,hover:l,primary:o,children:c}):c})};w.defaultProps={emptyRender:()=>"-"};const X=w,k=(0,C.createWithFetch)({loading:null})((e=>{let{data:t,children:n}=e;return n(t)})),S=e=>{let{api:t,expand:n,onExpand:r,ellipsis:a,hover:l,primary:i,emptyRender:o,isEmpty:c}=e;return n?(0,y.jsx)(k,{...t,children:e=>(0,y.jsx)(X,{type:"hide-info-expand",item:e,hover:l,primary:i,emptyRender:o,isEmpty:c,children:(0,y.jsx)(N,{ellipsis:a,children:"function"===typeof t.children?t.children(e):e})})}):(0,y.jsx)(X,{type:"hide-info",primary:!0,isEmpty:c,emptyRender:o,children:(0,y.jsx)(s.Button,{className:"btn-no-padding",type:"link",onClick:r,children:"\u67e5\u770b"})})};var F=n(5e4),O=n.n(F);const E={date:{render:(e,t)=>{let{hover:n,primary:r,isEmpty:s,emptyRender:a,...l}=t;return(0,y.jsx)(X,{...l,type:"date",item:e,primary:r,hover:n,emptyRender:a,isEmpty:s||!g()(e).isValid(),children:g()(e).format("YYYY-MM-DD")})},width:160,min:120,max:400},dateShort:{render:(e,t)=>{let{hover:n,primary:r,isEmpty:s,emptyRender:a,...l}=t;return(0,y.jsx)(X,{...l,type:"date-short",item:e,primary:r,hover:n,emptyRender:a,isEmpty:s||!g()(e).isValid(),children:g()(e).format("YYYY-MM")})},width:120,min:100,max:400},dateRange:{render:(e,t)=>{let{hover:n,primary:r,isEmpty:s,emptyRender:a,...l}=t;return(0,y.jsx)(X,{...l,type:"date-range",item:e,primary:r,hover:n,emptyRender:a,isEmpty:s,children:g()(null===e||void 0===e?void 0:e[0]).format("YYYY-MM-DD HH:mm")+"-"+g()(null===e||void 0===e?void 0:e[1]).format("HH:mm")})},width:240,min:120,max:400},datetime:{render:(e,t)=>{let{hover:n,primary:r,emptyRender:s,isEmpty:a,hideSecond:l,...i}=t;return(0,y.jsx)(X,{...i,item:e,primary:r,hover:n,emptyRender:s,isEmpty:a||!g()(e).isValid(),children:g()(e).format(l?"YYYY-MM-DD HH:mm":"YYYY-MM-DD HH:mm:ss")})},width:190,min:190,max:400},serialNumber:{render:(e,t)=>{let{hover:n,primary:r,emptyRender:s,isEmpty:a,...l}=t;return(0,y.jsx)(X,{...l,type:"serial-number",item:e,primary:r,hover:n,emptyRender:s,isEmpty:a,children:e})},width:190,min:100,max:400},serialNumberShort:{render:(e,t)=>{let{hover:n,primary:r,emptyRender:s,isEmpty:a,...l}=t;return(0,y.jsx)(X,{...l,type:"serial-number-short",item:e,primary:r,hover:n,emptyRender:s,isEmpty:a,children:e})},width:120,min:100,max:400},user:{render:(e,t)=>{let{hover:n,primary:r,ellipsis:s,emptyRender:a,isEmpty:l,...i}=t;return(0,y.jsx)(X,{...i,type:"user",item:e,primary:r,hover:n,emptyRender:a,isEmpty:l,children:(0,y.jsx)(N,{ellipsis:s,children:e})})},width:200,min:120,max:400},userName:{render:(e,t)=>{let{hover:n,primary:r,ellipsis:s,emptyRender:a,isEmpty:l,...i}=t;return(0,y.jsx)(X,{...i,type:"user-name",item:e,primary:r,hover:n,emptyRender:a,isEmpty:l,children:(0,y.jsx)(N,{ellipsis:s,children:e})})},width:100,min:100,max:400},contacts:{render:(e,t)=>{let{hover:n,primary:r,ellipsis:s,emptyRender:a,isEmpty:l,...i}=t;return(0,y.jsx)(X,{...i,type:"contacts",item:e,primary:r,hover:n,emptyRender:a,isEmpty:l,children:(0,y.jsx)(N,{ellipsis:s,children:e})})},width:240,min:160,max:400},tag:{render:(e,t)=>{let{emptyRender:n,isEmpty:r,...s}=t;return(0,y.jsx)(X,{...s,type:"tag",item:e,emptyRender:n,isEmpty:r,children:e&&(e.isEnum?(0,y.jsx)(b.default,{name:e.name,moduleName:e.moduleName,force:e.force,children:t=>{let{type:n,description:r}=t;return(0,y.jsx)(x.default,{type:n,...Object.assign({},O()(e,["name","isEnum","moduleName","force"])),text:r})}}):(0,y.jsx)(x.default,{...Object.assign({},e)}))})},width:140,min:100,max:400},avatar:{render:(e,t)=>{let{emptyRender:n,isEmpty:r,...s}=t;return(0,y.jsx)(X,{...s,type:"avatar",item:e,emptyRender:n,isEmpty:r,children:(0,y.jsx)(j.default.Avatar,{...Object.assign({},e),size:32})})},width:80,min:64,max:200},singleRow:{render:(e,t)=>{let{hover:n,primary:r,ellipsis:s,emptyRender:a,isEmpty:l,...i}=t;return(0,y.jsx)(X,{...i,type:"single-row",item:e,hover:n,primary:r,emptyRender:a,isEmpty:l,children:(0,y.jsx)(N,{ellipsis:s,children:e})})},width:70,min:70,max:400},hideInfo:{render:(e,t)=>(0,y.jsx)(S,{api:e,...t}),width:120,min:80,max:400},mainInfo:{render:(e,t)=>{let{ellipsis:n,hover:r=!0,primary:s=!0,emptyRender:a,isEmpty:l,...i}=t;return(0,y.jsx)(X,{...i,type:"main-info",item:e,hover:r,primary:s,emptyRender:a,isEmpty:l,children:(0,y.jsx)(N,{ellipsis:n,children:e})})},width:300,min:160,max:500},description:{render:(e,t)=>{let{hover:n,primary:r,ellipsis:s,emptyRender:a,isEmpty:l,...i}=t;return(0,y.jsx)(X,{...i,type:"description",item:e,hover:n,primary:r,emptyRender:a,isEmpty:l,children:(0,y.jsx)(N,{ellipsis:s,children:e})})},width:400,min:160,max:600},options:{render:(e,t)=>{let{width:n}=t;return(0,y.jsx)(f,{className:i()(p["col-item"],p.options),list:e,width:n})},width:180,min:120,max:400},sensitiveInfo:{render:(e,t)=>{let{hover:n,primary:r,ellipsis:s,emptyRender:a,isEmpty:l,...i}=t;return(0,y.jsx)(X,{...i,type:"sensitiveInfo",item:e,hover:n,primary:r,emptyRender:a,isEmpty:l,children:(0,y.jsx)(N,{ellipsis:s,children:e})})},width:200,min:100,max:400},other:{render:(e,t)=>{let{hover:n,primary:r,ellipsis:s,emptyRender:a,isEmpty:l,...i}=t;return(0,y.jsx)(X,{...i,type:"other",item:e,hover:n,primary:r,emptyRender:a,isEmpty:l,children:(0,y.jsx)(N,{ellipsis:s,children:e})})},width:200,min:120,max:400}},P=E;var R=n(58564),M=n.n(R),I=n(27843),T=n.n(I),z=n(79483),A=n.n(z),K=n(35940),L=n.n(K),D=n(68086),H=n(48812),Y=n.n(H),B=n(87292),U=n(97912),q=n(99140),V=n.n(q),W=n(71804),G=n.n(W);const{Panel:J}=s.Collapse,Q=e=>{let{close:t,onConfirm:n,columns:l,config:o}=e;const[c,d]=(0,a.useState)(o||{}),[u,m]=(0,a.useState)(""),{leftFixedColumns:p,rightFixedColumns:h,visibleColumns:g,hiddenColumns:f}=(0,a.useMemo)((()=>A()(Object.assign({leftFixedColumns:[],rightFixedColumns:[],visibleColumns:[],hiddenColumns:[]},Y()(l,(e=>"right"===e.fixed?"rightFixedColumns":!0===e.fixed||"left"===e.fixed?"leftFixedColumns":!0!==M()(c,"".concat(e.name,".visible"))&&e.hidden||!1===M()(c,"".concat(e.name,".visible"))?"hiddenColumns":"visibleColumns"))),((e,t,n)=>{e[n]=t.sort(((e,t)=>M()(c,"".concat(e.name,".rank"),0)-M()(c,"".concat(t.name,".rank"),0)))}),{})),[l,c]),x=e=>(0,y.jsxs)(y.Fragment,{children:[e.titleText||e.title||"\u672a\u547d\u540d\u5217",e.groupHeader&&e.groupHeader.length>0?"(".concat(e.groupHeader.map((e=>{let{title:t}=e;return t})).join("-"),")"):""]});return(0,y.jsxs)("div",{className:r["columns-control-content"],children:[(0,y.jsx)("div",{className:r["columns-control-content-title"],children:(0,y.jsxs)(s.Row,{align:"middle",justify:"space-between",children:[(0,y.jsx)(s.Col,{children:"\u7f16\u8f91\u8868\u683c"}),(0,y.jsx)(s.Col,{children:(0,y.jsx)(s.Tooltip,{title:"\u6062\u590d\u9ed8\u8ba4",children:(0,y.jsx)(v.default,{type:"text",icon:(0,y.jsx)(_.default,{type:"icon-huifumorenshezhi"}),onClick:async()=>{n&&await n({}),t()}})})})]})}),(0,y.jsx)("div",{className:r["columns-control-content-scroller"],children:(0,y.jsxs)(s.Collapse,{defaultActiveKey:["active","un-active"],ghost:!0,bordered:!0,children:[(0,y.jsx)(J,{header:"\u663e\u793a\u7684\u4fe1\u606f",children:(0,y.jsxs)(s.List,{className:r["columns-control-content-list"],children:[p.map(((e,t)=>(0,y.jsx)(s.List.Item,{className:r["columns-control-content-item"],children:(0,y.jsx)(s.Checkbox,{checked:!0,disabled:!0,children:x(e)})},e.name||"left-".concat(t)))),(0,y.jsx)(U.ReactSortable,{list:g,filter:".ignore-elements",dragClass:r["sortable-drag"],ghostClass:r["sortable-ghost"],forceFallback:!0,setList:e=>{(e=>{const t=G()(c),n=[].concat(e.leftFixedColumns,e.visibleColumns,e.rightFixedColumns);(e.hiddenColumns||[]).forEach((e=>{V()(t,"".concat(e.name,".visible"),!1)})),n.forEach(((e,n)=>{V()(t,"".concat(e.name,".rank"),n+1)})),d(t)})({leftFixedColumns:p,visibleColumns:e,hiddenColumns:f,rightFixedColumns:h})},animation:300,delayOnTouchStart:!0,delay:2,children:g.map(((e,t)=>(0,y.jsxs)(s.List.Item,{className:i()(r["columns-control-content-item"],r["is-drag"]),children:[(0,y.jsx)(_.default,{type:"icon-paixu",className:r["columns-control-content-item-icon"]}),(0,y.jsx)(s.Checkbox,{checked:!0,disabled:e.fixed||p.length+g.length+h.length<=1,onChange:t=>{t.stopPropagation(),t.preventDefault();const n=Object.assign({},c);n[e.name]=Object.assign({},n[e.name],{visible:!1}),d(n)},children:x(e)})]},e.name||"visible-".concat(t))))}),h.map(((e,t)=>(0,y.jsx)(s.List.Item,{className:r["columns-control-content-item"],children:(0,y.jsx)(s.Checkbox,{checked:!0,disabled:!0,children:e.titleText||e.title||"\u672a\u547d\u540d\u5217"})},e.name||"right-".concat(t))))]})},"active"),(0,y.jsx)(J,{header:(0,y.jsxs)(s.Row,{wrap:!1,justify:"space-between",children:[(0,y.jsx)(s.Col,{children:"\u9690\u85cf\u7684\u4fe1\u606f"}),(0,y.jsx)(s.Col,{onClick:e=>{e.stopPropagation(),e.preventDefault()},children:(0,y.jsx)(B.SearchInput,{prefix:(0,y.jsx)(_.default,{type:"icon-sousuo",size:12}),placeholder:"\u641c\u7d22",onSearch:e=>{m(e)},className:r["columns-control-content-input"],size:"small"})})]}),children:(0,y.jsx)(s.List,{dataSource:f.filter((e=>"string"===typeof(e.titleText||e.title)&&(e.titleText||e.title).indexOf(u)>-1)),renderItem:e=>(0,y.jsx)(s.List.Item,{className:r["columns-control-content-item"],children:(0,y.jsx)(s.Checkbox,{checked:!1,onChange:t=>{t.stopPropagation(),t.preventDefault();const n=Object.assign({},c);n[e.name]=Object.assign({},n[e.name],{visible:!0}),d(n)},children:e.titleText||e.title||"\u672a\u547d\u540d\u5217"})},e.key)})},"un-active")]})}),(0,y.jsxs)(s.Row,{className:r["columns-control-content-footer"],justify:"end",gutter:10,children:[(0,y.jsx)(s.Col,{children:(0,y.jsx)(s.Button,{size:"small",onClick:()=>{d(o||{}),t()},children:"\u53d6\u6d88"})}),(0,y.jsx)(s.Col,{children:(0,y.jsx)(v.default,{type:"primary",size:"small",onClick:async()=>{n&&await n(c),t()},children:"\u786e\u5b9a"})})]})]})};var Z=n(50908),$=n(60436),ee=n.n($),te=n(25704),ne=n.n(te);const re=e=>{let{title:t,columns:n,config:l,setConfig:i}=e;const[o,c]=(0,a.useState)(!1);return(0,y.jsxs)(s.Row,{wrap:!1,children:[(0,y.jsx)(s.Col,{flex:1,children:t}),(0,y.jsx)(s.Col,{children:(0,y.jsx)(s.Popover,{open:o,onOpenChange:c,trigger:"click",placement:"bottomLeft",overlayClassName:r["columns-control-overlay"],content:(0,y.jsx)(Q,{columns:n,config:l,close:()=>{c(!1)},onConfirm:e=>{i((t=>A()(e,((e,n,r)=>{e[r]=Object.assign({},t[r],L()(n,["visible","rank"]))}),{})))}}),children:(0,y.jsx)("span",{className:r["table-changer-setting"],children:(0,y.jsx)(_.default,{type:"icon-shezhi"})})})})]})},se=e=>{let{columns:t,name:n,controllerOpen:s,tableWidth:l}=e;const[o,c]=(0,a.useState)(null),d=(0,a.useRef)(o);d.current=o;const u=(0,a.useRef)(null),p=(0,a.useRef)(null),[h,g]=(0,a.useState)({}),{tableServerApis:v}=(0,D.usePreset)(),f=null===v||void 0===v?void 0:v.getDataApi(n),x=(0,Z.useDebouncedCallback)(((e,t)=>{null===v||void 0===v||v.setDataFunc(e,t)}),500),j=m()((e=>{(0,a.startTransition)((()=>{g((t=>{const r="function"===typeof e?e(t):e;return n&&s&&x(n,r),r}))}))})),{send:b}=(0,C.useFetch)(Object.assign({...Object.assign({},f),auto:!1,cache:"TABLE_CONFIG_".concat(n),isLocal:!0,onRequestSuccess:e=>{g(Object.assign({},e))}})),N=m()((()=>{n&&s&&f&&b({force:!1})}));(0,a.useEffect)((()=>{N()}),[N]);const w=(0,a.useMemo)((()=>t.filter((e=>!(!1===M()(h,"".concat(e.name,".visible"))||!0!==M()(h,"".concat(e.name,".visible"))&&!0===e.hidden))).sort(((e,t)=>{const n=e=>M()(h,"".concat(e.name,".rank"),0)+("left"===e.fixed?-1e4:0)+("right"===e.fixed?1e4:0);return n(e)-n(t)}))),[t,h]),X=(0,a.useMemo)((()=>ne()(w,(e=>{let{type:t}=e;return"options"!==t}))),[w]),k=(0,a.useMemo)((()=>T()(w,(e=>{let{type:t,name:n}=e;return M()(h,"".concat(n,".width"))||P[t].width}))),[w,h]),S=e=>{let{width:t,index:n}=e;return X===n?t+Math.max(l-k-2,0):t},F=m()(((e,t)=>(0,y.jsx)("span",{className:i()(r["cell-resize-bar"]),onMouseDown:n=>{u.current=Object.assign({},e,{index:t}),p.current=n.clientX,c(t)},children:(0,y.jsx)(_.default,{type:"icon-paixu"})}))),O=m()((e=>{if(null===o)return;if(!u.current)return;const{name:t,width:n,min:r,max:s,index:a}=u.current,l=Math.min(Math.max(n+e,r),s);l<S({width:r,index:a})||j((e=>Object.assign({},e,{[t]:Object.assign({},e[t],{width:l})})))})),E=m()(((e,n)=>{const{name:s,width:a,min:l,max:o}=e;let c=e;n===w.length-1&&(c=Object.assign({},e,{className:"has-config-btn",title:(0,y.jsx)(re,{title:null===e||void 0===e?void 0:e.title,columns:t,config:h,setConfig:j})}));const u=()=>({className:i()({[r["is-moving"]]:d.current===n})}),m=Math.min(Math.max(M()(h,"".concat(s,".width"))||a,l),o),p=S({width:m,index:n});return Object.assign({},c,{onHeaderCell:u,onCell:u,width:p,shouldCellUpdate:(t,r)=>null===d.current||d.current===n||"hideInfo"===e.type||!ee()(t[e.name],r[e.name]),title:(0,y.jsxs)(y.Fragment,{children:[c.title,!(p>m&&p>o)&&F(Object.assign({},c,{width:p}),n)]})})}));return(0,a.useEffect)((()=>{const e=()=>{c(null),p.current=null,u.current=null},t=e=>{null!==d.current&&null!==u.current&&(null!==p.current?O(e.clientX-p.current):p.current=e.clientX)};return document.documentElement.addEventListener("mouseup",e,!0),document.documentElement.addEventListener("mousemove",t,!0),()=>{document.documentElement.removeEventListener("mouseup",e,!0),document.documentElement.removeEventListener("mousemove",t,!0)}}),[O]),{visibleColumns:w,currentMoveColumnIndex:o,resizeBarRender:F,columnsConfig:h,totalWidth:k,computedColumnProps:E}};var ae=n(90948),le=n.n(ae),ie=n(83416),oe=n.n(ie);const ce=e=>{let{rowKey:t,renderProps:n}=e;const[r,s]=(0,a.useState)(null),l=(0,a.useRef)(n);l.current=n;const i=m()(((e,n,a)=>{let{columnsConfig:i}=a;const{name:o,type:c,expandType:d,title:u,titleRender:m,fixed:p,emptyOf:h,emptyRender:g,groupHeader:_,sort:v,disableColItem:y,...f}=e,{render:x,width:j,min:b,max:C}=Object.assign({},P[c],"hideInfo"===c&&!le()(r)&&L()(P[d||"other"],["width","min","max"])),N=oe()(x);return{name:o,title:"function"===typeof m?m(u):u,min:b,max:C,width:j,fixed:p,groupHeader:_,sort:v,type:c,render:n=>{const a="function"===typeof t?t(n):n[t],c=Object.assign({},e,"function"===typeof e.render?e.render({...l.current,name:o,target:n}):{}),d=e=>{const t=(h||(e=>""===e||void 0===e||null===e))(e);return N(e,{...f,name:o,width:M()(i,"".concat(o,".width"))||j,min:b,max:C,isEmpty:t,emptyRender:g,hover:c.hover,colValue:n,renderProps:l.current,primary:c.primary,ellipsis:c.ellipsis,expand:r===a,onExpand:()=>s(a)})},u=c.hasOwnProperty("valueOf")&&"function"===typeof c.valueOf?c.valueOf(n,Object.assign({},l.current,{name:o},y?{targetRender:d}:{})):M()(n,o);return y?u:d(u)}}}));return{expandInfo:r,computedColumnProps:i}},de=e=>(0,a.useMemo)((()=>{const t=e.filter((e=>e.groupHeader&&e.groupHeader.length>0));if(t.length>0){const n=e.slice(0),r=[],s=e=>{const{groupHeader:t}=e;if(!(t&&t.length>0))return;const s=n.indexOf(e),a=(t,n)=>{const[r,...l]=t;let i=n.find((e=>e.name===r.name));i||(i=Object.assign({startIndex:s},r,{children:[]}),n.push(i)),l.length>0?a(l,i.children):i.children.push(e)};a(t,r),n.splice(s,1)};return t.forEach(s),r.forEach(((e,t)=>{n.splice(e.startIndex+t,0,e)})),{columns:n,hasGroupHeader:!0}}return{columns:e,hasGroupHeader:!1}}),[e]);var ue=n(75680),me=n.n(ue),pe=n(4696),he=n.n(pe);const ge=e=>new Map((e||[]).map((e=>{let{name:t,sort:n}=e;return[t,n]}))),_e=e=>{const[t,n]=me()(e,{value:"sort",defaultValue:"defaultSort",onChange:"onSortChange"}),s=(0,a.useMemo)((()=>ge(t)),[t]),l=(0,a.useCallback)((e=>n((t=>{const n=e(ge(t));return Array.from(n).map((e=>{let[t,n]=e;return{name:t,sort:n}}))}))),[n]);return(0,a.useCallback)((e=>{let{single:t,name:n}=e;return(0,y.jsxs)("div",{className:i()(r["sort-btn"],{[r["sort-active-desc"]]:"DESC"===s.get(n),[r["sort-active-asc"]]:"ASC"===s.get(n)}),onClick:()=>{l((e=>{const r=e.get(n),s="DESC"===r?"ASC":"ASC"===r?null:"DESC";if(t)return new Map(s?[[n,s]]:[]);const a=he()(e);return s?a.set(n,s):a.delete(n),a}))},children:[(0,y.jsx)(_.default,{type:"icon-triangle-up",className:r["sort-icon"]}),(0,y.jsx)(_.default,{type:"icon-triangle-down",className:r["sort-icon"]})]})}),[s,l])},ve=e=>{let{columns:t,className:n,getScrollEl:l,sticky:c,stickyOffset:u,pagination:p,columnRenderProps:h,rowKey:g,dataSource:_,controllerOpen:v,name:f,summary:x,scroll:j,onTablePropsReady:b,...C}=e;const[N,w]=(0,a.useState)(0),[X,k]=(0,a.useState)(!0);(0,a.useEffect)((()=>{N&&setTimeout((()=>{k(!1)}),0)}),[N]);(0,a.useRef)(h).current=h;const S=(0,d.c)((e=>{w(e.clientWidth)}),{isDebounce:!0}),{expandInfo:F,computedColumnProps:O}=ce({rowKey:g,renderProps:h}),{columnsConfig:E,visibleColumns:P,computedColumnProps:R,currentMoveColumnIndex:M,totalWidth:I}=se({columns:t,controllerOpen:v,name:f,computedColumnProps:O,tableWidth:N}),T=_e(C),z=(0,a.useMemo)((()=>P.map(((e,t)=>{let n=O(e,t,{rowKey:g,expandInfo:F,columnsConfig:E});return n.sort&&"options"!==e.type&&(n=Object.assign({},n,{title:(0,y.jsxs)(y.Fragment,{children:[n.title,T({name:e.name,single:"object"!==typeof n.sort||n.sort.single})]})})),v&&(n=R(n,t,{tableWidth:N,columnsConfig:E})),n}))),[P,N,E,F,g,v,O,R,T]),{columns:A,hasGroupHeader:K}=de(z),L=m()(b);return(0,a.useEffect)((()=>{L&&L({columns:t,groupColumns:A,dataSource:_,visibleColumns:P})}),[L,A,_,t,P]),(0,y.jsx)("div",{className:i()(n,r.table,{[r["is-resize"]]:null!==M,[r["is-computed"]]:X,[r["has-group-header"]]:K}),ref:S,style:{"--sticky-offset":u},children:!X&&(0,y.jsx)(o.c,{className:"table-page-scroller",scroller:{getContainer:l},getScrollTarget:e=>e.querySelector(".ant-table-body")||e.querySelector(".ant-table-content"),children:(0,y.jsx)(s.Table,{...C,sticky:!!c&&{getContainer:l},dataSource:_,rowKey:g,columns:A,scroll:Object.assign({},{x:Math.max(N,I)},j),pagination:p,summary:"function"===typeof x?function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return x(Object.assign({},{pageData:e},{columns:A}),...n)}:null})})})};ve.defaultProps={controllerOpen:!0,rowKey:"id",getScrollEl:c.K,columnRenderProps:{},sticky:!1,stickyOffset:"var(--nav-height)",pagination:!1};const ye=ve;var fe=n(54948);const xe=e=>({"en-US":()=>n.e(2960).then(n.bind(n,32960)),"zh-CN":()=>n.e(7472).then(n.bind(n,97472))}[e]());var je=n(74879),be=n(22396);const Ce=e=>{let{id:t,columns:n,children:r}=e;return t?(0,y.jsx)(fe.default,{id:t,children:e=>{let{options:t}=e;return r({columns:n.filter((e=>!e.name||(!Array.isArray(M()(t,"hiddenColumns"))||-1===t.hiddenColumns.indexOf(e.name))))})}}):r({columns:n})},Ne=(0,C.withFetch)((e=>{let{data:t,refresh:n,reload:s,requestParams:l,fetchProps:o,isComplete:d,setData:u,loadMore:p,send:h,dataFormat:g,className:_,featureId:v,columns:f,getColumns:x,pagination:j,columnRenderProps:b,summary:C,...N}=e;const w=m()(g),X=(0,a.useMemo)((()=>w(t)),[t,w]),k={dataSource:X.list,pagination:!!j.open&&{total:X.total,showTotal:e=>(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(je.FormattedMessage,{id:"Page_Total",moduleName:"Table",defaultMessage:"\u5171"}),(0,y.jsx)("span",{className:r.total_text,children:e}),(0,y.jsx)(je.FormattedMessage,{id:"Page_TotalCount",moduleName:"Table",defaultMessage:"\u6761"})]}),current:M()(l,[j.paramsType,j.currentName],1),pageSize:j.pageSize,onChange:j.onChange?j.onChange:(e,t)=>{e!==M()(l,[j.paramsType,j.currentName],1)?("refresh"===j.requestType?n:s)({[j.paramsType]:{[j.currentName]:e,[j.pageSizeName]:t}}):j.onShowSizeChange&&j.onShowSizeChange(e,t),(0,c.K)().scrollTop=0},size:j.size,showSizeChanger:j.showSizeChanger,showQuickJumper:j.showQuickJumper}};return(0,y.jsx)(je.IntlProvider,{importMessages:xe,moduleName:"Table",children:(0,y.jsx)(Ce,{id:v,columns:f,children:e=>{let{columns:r}=e;return(0,y.jsx)(ye,{...Object.assign({},N,k),className:i()(_,"loading-container",{"is-loading":!d}),columns:r,columnRenderProps:{...b,requestParams:l,fetchProps:o,data:t},summary:"function"===typeof C?function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return C(Object.assign({},{data:t,fetchProps:o,requestParams:l,refresh:n,reload:s,loadMore:p,send:h,dataFormat:g,pagination:j},...r))}:null})}})})}));Ne.defaultProps={pagination:{},columnRenderProps:{},sticky:!0,dataFormat:e=>({list:e.pageData,total:e.totalCount})};const we=(0,a.forwardRef)(((e,t)=>{let{pagination:n,...r}=e;n=Object.assign({},{showSizeChanger:!0,showQuickJumper:!0,open:!0,paramsType:"data",requestType:"reload",currentName:"currentPage",pageSizeName:"perPage",pageSize:20},n);const s="".concat((r.name||"common").toUpperCase(),"_TABLE_PAGE_SIZE"),[l,i]=(0,a.useState)(be.c.getItem(s)||n.pageSize),o=(0,a.useMemo)((()=>{const e={};return r.params&&Object.keys(r.params).length>0&&(e.params={...r.params,[n.pageSizeName]:l}),r.data&&Object.keys(r.data).length>0&&(e.data={...r.data,[n.pageSizeName]:l}),e}),[r.params,r.data,n.pageSizeName,l]);return(0,y.jsx)(Ne,{...r,...o,pagination:Object.assign({},n,{pageSize:l,onShowSizeChange:(e,t)=>{be.c.setItem(s,t),i(t)}}),ref:t})}))}}]);
//# sourceMappingURL=7668.4e8732da.chunk.js.map