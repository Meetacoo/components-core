"use strict";(self.webpackChunk_kne_components_components_core=self.webpackChunk_kne_components_components_core||[]).push([[7285,9666],{27285:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var s=n(73884),i=n(10486),r=n(66484),o=n(96499);const a=parseInt(String(s.version).split(".")[0])<18;class c extends s.Component{constructor(){super(...arguments),this.elRef=(0,s.createRef)(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame((()=>{this.doResize()})))}}render(){const e=[];for(const t of this.state.customRenderingMap.values())e.push(s.createElement(d,{key:t.id,customRendering:t}));return s.createElement("div",{ref:this.elRef},e)}componentDidMount(){const e=new o.cy;let t;this.handleCustomRendering=e.handle.bind(e),this.calendar=new r.Calendar(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),e.subscribe((e=>{const n=Date.now(),s=!t;(a||s||this.isUpdating||this.isUnmounting||n-t<100?h:i.flushSync)((()=>{this.setState({customRenderingMap:e},(()=>{t=n,s?this.doResize():this.requestResize()}))}))}))}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){void 0!==this.resizeId&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}c.act=h;class d extends s.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:t}=e,n="function"===typeof t?t(e.renderProps):t;return(0,i.createPortal)(n,e.containerEl)}}function h(e){e()}}}]);
//# sourceMappingURL=7285.e023f277.chunk.js.map