(self.webpackChunk_kne_components_components_core=self.webpackChunk_kne_components_components_core||[]).push([[5868,1151,9034,1664],{42787:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(10486),s=n(73884),o=n(96418),l=n.n(o),i=n(83136),a=n.n(i);const c={scroller:"style_scroller__EfuqR__DdjY3","scroller-inner":"style_scroller-inner__NJSE0__DdjY3","is-moving":"style_is-moving__jGuy0__DdjY3"};var d=n(70579);const u=e=>{let{onScroll:t,getContainer:n,...o}=e;const l=(0,s.useRef)(0),[i,u]=(0,s.useState)(!1),m=(0,s.useRef)(i);m.current=i;const p=(0,s.useRef)(t);p.current=t;const h=(0,s.useRef)(1);return h.current=o.width/o.innerWidth,(0,s.useEffect)((()=>{const e=e=>{m.current&&p.current(h.current*(e.clientX-l.current)),l.current=e.clientX},t=()=>{u(!1)};return document.addEventListener("mousemove",e,!0),document.addEventListener("mouseup",t,!0),()=>{document.removeEventListener("mousemove",e,!0),document.removeEventListener("mouseup",t,!0)}}),[]),(0,r.createPortal)(o.hasScroller?(0,d.jsx)("div",{className:c.scroller,style:{left:o.left,width:o.width,height:15},children:(0,d.jsx)("div",{className:a()(c["scroller-inner"],{[c["is-moving"]]:i}),style:{width:o.innerWidth,left:o.innerLeft},onMouseDown:e=>{e.preventDefault(),l.current=e.clientX,u(!0)}})}):null,n()||document.body)},m=e=>{let{className:t,scroller:n,getScrollTarget:r,children:o}=e;const[i,m]=(0,s.useState)({left:0,width:0,innerLeft:0,innerWidth:0,height:0,hasScroller:!1}),p=(0,s.useRef)(null),h=l()((()=>p.current&&r(p.current))),y=(0,s.useRef)();return y.current="object"===typeof n&&"function"===typeof n.getContainer?n.getContainer:()=>null,(0,s.useEffect)((()=>{const e=y.current()||document.documentElement;let t;const n=()=>{if(!t)return;const{left:n,width:r,top:s,height:o}=t.getBoundingClientRect(),l=t.offsetHeight-t.clientHeight||15,i=r*t.clientWidth/t.scrollWidth-6,a=t.scrollLeft*t.clientWidth/t.scrollWidth+2,c=e.getBoundingClientRect();m((d=>Object.assign({},d,{left:n,width:r,innerLeft:a,innerWidth:i,height:l,hasScroller:t.scrollWidth-t.clientWidth>0&&(e===document.documentElement?s+o-e.offsetHeight>0&&s<e.offsetHeight:s<c.top+c.height&&s+o>c.top+c.height)})))},r=new ResizeObserver(n);return new ResizeObserver((()=>{t=h(),t&&(r.disconnect(),n(),Array.from(t.children).forEach((e=>{r.observe(e)})),t.addEventListener("scroll",n))})).observe(p.current),window.addEventListener("scroll",n),e.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n),e.removeEventListener("scroll",n)}}),[h]),n?(0,d.jsxs)("div",{className:a()(c["scroller-outer"],t),ref:p,style:{"--scroller-bar-height":null!==i&&void 0!==i&&i.hasScroller?"15px":"0px"},children:[o,(0,d.jsx)(u,{...i,getContainer:y.current,onScroll:e=>{h().scrollLeft+=e}})]}):o};m.defaultProps={scroller:!0,getScrollTarget:()=>document.querySelector(".simplebar-content-wrapper")};const p=m},25644:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r={getItem:e=>{const t=window.localStorage.getItem(e);try{const{dataType:e,value:n}=JSON.parse(t);if("object"===e&&"null"===n)return null;if("undefined"===e)return;return"number"===e?Number(n):"boolean"===e?Boolean(n):n}catch(n){return null}},setItem:(e,t)=>{const n=typeof t;window.localStorage.setItem(e,JSON.stringify({dataType:n,value:t}))}}},48731:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var r=n(73884),s=n(87558),o=n(76329),l=n(15797),i=n.n(l),a=n(79686),c=n.n(a),d=n(70579);const u=[["gender",()=>[{value:"M",description:"\u7537"},{value:"F",description:"\u5973"}]],["marital",()=>[{description:"\u5df2\u5a5a",value:"Y"},{description:"\u672a\u5a5a",value:"N"}]],["confirm",()=>[{description:"\u662f",value:"Y"},{description:"\u5426",value:"N"}]],["political",()=>[{description:"\u4e2d\u5171\u515a\u5458",value:"\u4e2d\u5171\u515a\u5458"},{description:"\u5171\u9752\u56e2\u5458",value:"\u5171\u9752\u56e2\u5458"},{description:"\u7fa4\u4f17",value:"\u7fa4\u4f17"},{description:"\u5176\u4ed6\u515a\u6d3e",value:"\u5176\u4ed6\u515a\u6d3e"}]],["phoneStateEnum",()=>[{value:0,description:"\u7a7a\u53f7"},{value:1,description:"\u5b9e\u53f7"},{value:2,description:"\u505c\u673a"},{value:3,description:"\u5e93\u65e0"},{value:4,description:"\u6c89\u9ed8\u53f7"},{value:5,description:"\u98ce\u9669\u53f7"}]],["degreeEnum",()=>[{description:"\u521d\u4e2d",value:10},{description:"\u4e2d\u4e13",value:20},{description:"\u9ad8\u4e2d",value:30},{description:"\u5927\u4e13",value:40},{description:"\u672c\u79d1",value:50},{description:"\u7855\u58eb\u7814\u7a76\u751f",value:60},{description:"\u535a\u58eb\u7814\u7a76\u751f",value:70},{description:"\u535a\u58eb\u540e",value:75},{description:"\u5b66\u5386\u4e0d\u9650",value:999}]]],m=(0,s.withFetch)((e=>{let{data:t,children:n}=e;return"function"===typeof n?n(t):n||(null===t||void 0===t?void 0:t.description)})),p=i()((e=>new Map(u.concat(Object.keys(Object.assign({},e)).map((t=>[t,e[t]])))))),h=e=>{let{loader:t,...n}=e;const{global:{enumsRef:s}}=(0,o.useGlobalContext)(),l=(0,r.useRef)(null);return(0,d.jsx)(m,{...n,loader:async function(){const e=p(await t(...arguments)),{params:n}=arguments.length<=0?void 0:arguments[0],{moduleName:r,name:o,force:i,locale:a}=n,d=async t=>!0!==i&&l.current===a&&s.current.get(t)||await(async()=>{const n=e.get(t),r=await(async()=>"function"===typeof n?new Map((await n({locale:a})).map((e=>[e.value.toString(),e]))):Array.isArray(n)?new Map(n.map((e=>[e.value.toString(),e]))):"object"===typeof n?new Map(Object.keys(n).map((e=>[e.toString(),n[e]]))):(console.warn("\u679a\u4e3e\u503cloader\u7684\u8bbe\u7f6e\u53ef\u80fd\u4e0d\u6b63\u786e"),new Map))();return s.current.set(t,r),l.current=a,r})();if(Array.isArray(r))return await Promise.all(r.map((e=>d(e).then((e=>Array.from(e.values()))))));const u=await d(r);return c()(o)?Array.from(u.values()):u.get(o.toString())}})},y=e=>{let{moduleName:t,name:n,force:r,children:s,...l}=e;const i=(0,o.usePreset)();return(0,d.jsx)(h,{...l,params:{moduleName:t,locale:null===i||void 0===i?void 0:i.locale,enums:null===i||void 0===i?void 0:i.enums,name:n,force:r},loader:e=>{let{params:t}=e;return t.enums},children:s})};y.defaultProps={force:!1};const f=y},63361:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>_,useFeatureCall:()=>g});var r=n(73884),s=n(76329),o=n(33097),l=n.n(o),i=n(15797),a=n.n(i),c=n(1488),d=n.n(c),u=n(70579);const m=(e,t,n)=>{e&&(Array.isArray(e)?e.forEach((e=>{m(e,t,n)})):(t(Object.assign({},d()(e,["children"]),{parentId:n})),m(e.children,t,n?n+":"+e.id:e.id)))},p=a()((e=>{const t=(()=>{const t=new Map;return m(e,(e=>{t.set(e.parentId?e.parentId+":"+e.id:e.id,e)})),t})(),n=(e=>Array.from(e.keys()).filter((t=>{const n=e.get(t);return!(Array.isArray(n.dependencies)&&n.dependencies.length>0&&n.dependencies.some((n=>!e.get(t))))})))(t);return{profile:e,features:n,profileMap:t}})),h=(e,t)=>{let{profileMap:n,features:r}=t;const s=n.get(e);return-1!==r.indexOf(e)&&!0!==s.close&&l()(s,"dependencies",[]).every((t=>{const s=n.get(e);return r.indexOf(t)>-1&&!0!==s.close}))},y=(0,r.createContext)(null),{Provider:f}=y,g=e=>{const{features:t,profile:n,profileMap:o,debug:i}=(()=>{const e=(0,s.usePreset)(),{profile:t,debug:n}=l()(e,"features",{debug:!1,profile:{}});return Object.assign({},p(t),{debug:n})})(),a="system"===n.type?n.id:"root",c=(0,r.useContext)(y),d=c?c+":"+e:a+":"+e;return(0,r.useEffect)((()=>{t&&t.length>0&&i&&console.log("[featureId] ".concat(d,",[state] ").concat(h(d,{features:t,profileMap:o})),o.get(d))}),[t,o,i,d]),{isPass:!(e&&t&&t.length>0)||h(d,{features:t,profileMap:o}),currentId:d,feature:o.get(d)}},_=e=>{let{id:t,children:n}=e;const{isPass:r,feature:s,currentId:o}=g(t);return(0,u.jsx)(f,{value:o,children:"function"===typeof n?n({isPass:r,options:r?l()(s,"options"):l()(s,"rejectedOptions"),currentId:o}):r&&n})}},62716:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var r=n(73884),s=n(83136),o=n.n(s);const l={"state-tag":"style_state-tag__Kx27z__DdjY3","state-result-tag":"style_state-result-tag__CssDz__DdjY3","state-skill-tag":"style_state-skill-tag__k0bQE__DdjY3","state-tag-filter-result-wrapper":"style_state-tag-filter-result-wrapper__QYS5z__DdjY3","state-tag-filter-name":"style_state-tag-filter-name__iJaJd__DdjY3","state-tag-filterResult":"style_state-tag-filterResult__KTkot__DdjY3","show-bg":"style_show-bg__OcL+R__DdjY3","tag-text":"style_tag-text__JHCt+__DdjY3","state-tag-wrapper":"style_state-tag-wrapper__A-gTE__DdjY3"};var i=n(55199),a=n(70579);const c={default:"#666666",skill:{color:"#666666",borderColor:"#EEEEEE"},result:"#666666",filterResult:"#5CB8B2",success:"#027A48",progress:"#F09700",danger:"#D14343",info:"#155ACF",other:"#6740C3"},d=e=>{let{showBorder:t,text:n,type:s,showBackground:d,className:u,filterName:m,...p}=e;const h=(0,r.useMemo)((()=>{var e,t;return{color:(null===c||void 0===c||null===(e=c[s])||void 0===e?void 0:e.color)||c[s],borderColor:(null===c||void 0===c||null===(t=c[s])||void 0===t?void 0:t.borderColor)||c[s]}}),[s]);return(0,a.jsxs)(i.Space,{"data-testid":"components-core-state-tag",className:o()(l["state-tag-wrapper"],"filterResult"===s?l["state-tag-filter-result-wrapper"]:""),align:"center",size:4,children:[m?(0,a.jsxs)("span",{className:l["state-tag-filter-name"],children:[m,":"]}):null,(0,a.jsx)(i.Tag,{color:h.color,...p,style:{background:d?h.color+"0F":"none",color:h.color,border:t?"1px solid ".concat(h.borderColor):"none"},className:o()(l["state-tag"],u,"result"===s?l["state-result-tag"]:"","skill"===s?l["state-skill-tag"]:"",l["state-tag-".concat(s)],d?l["show-bg"]:"",t?l["show-border"]:""),children:(0,a.jsx)("span",{className:l["tag-text"],children:n})})]})};d.defaultProps={color:"#666666",type:"default",showBorder:!1,showBackground:!0,text:"",className:""};const u=d},75698:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TablePage:()=>Ee,default:()=>_e});const r={table:"style_table__z7kfz__DdjY3","is-resize":"style_is-resize__ut6RW__DdjY3","is-moving":"style_is-moving__BJ9wR__DdjY3","cell-resize-bar":"style_cell-resize-bar__-mlUF__DdjY3","is-computed":"style_is-computed__B9rIF__DdjY3","options-btn":"style_options-btn__U3uoy__DdjY3","options-width-container":"style_options-width-container__vYglB__DdjY3","options-hidden-container":"style_options-hidden-container__AUoRo__DdjY3","options-hidden-inner":"style_options-hidden-inner__xf-uk__DdjY3",tooltip:"style_tooltip__vJlkv__DdjY3","table-changer-setting":"style_table-changer-setting__HcrwR__DdjY3","width-changer-sign":"style_width-changer-sign__Aflyl__DdjY3","columns-control":"style_columns-control__5-5ZF__DdjY3","columns-control-content":"style_columns-control-content__MoeUI__DdjY3","columns-control-content-title":"style_columns-control-content-title__P5sXV__DdjY3","columns-control-content-scroller":"style_columns-control-content-scroller__CeYRV__DdjY3","columns-control-content-footer":"style_columns-control-content-footer__0bQWm__DdjY3","columns-control-content-input":"style_columns-control-content-input__G6yKq__DdjY3","columns-control-content-list":"style_columns-control-content-list__aXvTs__DdjY3","columns-control-content-item":"style_columns-control-content-item__jbyyE__DdjY3","is-drag":"style_is-drag__U68aw__DdjY3","columns-control-content-item-icon":"style_columns-control-content-item-icon__yJqZf__DdjY3","sortable-drag":"style_sortable-drag__K5hWd__DdjY3","sortable-ghost":"style_sortable-ghost__lKTd2__DdjY3","columns-control-overlay":"style_columns-control-overlay__OxCIz__DdjY3","sort-btn":"style_sort-btn__KvNLr__DdjY3","sort-active-desc":"style_sort-active-desc__TIhMC__DdjY3","sort-icon":"style_sort-icon__dB85I__DdjY3","sort-active-asc":"style_sort-active-asc__RUBup__DdjY3"};var s=n(55199),o=n(73884),l=n(83136),i=n.n(l),a=n(42787),c=n(99182),d=n(77964),u=n(96418),m=n.n(u);const p={"col-item":"columns_col-item__Ym1Ec__DdjY3",tag:"columns_tag__bQZLG__DdjY3",avatar:"columns_avatar__SLPI+__DdjY3",hover:"columns_hover__oAwHg__DdjY3",primary:"columns_primary__6KtaA__DdjY3",loading:"columns_loading__gtBay__DdjY3",options:"columns_options__WvDZD__DdjY3"};var h=n(57469),y=n.n(h),f=n(64671),g=n(81014),_=n(70579);const v=e=>{let{className:t,list:n,width:l}=e;const[a,c]=(0,o.useState)(n.length),u=()=>{const e=p.current.querySelectorAll(".option-item"),t=e.length,n=m.current.clientWidth;let r=0,s=0,l=[].map.call(e,(e=>e.offsetWidth));for(;n>=s+l[r]+8*r&&r<t;)s+=l[r],r+=1;for(;n<s+8*(r-1)+(r<t?40:0)&&r>0;)s-=l[r-1],r-=1;(0,o.startTransition)((()=>{c(r)}))},m=(0,d.A)(u),p=(0,d.A)(u),h=n.slice(a);return(0,_.jsxs)("div",{className:i()(t),style:{"--max-width":l+"px"},children:[(0,_.jsx)("div",{className:r["options-width-container"],ref:m}),(0,_.jsx)("div",{className:r["options-hidden-container"],children:(0,_.jsx)("div",{className:r["options-hidden-inner"],ref:p,children:(0,_.jsx)(s.Space,{children:n.map(((e,t)=>{let{className:n,...s}=e;return(0,o.createElement)(g.default,{...s,key:t,className:i()("option-item","btn-no-padding",r["options-btn"],n),type:"link"})}))})})}),(0,_.jsxs)(s.Space,{children:[n.slice(0,a).map(((e,t)=>{let{className:n,...s}=e;return(0,o.createElement)(g.default,{...s,key:t,className:i()("btn-no-padding",r["options-btn"],n),type:"link"})})),h.length>0&&(0,_.jsx)(s.Dropdown,{menu:{items:h.map(((e,t)=>{let{children:n,...r}=e;return{...r,key:t,label:n}}))},children:(0,_.jsx)(s.Button,{icon:(0,_.jsx)(f.default,{type:"icon-gengduo2"}),className:"btn-no-padding",type:"link"})})]})]})};var x=n(62716),j=n(40438),b=n(48731),w=n(87558);const C=e=>{let{children:t,ellipsis:n}=e;return(0,_.jsx)(s.Typography.Text,{ellipsis:n&&Object.assign({},{tooltip:{overlayClassName:r.tooltip,children:t}}),children:t})},E=e=>{let{type:t,item:n,isEmpty:r,emptyRender:s,hover:l,primary:a,children:c,width:d,style:u,onClick:m,colValue:h}=e;const[y,f]=(0,o.useState)(!1);return(0,_.jsx)("div",{style:Object.assign({},u,{"--max-width":d+"px"}),className:i()(p["col-item"],p[t],r?null:{[p.hover]:l,[p.primary]:a,[p.loading]:y}),onClick:e=>{"function"!==typeof m||r||y||(f(!0),Promise.resolve(m({item:n,colItem:h,event:e})).finally((()=>{f(!1)})))},children:r?s({type:t,item:n,hover:l,primary:a,children:c}):c})};E.defaultProps={emptyRender:()=>"-"};const R=E,S=(0,w.createWithFetch)({loading:null})((e=>{let{data:t,children:n}=e;return n(t)})),N=e=>{let{api:t,expand:n,onExpand:r,ellipsis:o,hover:l,primary:i,emptyRender:a,isEmpty:c}=e;return n?(0,_.jsx)(S,{...t,children:e=>(0,_.jsx)(R,{type:"hide-info-expand",item:e,hover:l,primary:i,emptyRender:a,isEmpty:c,children:(0,_.jsx)(C,{ellipsis:o,children:"function"===typeof t.children?t.children(e):e})})}):(0,_.jsx)(R,{type:"hide-info",primary:!0,isEmpty:c,emptyRender:a,children:(0,_.jsx)(s.Button,{className:"btn-no-padding",type:"link",onClick:r,children:"\u67e5\u770b"})})};var D=n(1488),Y=n.n(D);const k={date:{render:(e,t)=>{let{hover:n,primary:r,isEmpty:s,emptyRender:o,...l}=t;return(0,_.jsx)(R,{...l,type:"date",item:e,primary:r,hover:n,emptyRender:o,isEmpty:s||!y()(e).isValid(),children:y()(e).format("YYYY-MM-DD")})},width:160,min:120,max:400},dateShort:{render:(e,t)=>{let{hover:n,primary:r,isEmpty:s,emptyRender:o,...l}=t;return(0,_.jsx)(R,{...l,type:"date-short",item:e,primary:r,hover:n,emptyRender:o,isEmpty:s||!y()(e).isValid(),children:y()(e).format("YYYY-MM")})},width:120,min:100,max:400},dateRange:{render:(e,t)=>{let{hover:n,primary:r,isEmpty:s,emptyRender:o,...l}=t;return(0,_.jsx)(R,{...l,type:"date-range",item:e,primary:r,hover:n,emptyRender:o,isEmpty:s,children:y()(null===e||void 0===e?void 0:e[0]).format("YYYY-MM-DD HH:mm")+"-"+y()(null===e||void 0===e?void 0:e[1]).format("HH:mm")})},width:240,min:120,max:400},datetime:{render:(e,t)=>{let{hover:n,primary:r,emptyRender:s,isEmpty:o,hideSecond:l,...i}=t;return(0,_.jsx)(R,{...i,item:e,primary:r,hover:n,emptyRender:s,isEmpty:o||!y()(e).isValid(),children:y()(e).format(l?"YYYY-MM-DD HH:mm":"YYYY-MM-DD HH:mm:ss")})},width:190,min:190,max:400},serialNumber:{render:(e,t)=>{let{hover:n,primary:r,emptyRender:s,isEmpty:o,...l}=t;return(0,_.jsx)(R,{...l,type:"serial-number",item:e,primary:r,hover:n,emptyRender:s,isEmpty:o,children:e})},width:190,min:100,max:400},serialNumberShort:{render:(e,t)=>{let{hover:n,primary:r,emptyRender:s,isEmpty:o,...l}=t;return(0,_.jsx)(R,{...l,type:"serial-number-short",item:e,primary:r,hover:n,emptyRender:s,isEmpty:o,children:e})},width:120,min:100,max:400},user:{render:(e,t)=>{let{hover:n,primary:r,ellipsis:s,emptyRender:o,isEmpty:l,...i}=t;return(0,_.jsx)(R,{...i,type:"user",item:e,primary:r,hover:n,emptyRender:o,isEmpty:l,children:(0,_.jsx)(C,{ellipsis:s,children:e})})},width:200,min:120,max:400},userName:{render:(e,t)=>{let{hover:n,primary:r,ellipsis:s,emptyRender:o,isEmpty:l,...i}=t;return(0,_.jsx)(R,{...i,type:"user-name",item:e,primary:r,hover:n,emptyRender:o,isEmpty:l,children:(0,_.jsx)(C,{ellipsis:s,children:e})})},width:100,min:100,max:400},contacts:{render:(e,t)=>{let{hover:n,primary:r,ellipsis:s,emptyRender:o,isEmpty:l,...i}=t;return(0,_.jsx)(R,{...i,type:"contacts",item:e,primary:r,hover:n,emptyRender:o,isEmpty:l,children:(0,_.jsx)(C,{ellipsis:s,children:e})})},width:240,min:160,max:400},tag:{render:(e,t)=>{let{emptyRender:n,isEmpty:r,...s}=t;return(0,_.jsx)(R,{...s,type:"tag",item:e,emptyRender:n,isEmpty:r,children:e&&(e.isEnum?(0,_.jsx)(b.default,{name:e.name,moduleName:e.moduleName,force:e.force,children:t=>{let{type:n,description:r}=t;return(0,_.jsx)(x.default,{type:n,...Object.assign({},Y()(e,["name","isEnum","moduleName","force"])),text:r})}}):(0,_.jsx)(x.default,{...Object.assign({},e)}))})},width:140,min:100,max:400},avatar:{render:(e,t)=>{let{emptyRender:n,isEmpty:r,...s}=t;return(0,_.jsx)(R,{...s,type:"avatar",item:e,emptyRender:n,isEmpty:r,children:(0,_.jsx)(j.default.Avatar,{...Object.assign({},e),size:32})})},width:80,min:64,max:200},singleRow:{render:(e,t)=>{let{hover:n,primary:r,ellipsis:s,emptyRender:o,isEmpty:l,...i}=t;return(0,_.jsx)(R,{...i,type:"single-row",item:e,hover:n,primary:r,emptyRender:o,isEmpty:l,children:(0,_.jsx)(C,{ellipsis:s,children:e})})},width:70,min:70,max:400},hideInfo:{render:(e,t)=>(0,_.jsx)(N,{api:e,...t}),width:120,min:80,max:400},mainInfo:{render:(e,t)=>{let{ellipsis:n,hover:r=!0,primary:s=!0,emptyRender:o,isEmpty:l,...i}=t;return(0,_.jsx)(R,{...i,type:"main-info",item:e,hover:r,primary:s,emptyRender:o,isEmpty:l,children:(0,_.jsx)(C,{ellipsis:n,children:e})})},width:300,min:160,max:500},description:{render:(e,t)=>{let{hover:n,primary:r,ellipsis:s,emptyRender:o,isEmpty:l,...i}=t;return(0,_.jsx)(R,{...i,type:"description",item:e,hover:n,primary:r,emptyRender:o,isEmpty:l,children:(0,_.jsx)(C,{ellipsis:s,children:e})})},width:400,min:160,max:600},options:{render:(e,t)=>{let{width:n}=t;return(0,_.jsx)(v,{className:i()(p["col-item"],p.options),list:e,width:n})},width:180,min:120,max:400},sensitiveInfo:{render:(e,t)=>{let{hover:n,primary:r,ellipsis:s,emptyRender:o,isEmpty:l,...i}=t;return(0,_.jsx)(R,{...i,type:"sensitiveInfo",item:e,hover:n,primary:r,emptyRender:o,isEmpty:l,children:(0,_.jsx)(C,{ellipsis:s,children:e})})},width:200,min:100,max:400},other:{render:(e,t)=>{let{hover:n,primary:r,ellipsis:s,emptyRender:o,isEmpty:l,...i}=t;return(0,_.jsx)(R,{...i,type:"other",item:e,hover:n,primary:r,emptyRender:o,isEmpty:l,children:(0,_.jsx)(C,{ellipsis:s,children:e})})},width:200,min:120,max:400}},O=k;var M=n(33097),P=n.n(M),I=n(42907),A=n.n(I),z=n(22717),T=n.n(z),F=n(22616),L=n.n(F),H=n(76329),W=n(39835),B=n.n(W),K=n(36),q=n(76441),J=n(69613),G=n.n(J),U=n(56434),V=n.n(U);const{Panel:X}=s.Collapse,Q=e=>{let{close:t,onConfirm:n,columns:l,config:a}=e;const[c,d]=(0,o.useState)(a||{}),[u,m]=(0,o.useState)(""),{leftFixedColumns:p,rightFixedColumns:h,visibleColumns:y,hiddenColumns:v}=(0,o.useMemo)((()=>T()(Object.assign({leftFixedColumns:[],rightFixedColumns:[],visibleColumns:[],hiddenColumns:[]},B()(l,(e=>"right"===e.fixed?"rightFixedColumns":!0===e.fixed||"left"===e.fixed?"leftFixedColumns":!0!==P()(c,"".concat(e.name,".visible"))&&e.hidden||!1===P()(c,"".concat(e.name,".visible"))?"hiddenColumns":"visibleColumns"))),((e,t,n)=>{e[n]=t.sort(((e,t)=>P()(c,"".concat(e.name,".rank"),0)-P()(c,"".concat(t.name,".rank"),0)))}),{})),[l,c]),x=e=>(0,_.jsxs)(_.Fragment,{children:[e.titleText||e.title||"\u672a\u547d\u540d\u5217",e.groupHeader&&e.groupHeader.length>0?"(".concat(e.groupHeader.map((e=>{let{title:t}=e;return t})).join("-"),")"):""]});return(0,_.jsxs)("div",{className:r["columns-control-content"],children:[(0,_.jsx)("div",{className:r["columns-control-content-title"],children:(0,_.jsxs)(s.Row,{align:"middle",justify:"space-between",children:[(0,_.jsx)(s.Col,{children:"\u7f16\u8f91\u8868\u683c"}),(0,_.jsx)(s.Col,{children:(0,_.jsx)(s.Tooltip,{title:"\u6062\u590d\u9ed8\u8ba4",children:(0,_.jsx)(g.default,{type:"text",icon:(0,_.jsx)(f.default,{type:"icon-huifumorenshezhi"}),onClick:async()=>{n&&await n({}),t()}})})})]})}),(0,_.jsx)("div",{className:r["columns-control-content-scroller"],children:(0,_.jsxs)(s.Collapse,{defaultActiveKey:["active","un-active"],ghost:!0,bordered:!0,children:[(0,_.jsx)(X,{header:"\u663e\u793a\u7684\u4fe1\u606f",children:(0,_.jsxs)(s.List,{className:r["columns-control-content-list"],children:[p.map(((e,t)=>(0,_.jsx)(s.List.Item,{className:r["columns-control-content-item"],children:(0,_.jsx)(s.Checkbox,{checked:!0,disabled:!0,children:x(e)})},e.name||"left-".concat(t)))),(0,_.jsx)(q.ReactSortable,{list:y,filter:".ignore-elements",dragClass:r["sortable-drag"],ghostClass:r["sortable-ghost"],forceFallback:!0,setList:e=>{(e=>{const t=V()(c),n=[].concat(e.leftFixedColumns,e.visibleColumns,e.rightFixedColumns);(e.hiddenColumns||[]).forEach((e=>{G()(t,"".concat(e.name,".visible"),!1)})),n.forEach(((e,n)=>{G()(t,"".concat(e.name,".rank"),n+1)})),d(t)})({leftFixedColumns:p,visibleColumns:e,hiddenColumns:v,rightFixedColumns:h})},animation:300,delayOnTouchStart:!0,delay:2,children:y.map(((e,t)=>(0,_.jsxs)(s.List.Item,{className:i()(r["columns-control-content-item"],r["is-drag"]),children:[(0,_.jsx)(f.default,{type:"icon-paixu",className:r["columns-control-content-item-icon"]}),(0,_.jsx)(s.Checkbox,{checked:!0,disabled:e.fixed||p.length+y.length+h.length<=1,onChange:t=>{t.stopPropagation(),t.preventDefault();const n=Object.assign({},c);n[e.name]=Object.assign({},n[e.name],{visible:!1}),d(n)},children:x(e)})]},e.name||"visible-".concat(t))))}),h.map(((e,t)=>(0,_.jsx)(s.List.Item,{className:r["columns-control-content-item"],children:(0,_.jsx)(s.Checkbox,{checked:!0,disabled:!0,children:e.titleText||e.title||"\u672a\u547d\u540d\u5217"})},e.name||"right-".concat(t))))]})},"active"),(0,_.jsx)(X,{header:(0,_.jsxs)(s.Row,{wrap:!1,justify:"space-between",children:[(0,_.jsx)(s.Col,{children:"\u9690\u85cf\u7684\u4fe1\u606f"}),(0,_.jsx)(s.Col,{onClick:e=>{e.stopPropagation(),e.preventDefault()},children:(0,_.jsx)(K.SearchInput,{prefix:(0,_.jsx)(f.default,{type:"icon-sousuo",size:12}),placeholder:"\u641c\u7d22",onSearch:e=>{m(e)},className:r["columns-control-content-input"],size:"small"})})]}),children:(0,_.jsx)(s.List,{dataSource:v.filter((e=>"string"===typeof(e.titleText||e.title)&&(e.titleText||e.title).indexOf(u)>-1)),renderItem:e=>(0,_.jsx)(s.List.Item,{className:r["columns-control-content-item"],children:(0,_.jsx)(s.Checkbox,{checked:!1,onChange:t=>{t.stopPropagation(),t.preventDefault();const n=Object.assign({},c);n[e.name]=Object.assign({},n[e.name],{visible:!0}),d(n)},children:e.titleText||e.title||"\u672a\u547d\u540d\u5217"})},e.key)})},"un-active")]})}),(0,_.jsxs)(s.Row,{className:r["columns-control-content-footer"],justify:"end",gutter:10,children:[(0,_.jsx)(s.Col,{children:(0,_.jsx)(s.Button,{size:"small",onClick:()=>{d(a||{}),t()},children:"\u53d6\u6d88"})}),(0,_.jsx)(s.Col,{children:(0,_.jsx)(g.default,{type:"primary",size:"small",onClick:async()=>{n&&await n(c),t()},children:"\u786e\u5b9a"})})]})]})};var Z=n(51941),$=n(19853),ee=n.n($),te=n(21844),ne=n.n(te);const re=e=>{let{title:t,columns:n,config:l,setConfig:i}=e;const[a,c]=(0,o.useState)(!1);return(0,_.jsxs)(s.Row,{wrap:!1,children:[(0,_.jsx)(s.Col,{flex:1,children:t}),(0,_.jsx)(s.Col,{children:(0,_.jsx)(s.Popover,{open:a,onOpenChange:c,trigger:"click",placement:"bottomLeft",overlayClassName:r["columns-control-overlay"],content:(0,_.jsx)(Q,{columns:n,config:l,close:()=>{c(!1)},onConfirm:e=>{i((t=>T()(e,((e,n,r)=>{e[r]=Object.assign({},t[r],L()(n,["visible","rank"]))}),{})))}}),children:(0,_.jsx)("span",{className:r["table-changer-setting"],children:(0,_.jsx)(f.default,{type:"icon-shezhi"})})})})]})},se=e=>{let{columns:t,name:n,controllerOpen:s,tableWidth:l}=e;const[a,c]=(0,o.useState)(null),d=(0,o.useRef)(a);d.current=a;const u=(0,o.useRef)(null),p=(0,o.useRef)(null),[h,y]=(0,o.useState)({}),{tableServerApis:g}=(0,H.usePreset)(),v=null===g||void 0===g?void 0:g.getDataApi(n),x=(0,Z.useDebouncedCallback)(((e,t)=>{null===g||void 0===g||g.setDataFunc(e,t)}),500),j=m()((e=>{(0,o.startTransition)((()=>{y((t=>{const r="function"===typeof e?e(t):e;return n&&s&&x(n,r),r}))}))})),{send:b}=(0,w.useFetch)(Object.assign({...Object.assign({},v),auto:!1,cache:"TABLE_CONFIG_".concat(n),isLocal:!0,onRequestSuccess:e=>{y(Object.assign({},e))}})),C=m()((()=>{n&&s&&v&&b({force:!1})}));(0,o.useEffect)((()=>{C()}),[C]);const E=(0,o.useMemo)((()=>t.filter((e=>!(!1===P()(h,"".concat(e.name,".visible"))||!0!==P()(h,"".concat(e.name,".visible"))&&!0===e.hidden))).sort(((e,t)=>{const n=e=>P()(h,"".concat(e.name,".rank"),0)+("left"===e.fixed?-1e4:0)+("right"===e.fixed?1e4:0);return n(e)-n(t)}))),[t,h]),R=(0,o.useMemo)((()=>ne()(E,(e=>{let{type:t}=e;return"options"!==t}))),[E]),S=(0,o.useMemo)((()=>A()(E,(e=>{let{type:t,name:n}=e;return P()(h,"".concat(n,".width"))||O[t].width}))),[E,h]),N=e=>{let{width:t,index:n}=e;return R===n?t+Math.max(l-S-2,0):t},D=m()(((e,t)=>(0,_.jsx)("span",{className:i()(r["cell-resize-bar"]),onMouseDown:n=>{u.current=Object.assign({},e,{index:t}),p.current=n.clientX,c(t)},children:(0,_.jsx)(f.default,{type:"icon-paixu"})}))),Y=m()((e=>{if(null===a)return;if(!u.current)return;const{name:t,width:n,min:r,max:s,index:o}=u.current,l=Math.min(Math.max(n+e,r),s);l<N({width:r,index:o})||j((e=>Object.assign({},e,{[t]:Object.assign({},e[t],{width:l})})))})),k=m()(((e,n)=>{const{name:s,width:o,min:l,max:a}=e;let c=e;n===E.length-1&&(c=Object.assign({},e,{className:"has-config-btn",title:(0,_.jsx)(re,{title:null===e||void 0===e?void 0:e.title,columns:t,config:h,setConfig:j})}));const u=()=>({className:i()({[r["is-moving"]]:d.current===n})}),m=Math.min(Math.max(P()(h,"".concat(s,".width"))||o,l),a),p=N({width:m,index:n});return Object.assign({},c,{onHeaderCell:u,onCell:u,width:p,shouldCellUpdate:(t,r)=>null===d.current||d.current===n||"hideInfo"===e.type||!ee()(t[e.name],r[e.name]),title:(0,_.jsxs)(_.Fragment,{children:[c.title,!(p>m&&p>a)&&D(Object.assign({},c,{width:p}),n)]})})}));return(0,o.useEffect)((()=>{const e=()=>{c(null),p.current=null,u.current=null},t=e=>{null!==d.current&&null!==u.current&&(null!==p.current?Y(e.clientX-p.current):p.current=e.clientX)};return document.documentElement.addEventListener("mouseup",e,!0),document.documentElement.addEventListener("mousemove",t,!0),()=>{document.documentElement.removeEventListener("mouseup",e,!0),document.documentElement.removeEventListener("mousemove",t,!0)}}),[Y]),{visibleColumns:E,currentMoveColumnIndex:a,resizeBarRender:D,columnsConfig:h,totalWidth:S,computedColumnProps:k}};var oe=n(79686),le=n.n(oe),ie=n(15797),ae=n.n(ie);const ce=e=>{let{rowKey:t,renderProps:n}=e;const[r,s]=(0,o.useState)(null),l=(0,o.useRef)(n);l.current=n;const i=m()(((e,n,o)=>{let{columnsConfig:i}=o;const{name:a,type:c,expandType:d,title:u,titleRender:m,fixed:p,emptyOf:h,emptyRender:y,groupHeader:f,sort:g,disableColItem:_,...v}=e,{render:x,width:j,min:b,max:w}=Object.assign({},O[c],"hideInfo"===c&&!le()(r)&&L()(O[d||"other"],["width","min","max"])),C=ae()(x);return{name:a,title:"function"===typeof m?m(u):u,min:b,max:w,width:j,fixed:p,groupHeader:f,sort:g,type:c,render:n=>{const o="function"===typeof t?t(n):n[t],c=Object.assign({},e,"function"===typeof e.render?e.render({...l.current,name:a,target:n}):{}),d=e=>{const t=(h||(e=>""===e||void 0===e||null===e))(e);return C(e,{...v,name:a,width:P()(i,"".concat(a,".width"))||j,min:b,max:w,isEmpty:t,emptyRender:y,hover:c.hover,colValue:n,renderProps:l.current,primary:c.primary,ellipsis:c.ellipsis,expand:r===o,onExpand:()=>s(o)})},u=c.hasOwnProperty("valueOf")&&"function"===typeof c.valueOf?c.valueOf(n,Object.assign({},l.current,{name:a},_?{targetRender:d}:{})):P()(n,a);return _?u:d(u)}}}));return{expandInfo:r,computedColumnProps:i}},de=e=>(0,o.useMemo)((()=>{const t=e.filter((e=>e.groupHeader&&e.groupHeader.length>0));if(t.length>0){const n=e.slice(0),r=[],s=e=>{const{groupHeader:t}=e;if(!(t&&t.length>0))return;const s=n.indexOf(e),o=(t,n)=>{const[r,...l]=t;let i=n.find((e=>e.name===r.name));i||(i=Object.assign({startIndex:s},r,{children:[]}),n.push(i)),l.length>0?o(l,i.children):i.children.push(e)};o(t,r),n.splice(s,1)};return t.forEach(s),r.forEach(((e,t)=>{n.splice(e.startIndex+t,0,e)})),{columns:n,hasGroupHeader:!0}}return{columns:e,hasGroupHeader:!1}}),[e]);var ue=n(10986),me=n.n(ue),pe=n(41740),he=n.n(pe);const ye=e=>new Map((e||[]).map((e=>{let{name:t,sort:n}=e;return[t,n]}))),fe=e=>{const[t,n]=me()(e,{value:"sort",defaultValue:"defaultSort",onChange:"onSortChange"}),s=(0,o.useMemo)((()=>ye(t)),[t]),l=(0,o.useCallback)((e=>n((t=>{const n=e(ye(t));return Array.from(n).map((e=>{let[t,n]=e;return{name:t,sort:n}}))}))),[n]);return(0,o.useCallback)((e=>{let{single:t,name:n}=e;return(0,_.jsxs)("div",{className:i()(r["sort-btn"],{[r["sort-active-desc"]]:"DESC"===s.get(n),[r["sort-active-asc"]]:"ASC"===s.get(n)}),onClick:()=>{l((e=>{const r=e.get(n),s="DESC"===r?"ASC":"ASC"===r?null:"DESC";if(t)return new Map(s?[[n,s]]:[]);const o=he()(e);return s?o.set(n,s):o.delete(n),o}))},children:[(0,_.jsx)(f.default,{type:"icon-triangle-up",className:r["sort-icon"]}),(0,_.jsx)(f.default,{type:"icon-triangle-down",className:r["sort-icon"]})]})}),[s,l])},ge=e=>{let{columns:t,className:n,getScrollEl:l,sticky:c,stickyOffset:u,pagination:p,columnRenderProps:h,rowKey:y,dataSource:f,controllerOpen:g,name:v,summary:x,scroll:j,onTablePropsReady:b,...w}=e;const[C,E]=(0,o.useState)(0),[R,S]=(0,o.useState)(!0);(0,o.useEffect)((()=>{C&&setTimeout((()=>{S(!1)}),0)}),[C]);(0,o.useRef)(h).current=h;const N=(0,d.A)((e=>{E(e.clientWidth)}),{isDebounce:!0}),{expandInfo:D,computedColumnProps:Y}=ce({rowKey:y,renderProps:h}),{columnsConfig:k,visibleColumns:O,computedColumnProps:M,currentMoveColumnIndex:P,totalWidth:I}=se({columns:t,controllerOpen:g,name:v,computedColumnProps:Y,tableWidth:C}),A=fe(w),z=(0,o.useMemo)((()=>O.map(((e,t)=>{let n=Y(e,t,{rowKey:y,expandInfo:D,columnsConfig:k});return n.sort&&"options"!==e.type&&(n=Object.assign({},n,{title:(0,_.jsxs)(_.Fragment,{children:[n.title,A({name:e.name,single:"object"!==typeof n.sort||n.sort.single})]})})),g&&(n=M(n,t,{tableWidth:C,columnsConfig:k})),n}))),[O,C,k,D,y,g,Y,M,A]),{columns:T,hasGroupHeader:F}=de(z),L=m()(b);return(0,o.useEffect)((()=>{L&&L({columns:t,groupColumns:T,dataSource:f,visibleColumns:O})}),[L,T,f,t,O]),(0,_.jsx)("div",{className:i()(n,r.table,{[r["is-resize"]]:null!==P,[r["is-computed"]]:R,[r["has-group-header"]]:F}),ref:N,style:{"--sticky-offset":u},children:!R&&(0,_.jsx)(a.A,{className:"table-page-scroller",scroller:{getContainer:l},getScrollTarget:e=>e.querySelector(".ant-table-body")||e.querySelector(".ant-table-content"),children:(0,_.jsx)(s.Table,{...w,sticky:!!c&&{getContainer:l},dataSource:f,rowKey:y,columns:T,scroll:Object.assign({},{x:Math.max(C,I)},j),pagination:p,summary:"function"===typeof x?function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return x(Object.assign({},{pageData:e},{columns:T}),...n)}:null})})})};ge.defaultProps={controllerOpen:!0,rowKey:"id",getScrollEl:c.h,columnRenderProps:{},sticky:!1,stickyOffset:"var(--nav-height)",pagination:!1};const _e=ge;var ve=n(63361);const xe=e=>({"en-US":()=>n.e(399).then(n.bind(n,80399)),"zh-CN":()=>n.e(9809).then(n.bind(n,59809))}[e]());var je=n(58609),be=n(25644);const we=e=>{let{id:t,columns:n,children:r}=e;return t?(0,_.jsx)(ve.default,{id:t,children:e=>{let{options:t}=e;return r({columns:n.filter((e=>!e.name||(!Array.isArray(P()(t,"hiddenColumns"))||-1===t.hiddenColumns.indexOf(e.name))))})}}):r({columns:n})},Ce=(0,w.withFetch)((e=>{let{data:t,refresh:n,reload:s,requestParams:l,fetchProps:a,isComplete:d,setData:u,loadMore:p,send:h,dataFormat:y,className:f,featureId:g,columns:v,getColumns:x,pagination:j,columnRenderProps:b,summary:w,...C}=e;const E=m()(y),R=(0,o.useMemo)((()=>E(t)),[t,E]),S={dataSource:R.list,pagination:!!j.open&&{total:R.total,showTotal:e=>(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(je.FormattedMessage,{id:"Page_Total",moduleName:"Table",defaultMessage:"\u5171"}),(0,_.jsx)("span",{className:r.total_text,children:e}),(0,_.jsx)(je.FormattedMessage,{id:"Page_TotalCount",moduleName:"Table",defaultMessage:"\u6761"})]}),current:P()(l,[j.paramsType,j.currentName],1),pageSize:j.pageSize,onChange:j.onChange?j.onChange:(e,t)=>{e!==P()(l,[j.paramsType,j.currentName],1)?("refresh"===j.requestType?n:s)({[j.paramsType]:{[j.currentName]:e,[j.pageSizeName]:t}}):j.onShowSizeChange&&j.onShowSizeChange(e,t),(0,c.h)().scrollTop=0},size:j.size,showSizeChanger:j.showSizeChanger,showQuickJumper:j.showQuickJumper}};return(0,_.jsx)(je.IntlProvider,{importMessages:xe,moduleName:"Table",children:(0,_.jsx)(we,{id:g,columns:v,children:e=>{let{columns:r}=e;return(0,_.jsx)(_e,{...Object.assign({},C,S),className:i()(f,"loading-container",{"is-loading":!d}),columns:r,columnRenderProps:{...b,requestParams:l,fetchProps:a,data:t},summary:"function"===typeof w?function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return w(Object.assign({},{data:t,fetchProps:a,requestParams:l,refresh:n,reload:s,loadMore:p,send:h,dataFormat:y,pagination:j},...r))}:null})}})})}));Ce.defaultProps={pagination:{},columnRenderProps:{},sticky:!0,dataFormat:e=>({list:e.pageData,total:e.totalCount})};const Ee=(0,o.forwardRef)(((e,t)=>{let{pagination:n,...r}=e;n=Object.assign({},{showSizeChanger:!0,showQuickJumper:!0,open:!0,paramsType:"data",requestType:"reload",currentName:"currentPage",pageSizeName:"perPage",pageSize:20},n);const s="".concat((r.name||"common").toUpperCase(),"_TABLE_PAGE_SIZE"),[l,i]=(0,o.useState)(be.A.getItem(s)||n.pageSize),a=(0,o.useMemo)((()=>{const e={};return r.params&&Object.keys(r.params).length>0&&(e.params={...r.params,[n.pageSizeName]:l}),r.data&&Object.keys(r.data).length>0&&(e.data={...r.data,[n.pageSizeName]:l}),e}),[r.params,r.data,n.pageSizeName,l]);return(0,_.jsx)(Ce,{...r,...a,pagination:Object.assign({},n,{pageSize:l,onShowSizeChange:(e,t)=>{be.A.setItem(s,t),i(t)}}),ref:t})}))},94710:e=>{e.exports=function(e,t,n,r){for(var s=-1,o=null==e?0:e.length;++s<o;){var l=e[s];t(r,l,n(l),e)}return r}},32952:(e,t,n)=>{var r=n(45652);e.exports=function(e,t,n,s){return r(e,(function(e,r,o){t(s,e,n(e),o)})),s}},45652:(e,t,n)=>{var r=n(94664),s=n(76516)(r);e.exports=s},75816:e=>{e.exports=function(e,t,n,r){for(var s=e.length,o=n+(r?1:-1);r?o--:++o<s;)if(t(e[o],o,e))return o;return-1}},99910:e=>{e.exports=function(e,t){for(var n,r=-1,s=e.length;++r<s;){var o=t(e[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}},19449:(e,t,n)=>{var r=n(94710),s=n(32952),o=n(9096),l=n(54052);e.exports=function(e,t){return function(n,i){var a=l(n)?r:s,c=t?t():{};return a(n,e,o(i,2),c)}}},76516:(e,t,n)=>{var r=n(6571);e.exports=function(e,t){return function(n,s){if(null==n)return n;if(!r(n))return e(n,s);for(var o=n.length,l=t?o:-1,i=Object(n);(t?l--:++l<o)&&!1!==s(i[l],l,i););return n}}},21844:(e,t,n)=>{var r=n(75816),s=n(9096),o=n(76759),l=Math.max,i=Math.min;e.exports=function(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var c=a-1;return void 0!==n&&(c=o(n),c=n<0?l(a+c,0):i(c,a-1)),r(e,s(t,3),c,!0)}},39835:(e,t,n)=>{var r=n(71775),s=n(19449),o=Object.prototype.hasOwnProperty,l=s((function(e,t,n){o.call(e,n)?e[n].push(t):r(e,n,[t])}));e.exports=l},69613:(e,t,n)=>{var r=n(9261);e.exports=function(e,t,n){return null==e?e:r(e,t,n)}},42907:(e,t,n)=>{var r=n(9096),s=n(99910);e.exports=function(e,t){return e&&e.length?s(e,r(t,2)):0}},76759:(e,t,n)=>{var r=n(37303);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}}}]);
//# sourceMappingURL=5868.115d2458.chunk.js.map