"use strict";(self.webpackChunk_kne_components_core=self.webpackChunk_kne_components_core||[]).push([[579],{20471:(e,t,n)=>{n.d(t,{Z:()=>s});const s={getItem:e=>{const t=window.localStorage.getItem(e);try{const{dataType:e,value:n}=JSON.parse(t);if("object"===e&&"null"===n)return null;if("undefined"===e)return;return"number"===e?Number(n):"boolean"===e?Boolean(n):n}catch(n){return null}},setItem:(e,t)=>{const n=typeof t;window.localStorage.setItem(e,JSON.stringify({dataType:n,value:t}))}}},33128:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var s=n(86122),l=n(66005),a=n(43682),r=(n(68787),n(49151)),i=n.n(r),o=n(42854),c=n.n(o),d=n(80184);const u=[["gender",()=>[{value:"M",description:"\u7537"},{value:"F",description:"\u5973"}]],["marital",()=>[{description:"\u5df2\u5a5a",value:"Y"},{description:"\u672a\u5a5a",value:"N"}]],["confirm",()=>[{description:"\u662f",value:"Y"},{description:"\u5426",value:"N"}]],["political",()=>[{description:"\u4e2d\u5171\u515a\u5458",value:"\u4e2d\u5171\u515a\u5458"},{description:"\u5171\u9752\u56e2\u5458",value:"\u5171\u9752\u56e2\u5458"},{description:"\u7fa4\u4f17",value:"\u7fa4\u4f17"},{description:"\u5176\u4ed6\u515a\u6d3e",value:"\u5176\u4ed6\u515a\u6d3e"}]],["phoneStateEnum",()=>[{value:0,description:"\u7a7a\u53f7"},{value:1,description:"\u5b9e\u53f7"},{value:2,description:"\u505c\u673a"},{value:3,description:"\u5e93\u65e0"},{value:4,description:"\u6c89\u9ed8\u53f7"},{value:5,description:"\u98ce\u9669\u53f7"}]],["degreeEnum",()=>[{description:"\u521d\u4e2d",value:10},{description:"\u4e2d\u4e13",value:20},{description:"\u9ad8\u4e2d",value:30},{description:"\u5927\u4e13",value:40},{description:"\u672c\u79d1",value:50},{description:"\u7855\u58eb\u7814\u7a76\u751f",value:60},{description:"\u535a\u58eb\u7814\u7a76\u751f",value:70},{description:"\u535a\u58eb\u540e",value:75},{description:"\u5b66\u5386\u4e0d\u9650",value:999}]]],m=(0,l.withFetch)((e=>{let{data:t,children:n}=e;return"function"===typeof n?n(t):n||(null===t||void 0===t?void 0:t.description)})),p=i()((e=>new Map(u.concat(Object.keys(Object.assign({},e)).map((t=>[t,e[t]])))))),h=e=>{let{loader:t,...n}=e;const{global:{enumsRef:l}}=(0,a.useGlobalContext)(),r=(0,s.useRef)(null);return(0,d.jsx)(m,{...n,loader:async function(){const e=p(await t(...arguments)),{params:n}=arguments.length<=0?void 0:arguments[0],{moduleName:s,name:a,force:i,locale:o}=n,d=async t=>!0!==i&&r.current===o&&l.current.get(t)||await(async()=>{const n=e.get(t),s=await(async()=>"function"===typeof n?new Map((await n({locale:o})).map((e=>[e.value.toString(),e]))):Array.isArray(n)?new Map(n.map((e=>[e.value.toString(),e]))):"object"===typeof n?new Map(Object.keys(n).map((e=>[e.toString(),n[e]]))):(console.warn("\u679a\u4e3e\u503cloader\u7684\u8bbe\u7f6e\u53ef\u80fd\u4e0d\u6b63\u786e"),new Map))();return l.current.set(t,s),r.current=o,s})();if(Array.isArray(s))return await Promise.all(s.map((e=>d(e).then((e=>Array.from(e.values()))))));const u=await d(s);return c()(a)?Array.from(u.values()):u.get(a.toString())}})},_=e=>{let{moduleName:t,name:n,force:s,children:l,...r}=e;const i=(0,a.usePreset)();return(0,d.jsx)(h,{...r,params:{moduleName:t,locale:null===i||void 0===i?void 0:i.locale,enums:null===i||void 0===i?void 0:i.enums,name:n,force:s},loader:e=>{let{params:t}=e;return t.enums},children:l})};_.defaultProps={force:!1};const g=_},79197:(e,t,n)=>{n.r(t),n.d(t,{AdvancedSelectFilterItem:()=>le,CascaderFilterItem:()=>ce,CityFilterItem:()=>oe,DatePickerFilterItem:()=>ee,DateRangePickerFilterItem:()=>te,FilterItem:()=>h,FilterItemContainer:()=>O,FilterLines:()=>b,FilterValueDisplay:()=>m,FunctionSelectFilterItem:()=>re,IndustrySelectFilterItem:()=>ie,InputFilterItem:()=>ue,PopoverItem:()=>D,TreeFilterItem:()=>de,TypeDateRangePickerFilterItem:()=>se,UserFilterItem:()=>ae,default:()=>xe,fields:()=>s,getFilterValue:()=>F,withFieldItem:()=>w});var s={};n.r(s),n.d(s,{AdvancedSelectFilterItem:()=>le,CascaderFilterItem:()=>ce,CityFilterItem:()=>oe,DatePickerFilterItem:()=>ee,DateRangePickerFilterItem:()=>te,FunctionSelectFilterItem:()=>re,IndustrySelectFilterItem:()=>ie,InputFilterItem:()=>ue,TreeFilterItem:()=>de,TypeDateRangePickerFilterItem:()=>se,UserFilterItem:()=>ae});var l=n(2508),a=n(4639),r=n(91602);const i={filter:"style_filter__Xml45__lDjs9","filter-item-icon":"style_filter-item-icon__kVCRK__lDjs9","filter-item-option-icon":"style_filter-item-option-icon__q1fz3__lDjs9","filter-title":"style_filter-title__PlIpS__lDjs9","filter-title-hidden":"style_filter-title-hidden__NJ1ZB__lDjs9","ad-filter-title":"style_ad-filter-title__5-OzD__lDjs9","ad-filter-line":"style_ad-filter-line__ga6UH__lDjs9","filter-line":"style_filter-line__E+cRh__lDjs9","clean-btn":"style_clean-btn__oSEvm__lDjs9","filter-item":"style_filter-item__Q2ncE__lDjs9","un-expand":"style_un-expand__4PFY8__lDjs9","ad-filter-selected":"style_ad-filter-selected__KbLfG__lDjs9","filter-label":"style_filter-label__qu26i__lDjs9","filter-item-wrap":"style_filter-item-wrap__rOq7H__lDjs9",option:"style_option__rd5Qo__lDjs9","is-active":"style_is-active__OArQI__lDjs9","is-visited":"style_is-visited__gZ5ni__lDjs9","un-expand-shadow":"style_un-expand-shadow__fj92e__lDjs9","filter-item-label":"style_filter-item-label__C781J__lDjs9","filter-item-field":"style_filter-item-field__Ltfr8__lDjs9","filter-drop-tag":"style_filter-drop-tag__DD-2P__lDjs9","filter-list-tag":"style_filter-list-tag__Qt5hA__lDjs9","filter-tag":"style_filter-tag__dUGfu__lDjs9","filter-tag-value":"style_filter-tag-value__p-SFv__lDjs9","pop-util-content":"style_pop-util-content__bx5zP__lDjs9","pop-util-overlay":"style_pop-util-overlay__LEASt__lDjs9","pop-util-footer":"style_pop-util-footer__Xat1s__lDjs9","pop-util-text":"style_pop-util-text__pzeUy__lDjs9","filter-item-inner":"style_filter-item-inner__LVXgh__lDjs9","filter-item-text":"style_filter-item-text__MA8tU__lDjs9","filter-item-custom":"style_filter-item-custom__UusRa__lDjs9","filter-item-custom-active":"style_filter-item-custom-active__uFtny__lDjs9","filter-item-number-range-split":"style_filter-item-number-range-split__fVt8E__lDjs9","filter-item-number-input":"style_filter-item-number-input__YPO6K__lDjs9","range-picker":"style_range-picker__c6ngq__lDjs9","cascader-select-wrap":"style_cascader-select-wrap__z5hu7__lDjs9","cascader-dropdown-menu":"style_cascader-dropdown-menu__nhAH5__lDjs9"};var o=n(7101),c=n.n(o);const d=e=>({"en-US":()=>n.e(633).then(n.bind(n,50633)),"zh-CN":()=>n.e(8170).then(n.bind(n,58170))}[e]());var u=n(80184);const m=e=>{let{value:t,extraExpand:n,onChange:s}=e;return(0,u.jsx)(r.IntlProvider,{importMessages:d,moduleName:"Filter",children:(0,u.jsxs)(l.Space,{className:i["filter-title"],align:"top",size:16,children:[(0,u.jsx)("span",{className:i["filter-label"],children:(0,u.jsx)(r.FormattedMessage,{id:"selectedText",moduleName:"Filter",defaultMessage:"\u60a8\u5df2\u9009\u62e9"})}),(0,u.jsxs)("div",{className:i["filter-line"],children:[t.map(((e,n)=>{let{name:l,label:r,value:i}=e;return(0,u.jsx)(a.default,{type:"filterResult",filterName:r,text:Array.isArray(i)?i.map((e=>e.label)).join("\uff0c"):i.label,closable:!0,onClose:()=>{const e=t.slice(0);e.splice(n,1),s(e)}},l)})),(0,u.jsxs)(l.Space,{size:4,className:c()(i["un-expand-shadow"]),children:[n,(0,u.jsx)(l.Button,{size:"small",children:(0,u.jsx)(r.FormattedMessage,{id:"clearAllText",moduleName:"Filter",defaultMessage:"\u6e05\u7a7a\u5168\u90e8"})})]}),(0,u.jsxs)(l.Space,{size:4,className:c()(i["un-expand"]),children:[n,(0,u.jsx)(l.Button,{size:"small",onClick:()=>{s([])},children:(0,u.jsx)(r.FormattedMessage,{id:"clearAllText",moduleName:"Filter",defaultMessage:"\u6e05\u7a7a\u5168\u90e8"})})]})]})]})})};var p=n(91243);const h=e=>{let{open:t,active:n,label:s,children:a}=e;return(0,u.jsx)(l.Space,{className:i["filter-item-wrap"],children:(0,u.jsxs)("div",{className:c()(i["filter-item"],{[i["is-active"]]:n,[i["is-visited"]]:t}),children:[(0,u.jsxs)(l.Space,{className:i["filter-item-label"],size:4,children:[(0,u.jsx)("div",{children:s}),(0,u.jsx)(p.default,{className:i["filter-item-icon"],type:"icon-triangle-down"})]}),(0,u.jsx)("div",{className:i["filter-item-field"],children:a})]})})};var _=n(86122);const g=(0,_.createContext)({}),{Provider:y}=g;var f=n(26181),j=n.n(f);const x=e=>{let{list:t,children:n}=e;const{value:s,onChange:l}=(0,_.useContext)(g);return(0,u.jsxs)("div",{className:i["filter-line"],children:[t.map(((e,t)=>{const n=e.type;return(0,_.createElement)(n,{...e.props,key:e.key||e.props.name||t,value:s?j()(s.get(e.props.name),"value"):e.props.value,onChange:l?t=>l({name:e.props.name,label:e.props.label,value:t}):e.props.onChange})})),n]})},v=e=>{let{list:t,displayLine:n,label:s,extra:a,children:o}=e;const m=t.length>n,[h,g]=(0,_.useState)(!1);return(0,u.jsxs)(r.IntlProvider,{importMessages:d,moduleName:"Filter",children:[(0,u.jsxs)(l.Space,{className:c()(i["filter-title"]),align:"top",size:16,children:[(0,u.jsx)("span",{className:i["filter-label"],children:s||(0,u.jsx)(r.FormattedMessage,{id:"filterText",moduleName:"Filter",defaultMessage:"\u7b5b\u9009"})}),(0,u.jsxs)(l.Row,{justify:"space-between",wrap:!1,align:"middle",children:[(0,u.jsx)(l.Col,{className:i["filter-list"],flex:1,children:t.slice(0,n).map(((e,t)=>(0,u.jsx)(x,{list:e,children:m&&!1===h&&t===n-1?(0,u.jsxs)(l.Space,{size:4,className:c()(i["filter-item"],i.option),onClick:()=>{g((e=>!e))},children:[(0,u.jsx)(r.FormattedMessage,{id:"moreText",moduleName:"Filter",defaultMessage:"\u66f4\u591a"}),(0,u.jsx)(p.default,{className:i["filter-item-option-icon"],type:"icon-arrow-thin-down"})]}):null},t)))}),(0,u.jsx)(l.Col,{children:a})]})]}),(0,u.jsx)(l.Space,{className:c()(i["filter-title"],"filter-title-wrap"),align:"center",size:16,children:o}),(0,u.jsxs)(l.Space,{className:c()(i["filter-title"],"filter-title-wrap",{[i["filter-title-hidden"]]:!(m&&h)}),align:"top",size:16,children:[(0,u.jsx)("span",{className:i["filter-label"],children:(0,u.jsx)(r.FormattedMessage,{id:"moreText",moduleName:"Filter",defaultMessage:"\u66f4\u591a"})}),(0,u.jsx)("div",{className:i["filter-list"],children:t.slice(n).map(((e,s)=>(0,u.jsx)(x,{list:e,children:s===t.length-n-1&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(l.Space,{size:4,className:c()(i["un-expand-shadow"]),children:(0,u.jsxs)(l.Space,{size:4,className:c()(i.option,i["filter-item"]),children:[(0,u.jsx)(r.FormattedMessage,{id:"toggleUpText",moduleName:"Filter",defaultMessage:"\u6536\u8d77"}),(0,u.jsx)(p.default,{className:i["filter-item-option-icon"],type:"icon-arrow-thin-up"})]})}),(0,u.jsx)(l.Space,{size:4,className:c()(i["un-expand"]),onClick:()=>{g((e=>!e))},children:(0,u.jsxs)(l.Space,{size:4,className:c()(i.option,i["filter-item"]),children:[(0,u.jsx)(r.FormattedMessage,{id:"toggleUpText",moduleName:"Filter",defaultMessage:"\u6536\u8d77"}),(0,u.jsx)(p.default,{className:i["filter-item-option-icon"],type:"icon-arrow-thin-up"})]})})]})},s)))})]})]})};v.defaultProps={displayLine:1};const b=v;var C=n(88122);const N=e=>{let{value:t,label:n,onValidate:s,overlayClassName:a,placement:o,onOpenChange:d,onChange:m,children:p}=e;const[g,y]=(0,_.useState)(t),[f,j]=(0,_.useState)(!1),x=(0,_.useMemo)((()=>s&&!s(g)),[s,g]);return(0,u.jsx)(l.Popover,{open:f,trigger:"click",placement:o,overlayClassName:c()(i["pop-util-overlay"],a),onOpenChange:e=>{j(e),y(t),d&&d(e)},content:(0,u.jsxs)("span",{onClick:e=>{e.stopPropagation()},children:[(0,u.jsx)("div",{className:i["pop-util-content"],children:p({value:g,onChange:y})}),(0,u.jsxs)(l.Row,{className:i["pop-util-footer"],justify:"end",gutter:8,children:[(0,u.jsx)(l.Col,{children:(0,u.jsx)(l.Button,{size:"small",onClick:()=>{j(!1),d&&d(!1)},children:(0,u.jsx)(r.FormattedMessage,{id:"cancelText",moduleName:"Filter",defaultMessage:"\u53d6\u6d88"})})}),(0,u.jsx)(l.Col,{children:(0,u.jsx)(l.Button,{size:"small",type:"primary",disabled:x,onClick:()=>{j(!1),d&&d(!1),m&&m(g)},children:(0,u.jsx)(r.FormattedMessage,{id:"determineText",moduleName:"Filter",defaultMessage:"\u786e\u5b9a"})})})]})]}),children:(0,u.jsx)("span",{children:(0,u.jsx)(h,{open:f,active:(0,C.Z)(t),label:n})})})};N.defaultProps={placeholder:"\u8bf7\u9009\u62e9",placement:"bottomLeft"};const D=N,w=e=>t=>{let{value:n,onChange:s,label:l,...a}=t;const[r,o]=(0,_.useState)(!1);return(0,u.jsx)(h,{label:l,open:r,active:(0,C.Z)(n),children:(0,u.jsx)(e,{...a,className:i["filter-item-inner"],value:n,onChange:s,valueType:"all",onOpenChange:o})})};var k=n(25653),S=n.n(k);const F=e=>S()(e,((e,t)=>{let{name:n,value:s}=t;e[n]=Array.isArray(s)?s.map((e=>{let{value:t}=e;return t})):s.value}),{}),O=e=>{let{children:t,...n}=e;return t(n)};var E=n(19304),P=n(11094),R=n(89251),M=n(62470),I=n(12913),T=n(14246),z=n(6098),A=n.n(z);const K="style_scroll-loader__Rcuti__lDjs9",L="style_is-popup__pCRv2__lDjs9";n(39461),n(89470);var H=n(89519),Y=n(24242),Z=n.n(Y),B=n(49151),U=n.n(B);const q=T.Z.useContext,V=e=>{let{value:t,setValue:n,size:s}=e;const{fetchApi:a,props:r}=q(),[i,o]=(0,_.useState)(""),d=A()(r.dataFormat),{single:m,isPopup:p,searchPlaceholder:h,...g}=r,y=(0,_.useRef)(r.fieldNames);y.current=r.fieldNames;const f=a.data,{treeData:j}=(0,_.useMemo)((()=>d(f,{searchText:i,fieldNames:y.current})),[d,i,f]);(0,_.useMemo)((()=>{}),[j,i,r.fieldNames]);return(0,u.jsx)(l.Space,{direction:"vertical",size:16,children:(0,u.jsx)(H.Z,{className:c()(K,{[L]:r.isPopup}),children:(0,u.jsx)(l.Tree,{...Z()(g,["value","valueType","children","dataFormat"]),size:s,checkable:!m,treeData:j,onCheck:n,checkedKeys:t,onSelect:m?n:e=>{const t=e[0];void 0!==t&&n((e=>{const n=e.slice(0),s=n.indexOf(t);return s>-1?n.splice(s,1):n.push(t),n}))},selectedKeys:m?t:void 0})})})},W=e=>{let{maxLength:t,dataFormat:n,...s}=e;return(0,u.jsx)(T.Z,{...s,dataFormat:e=>n(e,{fieldNames:s.fieldNames}),children:e=>{let{value:n,setValue:s}=e;return(0,u.jsx)(V,{size:t,value:n,setValue:s})}})};W.defaultProps={searchPlaceholder:"\u641c\u7d22",maxLength:Number.MAX_VALUE,size:"middle",isPopup:!0,checkStrictly:!1,dataFormat:(e,t)=>{let{fieldNames:n}=t;const s=U()(((e,t)=>{let{fieldNames:n}=t;const s=[],l=e=>{Array.isArray(e)&&e.length>0&&e.forEach((e=>{const t=e[j()(n,"key","key")],a=e[j()(n,"title","title")],r=e[j()(n,"children","children")];s.push({id:t,value:t,label:a}),l(r)}))};return l(e),s}));return{treeData:e,list:s(e,{fieldNames:n})}}};const G=W,J=e=>{let{label:t,value:n,onChange:s,placeholder:a,onValidate:r,overlayClassName:o,placement:c,onOpenChange:d,...m}=e;return(0,u.jsx)(D,{label:t,value:n,onChange:s,onValidate:r,overlayClassName:o,placement:c,onOpenChange:d,children:e=>{let{value:n,onChange:s}=e;return(0,u.jsx)(l.Input,{...m,placeholder:a||"\u8bf7\u8f93\u5165".concat(t),className:i["filter-item-text"],value:j()(n,"value",""),onChange:e=>s(e.target.value?{label:e.target.value,value:e.target.value}:null)})}})};var Q=n(93357),X=n.n(Q);const $=w((e=>{let{value:t,onChange:n,picker:s,...a}=e;return(0,u.jsx)(l.DatePicker,{...a,picker:s,value:t&&X()(t.value),onChange:e=>{const{format:t}=Object.assign({format:"YYYY-MM-DD"},a);e&&n({label:"date"!==s?"".concat(e.startOf(s).format(t),"~").concat(e.endOf(s).format(t)):e.format(t),value:new Date(e.startOf(s).valueOf())})}})}));$.defaultProps="date";const ee=$,te=w((e=>{let{value:t,onChange:n,...s}=e;return(0,u.jsx)(l.DatePicker.RangePicker,{...s,allowEmpty:[!1,!1],value:t&&Array.isArray(t.value)&&2===t.value.length&&t.value.map((e=>X()(e))),onChange:e=>{const{format:t}=Object.assign({format:"YYYY-MM-DD"},s);n({label:e.map((e=>e.format(t))).join("~"),value:e.map((e=>new Date(e.valueOf())))})}})}));var ne=n(13495);const se=e=>{let{label:t,value:n,onChange:s,...l}=e;return(0,u.jsx)(D,{label:t,value:n,onChange:s,onValidate:e=>{const t=null===e||void 0===e?void 0:e.value;return(null===t||void 0===t?void 0:t.type)&&Array.isArray(null===t||void 0===t?void 0:t.value)&&2===t.value.length},children:e=>{let{value:t,onChange:n}=e;return(0,u.jsx)(ne.Z,{...l,className:i["filter-item-text"],value:j()(t,"value"),onChange:e=>{const{format:t}=Object.assign({format:"YYYY-MM-DD"},l),s=(null===e||void 0===e?void 0:e.value)||[];n({label:s[0]&&!s[1]?"".concat(X()(s[0]).format(t),"\u4ee5\u540e"):!s[0]&&s[1]?"".concat(X()(s[1]).format(t),"\u4ee5\u524d"):s[0]&&s[1]?"".concat(X()(s[0]).format(t),"~").concat(X()(s[1]).format(t)):"",value:e})}})}})},le=w(E.ZP),ae=w(E.ax),re=w(P.Z),ie=w(M.Z),oe=w(R.ZP),ce=w(I.ZP),de=w(G),ue=(me=J,e=>{let{placeholder:t,label:n,...s}=e;return(0,u.jsx)(r.FormattedMessage,{id:"defaultInputPlaceholder",moduleName:"Filter",values:{label:n},children:e=>(0,u.jsx)(me,{...s,label:n,placeholder:t||e})})});var me,pe=n(97433),he=n.n(pe),_e=n(68787),ge=n.n(_e),ye=n(85021),fe=n(71192);const je=e=>{const{extraExpand:t,className:n,...s}=e,[l,a]=he()(e),o=(0,_.useMemo)((()=>l.filter((e=>(0,ye.isNotEmpty)(e.value)))),[l]),d=(0,_.useMemo)((()=>new Map(o.map((e=>[e.name,e])))),[o]);return(0,u.jsx)(r.IntlProvider,{moduleName:"Filter",importMessages:fe.Z,children:(0,u.jsx)(y,{value:{value:d,onChange:e=>{const t=ge()(d);e.value?t.set(e.name,e):t.delete(e.name),null===a||void 0===a||a(Array.from(t.values()))}},children:(0,u.jsxs)("div",{className:c()(i.filter,n),children:[(0,u.jsx)(b,{...s}),o&&o.length>0&&(0,u.jsx)(m,{value:o,onChange:a,extraExpand:t})]})})})};je.defaultProps={defaultValue:[]};const xe=je},71192:(e,t,n)=>{n.d(t,{Z:()=>s});const s=e=>({"en-US":()=>n.e(5649).then(n.bind(n,45649)),"zh-CN":()=>n.e(1681).then(n.bind(n,71681))}[e]())},87357:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_});const s=e=>({"en-US":()=>n.e(5834).then(n.bind(n,15834)),"zh-CN":()=>n.e(1080).then(n.bind(n,21080))}[e]());var l=n(91602),a=n(91243),r=n(2508),i=n(7101),o=n.n(i);const c="style_helper-guide__K5xFw__lDjs9",d="style_inner__bMKeU__lDjs9",u="style_content__xTfWZ__lDjs9",m="style_link__93j7O__lDjs9";var p=n(33128),h=n(80184);const _=e=>{let{name:t,className:n}=e;return(0,h.jsx)(l.IntlProvider,{importMessages:s,moduleName:"HelperGuide",children:(0,h.jsx)(p.default,{moduleName:"helperGuide",name:t,children:e=>e&&e.value&&(0,h.jsx)("div",{className:o()(c,n),children:(0,h.jsxs)(r.Space,{className:d,children:[(0,h.jsx)(a.default,{colorful:!0,type:"icon-color-bangzhuyindao"}),(0,h.jsx)("span",{className:u,children:e.content}),e.url&&(0,h.jsxs)(r.Typography.Link,{className:m,href:e.url,target:"_blank",children:["\u67e5\u770b\u5e2e\u52a9",(0,h.jsx)(a.default,{type:"icon-shuangjiantou-right"})]})]})})})})}},30105:(e,t,n)=>{n.r(t),n.d(t,{Affix:()=>R,Menu:()=>W.default,Page:()=>P,PermissionsPage:()=>V,StateBarPage:()=>X,TablePage:()=>J,default:()=>U});var s=n(2508),l=n(86122);const a={menu:null,filter:null,menuOpen:!0,menuWidth:"240px",menuFixed:!0,menuCloseButton:!0,backgroundColor:null,header:null,headerHeight:0,headerFixed:!0,headerInfo:null,backUrl:null,title:null,titleExtra:null,titleLeftExtra:null,noMargin:!1,noPadding:!1,optionFooterHeight:0,option:null,optionWidth:"400px",optionNoPadding:!1,optionFixed:!0,optionFooter:null},r=(0,l.createContext)({}),{Provider:i,Consumer:o}=r,c=()=>(0,l.useContext)(r);var d=n(16860),u=n(33107),m=n(81789),p=n(18111),h=n.n(p),_=n(41767),g=n(7101),y=n.n(g);const f={layout:"style_layout__k+lxR__lDjs9","page-content":"style_page-content__4XeN8__lDjs9","page-main":"style_page-main__P0yEF__lDjs9","page-main-content":"style_page-main-content__1OVPN__lDjs9","table-page":"style_table-page__JkbLf__lDjs9","helper-guide":"style_helper-guide__vzw4z__lDjs9","page-outer":"style_page-outer__2a6iH__lDjs9","no-margin":"style_no-margin__S6caT__lDjs9","page-menu":"style_page-menu__CZSa9__lDjs9",closed:"style_closed__hmnft__lDjs9","page-menu-inner":"style_page-menu-inner__rmKpu__lDjs9","page-menu-main":"style_page-menu-main__OXg2M__lDjs9","page-option-main":"style_page-option-main__LyfT3__lDjs9","page-menu-main-outer":"style_page-menu-main-outer__yY+-Q__lDjs9","page-option":"style_page-option__diS2S__lDjs9","page-option-inner":"style_page-option-inner__Fj1JH__lDjs9","page-option-footer":"style_page-option-footer__d7xE0__lDjs9","fixed-container":"style_fixed-container__1VZwY__lDjs9","is-fixed":"style_is-fixed__1aQhp__lDjs9","page-menu-btn-outer":"style_page-menu-btn-outer__iVJiW__lDjs9","page-menu-btn":"style_page-menu-btn__BiTy8__lDjs9","page-title":"style_page-title__zw-Fd__lDjs9","page-title-text":"style_page-title-text__Rj4RC__lDjs9","no-padding":"style_no-padding__V7Dwy__lDjs9","page-header":"style_page-header__a813p__lDjs9","page-header-info":"style_page-header-info__cMrZR__lDjs9","layout-menu":"style_layout-menu__yiab0__lDjs9","sub-menu":"style_sub-menu__dyqK7__lDjs9","no-collapsed":"style_no-collapsed__76h8W__lDjs9","has-not-children":"style_has-not-children__fnjRK__lDjs9","table-page-top":"style_table-page-top__bt1l9__lDjs9","error-component":"style_error-component__HvghB__lDjs9","state-bar-page":"style_state-bar-page__+aUM4__lDjs9","back-icon":"style_back-icon__79v2G__lDjs9"};var j=n(80184);const x=e=>{let{className:t,isFixed:n,children:s}=e;return n?(0,j.jsx)("div",{className:y()(t,"fixed-container",f["fixed-container"],{[f["is-fixed"]]:n}),children:s}):(0,j.jsx)("div",{className:y()(t,"fixed-container",f["fixed-container"]),children:s})};var v=n(91243),b=n(89519),C=n(51583),N=n(26181),D=n.n(N),w=n(88122),k=n(20471);const S="CORE_PAGE_MENU_OPEN_KEY",F=()=>{const{pageProps:e,setPageProps:t}=c(),{menu:n,menuOpen:l,menuWidth:a,menuFixed:r,menuCloseButton:i}=e,o=(0,C.useLocation)().pathname.split("/")[1];return n?(0,j.jsxs)(s.Col,{className:y()(f["page-menu"],{[f.closed]:!l}),style:{"--width":a},children:[(0,j.jsx)(x,{className:f["page-menu-inner"],isFixed:r,children:(0,j.jsx)("div",{className:f["page-menu-main-outer"],children:(0,j.jsx)(b.Z,{className:f["page-menu-main"],children:n})})}),i?(0,j.jsx)(x,{className:y()(f["page-menu-btn-outer"],f["page-menu-btn-outer"]),isFixed:r,children:(0,j.jsx)(s.Button,{className:y()(f["page-menu-btn"],{[f.closed]:!l}),icon:l?(0,j.jsx)(v.default,{type:"icon-arrow-bold-left"}):(0,j.jsx)(v.default,{type:"icon-arrow-bold-right"}),onClick:()=>{t({menuOpen:!e.menuOpen});const n=k.Z.getItem(S)||{};n[o]=!e.menuOpen,k.Z.setItem(S,n),t({menuOpen:!e.menuOpen})}})}):null]}):null},O=e=>{let{children:t,isPass:n,...a}=e;const{setPageProps:r}=c(),i=(0,l.useRef)(null),o=(()=>{const e=(0,C.useLocation)().pathname.split("/")[1];return(0,l.useMemo)((()=>{const t=k.Z.getItem(S)||{};return!(0,w.Z)(D()(t,e))||D()(t,e)}),[e])})(),d=(0,l.useRef)(o);return d.current=o,(0,l.useEffect)((()=>{if(!h()(i.current,a)){i.current=a;const e=Object.assign({},a,"boolean"===typeof d.current?{menuOpen:d.current}:{});e.header&&0===e.headerHeight&&delete e.headerHeight,e.optionFooter&&0===e.optionFooterHeight&&delete e.optionFooter,r(e)}}),[a,r]),!1===n?(0,j.jsx)(s.Result,{status:"403",subTitle:"\u6682\u672a\u5f00\u653e\u6b64\u529f\u80fd"}):t},E=e=>{let{featureId:t,name:n,openFeatures:s,...a}=e;return!0===s?(0,j.jsx)(_.default,{id:n,children:e=>{let{isPass:t}=e;return(0,l.createElement)(O,{...a,key:n,isPass:t})}}):(0,l.createElement)(O,{...a,key:n})};E.defaultProps=a;const P=E,R=e=>{let{isFixed:t,offsetTop:n,offsetBottom:l,onChange:a,...r}=e;return t?(0,j.jsx)(s.Affix,{...r,offsetTop:Number.isInteger(n)?n-.1:n,offsetBottom:l,onChange:a}):(0,j.jsx)("div",{...r})},M=e=>{let{targetKey:t,...n}=e;const s=(e=>{let{targetKey:t}=e;const{setPageProps:n}=c(),s=(0,l.useRef)(null);return(0,l.useLayoutEffect)((()=>{const e=()=>{n({[t]:s.current.offsetHeight})};e();const l=new MutationObserver(e);return l.observe(s.current,{subtree:!0,childList:!0}),()=>{l.disconnect()}}),[n,t]),s})({targetKey:t});return(0,j.jsx)("div",{...n,ref:s})},I=()=>{const{pageProps:e}=c(),{header:t,headerFixed:n}=e;return t?(0,j.jsx)(R,{isFixed:n,className:f["page-header"],offsetTop:d.navigationHeight,children:(0,j.jsx)(M,{targetKey:"headerHeight",children:t})}):null},T=()=>{const{pageProps:e}=c(),{headerInfo:t}=e,n=(0,l.useRef)(null);return t?(0,j.jsx)("div",{ref:n,className:y()(f["page-header-info"],"page-header-info"),children:t}):null};var z=n(79197);const A=e=>{let{title:t,filter:n,titleExtra:l,titleLeftExtra:a,backUrl:r}=e;const i=(0,C.useNavigate)();return n?(0,j.jsx)(z.default,{className:f["page-title"],...n,extra:l}):t||a||l?(0,j.jsxs)(s.Row,{justify:"space-between",align:"middle",className:f["page-title"],children:[(0,j.jsx)(s.Col,{children:(0,j.jsxs)(s.Space,{children:[t?(0,j.jsx)("div",{className:f["page-title-text"],children:r?(0,j.jsxs)(s.Space,{children:[(0,j.jsx)("span",{className:f["back-icon"],onClick:()=>{i(r)},children:(0,j.jsx)(v.default,{type:"icon-arrow-thin-left"})}),(0,j.jsx)("span",{children:t})]}):t}):null,a||null]})}),(0,j.jsx)(s.Col,{children:l})]}):null},K=()=>{const{pageProps:e}=c(),{option:t,optionWidth:n,optionFixed:l,optionFooter:a,optionFooterHeight:r,optionNoPadding:i}=e;return t?(0,j.jsx)(s.Col,{className:y()(f["page-option"],"page-option"),style:{"--width":n,"--foot-height":r+"px"},children:(0,j.jsxs)(x,{className:f["page-option-inner"],isFixed:l,children:[(0,j.jsx)(b.Z,{className:y()(f["page-option-main"],"page-option-main"),style:{padding:i?"0px":"var(--padding-width)"},children:t}),a?(0,j.jsx)(M,{className:f["page-option-footer"],targetKey:"optionFooterHeight",children:(0,j.jsx)(s.Space,{align:"center",children:a})}):null]})}):null};var L=n(87357);const{Content:H}=s.Layout,Y=()=>(0,j.jsx)(s.Alert,{message:"\u7cfb\u7edf\u51fa\u4e86\u70b9\u5c0f\u95ee\u9898\uff0c\u53ef\u5237\u65b0\u9875\u9762\u8fdb\u884c\u89e3\u51b3",showIcon:!0,type:"error",action:(0,j.jsx)(s.Button,{size:"small",danger:!0,onClick:()=>window.location.reload(),children:"\u5237\u65b0"})}),Z=e=>(0,j.jsx)(m.Z,{...e,errorComponent:Y}),B=e=>{let{children:t,theme:n,navigation:r}=e;const[o,c]=(0,l.useState)(0),[m,p]=(0,l.useState)(Object.assign({},a)),h=(0,l.useCallback)((e=>p((t=>Object.assign({},t,e)))),[]);return(0,l.useEffect)((()=>{const e=(0,u.R)(),t=()=>{c(e.scrollLeft)};return e.addEventListener("scroll",t),()=>{e.removeEventListener("scroll",t)}}),[]),(0,j.jsxs)(s.Layout,{className:f.layout,style:Object.assign({},{"--nav-height":d.navigationHeight+"px","--nav-height-base":"var(--nav-height)","--scroll-left":-o+"px"},n),children:[r&&(0,j.jsx)(Z,{children:(0,j.jsx)(d.default,{...r,onChange:e=>{(null===r||void 0===r?void 0:r.onChange)&&r.onChange(e)}})}),(0,j.jsx)(Z,{children:(0,j.jsx)(H,{className:f["layout-content-wrap"],children:(0,j.jsxs)(i,{value:{pageProps:m,setPageProps:h},children:[(0,j.jsx)(Z,{children:(0,j.jsx)(I,{})}),(0,j.jsx)(Z,{children:(0,j.jsx)(T,{})}),(0,j.jsx)(Z,{children:(0,j.jsxs)(s.Row,{className:y()(m.className,f["page-outer"]),wrap:!1,style:{"--nav-height":"calc(".concat(m.headerHeight,"px + var(--nav-height-base))"),"--nav-only-height":"var(--nav-height-base)"},children:[(0,j.jsx)(Z,{children:(0,j.jsx)(F,{})}),(0,j.jsx)(s.Col,{className:y()(f["page-content"],{[f["no-margin"]]:m.noMargin}),flex:1,style:{"--background-color":m.backgroundColor},children:(0,j.jsxs)("div",{className:f["page-main"],children:[(0,j.jsx)(Z,{children:(0,j.jsx)(A,{title:m.title,backUrl:m.backUrl,filter:m.filter,titleExtra:m.titleExtra,titleLeftExtra:m.titleLeftExtra})}),(0,j.jsx)("div",{className:y()(f["page-main-content"],{[f["no-padding"]]:m.noPadding}),children:(0,j.jsxs)(Z,{children:[m.helperGuideName&&(0,j.jsx)(L.default,{className:f["helper-guide-page"],name:m.helperGuideName}),t]})})]})}),(0,j.jsx)(Z,{children:(0,j.jsx)(K,{})})]})})]})})})]})};B.defaultProps={navigation:{}};const U=B;var q=n(78431);const V=e=>{let{permissions:t,...n}=e;return(0,j.jsx)(q.default,{...Object.assign({},t,{type:"error"}),children:(0,j.jsx)(P,{...n})})};var W=n(98473),G=n(98635);const J=(0,l.forwardRef)(((e,t)=>{let{helperGuideName:n,permissions:s,page:a,openFeatures:r,name:i,topArea:o,...c}=e;const[d,u]=(0,l.useState)(null);return(0,j.jsxs)(V,{name:i,openFeatures:r,permissions:s,...a,children:[o?(0,j.jsx)("div",{className:f["table-page-top"],children:"function"===typeof o?o(d):o}):null,(0,j.jsxs)("div",{className:f["table-page"],children:[n&&(0,j.jsx)(L.default,{className:y()("helper-guide",f["helper-guide"]),name:n}),(0,j.jsx)(G.TablePage,{...c,ref:t,name:i,onRequestSuccess:e=>{u(e)}})]})]})}));var Q=n(35635);const X=e=>{let{helperGuideName:t,permissions:n,page:s,stateBar:l,children:a,...r}=e;return(0,j.jsxs)(V,{...s,permissions:n,...r,children:[(0,j.jsx)("div",{className:f["state-bar-page"],children:(0,j.jsx)(Q.default,{...l})}),t&&(0,j.jsx)(L.default,{className:f["helper-guide"],name:t}),a]})}},98473:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});const s={menu:"style_menu__gvIvn__lDjs9","all-no-start-icon":"style_all-no-start-icon__CA+zR__lDjs9","no-start-icon":"style_no-start-icon__LnC1S__lDjs9","has-children":"style_has-children__m9tce__lDjs9","has-children-node":"style_has-children-node__2bhEB__lDjs9","is-root":"style_is-root__4hhOc__lDjs9",title:"style_title__+Hcar__lDjs9",active:"style_active__WU49K__lDjs9","no-collapse":"style_no-collapse__aIZBM__lDjs9","title-content":"style_title-content__cQXpK__lDjs9",loading:"style_loading__1pU4P__lDjs9"};var l=n(7101),a=n.n(l),r=n(2508),i=n(51583),o=n(78431),c=n(97433),d=n.n(c),u=n(91243),m=n(86122),p=n(16907),h=n.n(p),_=n(66005),g=n(80184);const y=e=>{const t=(0,i.useNavigate)(),{id:n,className:l,label:c,iconType:d,path:m,request:p,onClick:h,isOpen:y,isSelected:f,onOpenChange:j,children:x,fetchOptions:v,depth:b,onLoad:C,allowCollapsed:N}=e,D=Array.isArray(x)&&x.length>0||v,{refresh:w,isLoading:k}=(0,_.useFetch)(Object.assign({},v,{auto:!N&&v,onRequestSuccess:e=>{C(e)}}));return(0,g.jsx)(o.default,{request:p,children:(0,g.jsxs)("div",{className:a()(l,s["menu-item"]),children:[(0,g.jsxs)("div",{className:a()(s.title,{[s.active]:f,[s["has-children"]]:D,[s["no-collapse"]]:D&&!N,[s["no-start-icon"]]:!d,[s["is-root"]]:0===b}),onClick:s=>{s.stopPropagation(),D||!m?D||v?N&&(v&&w({}),j(!y)):null===h||void 0===h||h(n,e):t(m)},children:[d&&(0,g.jsx)(u.default,{type:d}),(0,g.jsx)("span",{className:s["title-content"],children:c}),D&&N&&(0,g.jsx)(u.default,{type:y?"icon-arrow-bold-down":"icon-arrow-bold-right"})]}),D?!N||y&&x?(0,g.jsx)("div",{className:s["children-list"],children:x}):!N||y&&k?(0,g.jsx)("div",{className:s["children-list"],children:(0,g.jsx)(r.Spin,{className:s.loading,size:"small"})}):void 0:null]})})},f=e=>{let{className:t,allowCollapsed:n,...l}=e;const{pathname:r,search:o}=(0,i.useLocation)(),[c,u]=d()(l,{value:"currentKey",defaultValue:"defaultCurrentKey"}),[p,_]=d()(l,{defaultValue:"defaultItems",value:"items",onChange:"onItemsChange"}),{items:f,defaultOpenKeys:j,links:x,childrenKeys:v,hasStartIcon:b,hasChildren:C}=(0,m.useMemo)((()=>{var e;const{items:t,childrenKeys:n,nodeMapping:s}=(e=>{const t={},n=[],s=(e,l)=>{const{parentKey:a,depth:r}=Object.assign({parentKey:"root",depth:0,paths:[]},l);return Array.isArray(e)&&e.length>0?e.map(((e,l)=>{const i="".concat(e.key||"".concat("root"!==a?"".concat(a,"-"):"","node-").concat(l));t[a]||(t[a]=[]),t[a].push(i);const o=s(e.children,{parentKey:i,depth:r+1});t[i]&&t[a].push(...t[i]);const c=Object.assign({},e,{key:i,parentKey:a,depth:r,children:o,originItem:e});return n[i]=c,c})):null};return{items:s(e),childrenKeys:t,nodeMapping:n}})(p);let l=!1,a=!1;const r=[],i=[];return null===n||void 0===n||null===(e=n.root)||void 0===e||e.forEach((e=>{const t=s[e];t.iconType&&(l=!0),t.path&&r.push({path:t.path,key:e}),Array.isArray(t.children)&&t.children.length>0&&(a=!0,i.push(t.key))})),{defaultOpenKeys:i,links:r,items:t,childrenKeys:n,hasStartIcon:l,hasChildren:a}}),[p]);(0,m.useEffect)((()=>{const e=x.find((e=>{let{path:t}=e;return h()(r.replace(/[#,?].*/,""))===h()(t)||h()(r+o,"")===h()(t)}));e&&u(e.key)}),[x,r,o,u]);const[N,D]=d()(Object.assign({},l,{defaultOpenKeys:l.defaultOpenKeys||j}),{value:"openKeys",defaultValue:"defaultOpenKeys",onChange:"onOpenChange"}),w=(0,m.useCallback)(((e,t)=>{const{parentKey:s,depth:l,selectedKey:a,openKeys:r,paths:i}=Object.assign({parentKey:null,depth:0,paths:[]},t);return Array.isArray(e)&&e.length>0?e.map((e=>{let{children:t,key:o,originItem:c,...d}=e;return(0,m.createElement)(y,{...Object.assign({},d),id:o,parentId:s,depth:l,allowCollapsed:n,isSelected:o===a||v[o]&&v[o].indexOf(a)>-1,onClick:u,onLoad:e=>{_((t=>{const n=t=>Array.isArray(t)&&t.length>0?t.map((t=>Object.assign({},t,{children:c===t?e:n(t.children)}))):null;return n(t)}))},isOpen:(r||[]).indexOf(o)>-1,key:o,onOpenChange:()=>{D((e=>{const t=e.slice(0);return e.indexOf(o)>-1?t.splice(e.indexOf(o),1):t.push(o),t}))}},w(t,{parentKey:s,depth:l+1,selectedKey:a,openKeys:r,paths:[...i,o]}))})):null}),[_,D,u,v,n]);return(0,g.jsx)("div",{className:a()(t,s.menu,{[s["all-no-start-icon"]]:!b,[s["has-children-node"]]:C}),children:w(f,{selectedKey:c,openKeys:N})})};f.defaultProps={defaultItems:[],allowCollapsed:!0};const j=f},16860:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S,navigationHeight:()=>D});var s=n(2508),l=n(51583),a=n(26181),r=n.n(a),i=n(86122),o=n(7101),c=n.n(o);const d=n.p+"static/media/favicon.477a5bb996fd5b367fe0dddc29f67824.svg";var u=n(84621);const m=e=>({"en-US":()=>n.e(7562).then(n.bind(n,7562)),"zh-CN":()=>n.e(3279).then(n.bind(n,43279))}[e]());var p=n(91602),h=n(91243);const _="style_navigation-wrap__VF8x2__lDjs9",g="style_navigation__60RrS__lDjs9",y="style_is-fixed__kHFWj__lDjs9",f="style_navigation-logo__q9qHu__lDjs9",j="style_logo__lB9RC__lDjs9",x="style_navigation-list__EYtkg__lDjs9",v="style_navigation-options__0BdJU__lDjs9",b="style_more-icon__gNMnt__lDjs9";var C=n(80184);const{Header:N}=s.Layout,D=48,w=e=>{let{name:t,mapping:n,defaultTitle:s}=e;const l=(0,i.useRef)({mapping:n,defaultTitle:s});return(0,i.useEffect)((()=>{const e=r()(l.current.mapping.get(t),"title");document.title=(e?e+"-":"")+l.current.defaultTitle}),[t]),null},k=e=>{let{permissions:t,list:n,headerLogo:a,rightOptions:o,isFixed:D,showIndex:k,indexLabel:S,defaultTitle:F,overflowedIndicator:O,base:E,onChange:P,className:R}=e;const M=(0,i.useMemo)((()=>new Map(n.map((e=>{let{key:t,...n}=e;return[t,n]})))),[n]),I=(0,l.useNavigate)(),T=(0,l.useLocation)(),z=(0,i.useRef)(),A=(0,i.useRef)(null),[K,L]=(0,i.useState)("\u66f4\u591a"),H=T.pathname.replace(new RegExp("^".concat(E)),"").split("/")[1],Y=H?r()(Array.from(M.entries()).find((e=>{let[n,{path:s,permission:l}]=e;return-1!==("function"===typeof s?s(l,t):s).indexOf("/"+H)})),"[0]"):"home";(0,i.useEffect)((()=>{const e=()=>{if(z.current){const e=z.current.querySelectorAll("li[data-menu-id]");let t=!1;for(let s=0;s<e.length;s++){if(-1!==e[s].getAttribute("data-menu-id").indexOf(Y)){t=!0;break}}let n=M.get(Y)&&!t?r()(M.get(Y),"title"):"";L(n)}},t={attributes:!0,childList:!0,subtree:!0};return z&&z.current&&(e(),A.current&&A.current.disconnect(),A.current=new MutationObserver(e),A.current.observe(z.current,t)),()=>{A.current&&A.current.disconnect()}}),[Y,M]);const Z=!!k&&{label:S||(0,C.jsx)(p.FormattedMessage,{id:"indexLabel",moduleName:"Navigation"}),key:"home",onClick:()=>{P&&P("/"),setTimeout((()=>{I("/")}),0)}};return(0,C.jsxs)(p.IntlProvider,{importMessages:m,moduleName:"Navigation",children:[(0,C.jsx)(p.FormattedMessage,{id:"defaultTitle",moduleName:"Navigation",children:e=>(0,C.jsx)(w,{defaultTitle:F||e,mapping:M,name:Y})}),(0,C.jsx)("div",{className:c()(_,R),children:(0,C.jsx)(N,{className:c()("navigation",g,{[y]:D}),children:(0,C.jsxs)(s.Row,{justify:"space-around",wrap:!1,children:[(0,C.jsx)(s.Col,{className:c()("navigation-logo",f),children:(0,C.jsx)(u.default,{className:c()(j),src:d,alt:"logo",...a})}),(0,C.jsx)(s.Col,{ref:z,flex:1,className:c()("navigation-list",x),children:(0,C.jsx)(s.Menu,{selectedKeys:[Y],mode:"horizontal",overflowedIndicator:O||(0,C.jsxs)(s.Space,{size:4,children:[(0,C.jsx)("span",{children:K||(0,C.jsx)(p.FormattedMessage,{id:"overflowedIndicator",moduleName:"Navigation"})}),(0,C.jsx)("span",{className:b,children:(0,C.jsx)(h.default,{type:"icon-arrow-thin-down"})})]}),items:[Z,...Array.from(M.entries()).filter((e=>{let[n,{permission:s}]=e;if("string"===typeof s)return t.indexOf(s)>-1;if("function"===typeof s)return s(t);if(Array.isArray(s)){for(let e of s)if(t.indexOf(e)>-1)return!0;return!1}return!0})).map((e=>{let[n,{title:s,path:l,permission:a}]=e;const r="function"===typeof l?l(a,t):l;return{label:s,key:n,onClick:()=>{P&&P(r),setTimeout((()=>{I(r)}),0)}}}))]})}),(0,C.jsx)(s.Col,{className:v,children:o})]})})})]})};k.defaultProps={isFixed:!0,permissions:[],list:[],showIndex:!0,base:""};const S=k},78431:(e,t,n)=>{n.r(t),n.d(t,{computedIsPass:()=>m,default:()=>g,usePermissions:()=>p,usePermissionsPass:()=>h});var s=n(86122),l=n(2508),a=n(26181),r=n.n(a),i=n(7101),o=n.n(i);const c="style_outer__vbHB9__lDjs9";var d=n(33583),u=n(80184);const m=e=>{let{permissions:t,request:n}=e;return!(Array.isArray(n)&&n.length>0)||n.some((e=>(t||[]).indexOf(e)>-1))},p=()=>{const e=(0,d.useGlobalContext)();return{permissions:r()(e,"global.accountInfo.permissions",[])}},h=e=>{let{request:t}=e;const{permissions:n}=p();return m({permissions:n,request:t})},_=e=>{let{type:t,className:n,tagName:a,message:r,request:i,children:d,...m}=e;const p=h({request:i});return"function"===typeof d?d({isPass:p,type:t,request:i}):!0===p?d:"error"===t?(0,u.jsx)(l.Result,{status:"403",subTitle:r}):"tooltip"===t?(0,u.jsx)(l.Tooltip,{title:r,children:(0,s.createElement)(a,{...m,className:o()(c,n)},d)}):null};_.defaultProps={type:"hidden",tagName:"span",message:"\u60a8\u6682\u65e0\u6743\u9650\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458"};const g=_},35635:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});var s=n(2508),l=n(7101),a=n.n(l);const r={"state-bar":"style_state-bar__3jfis__lDjs9","has-children":"style_has-children__oQDqU__lDjs9","tab-tab-control":"style_tab-tab-control__SopeO__lDjs9","tab-radio-control":"style_tab-radio-control__R8X6-__lDjs9","tab-step-control":"style_tab-step-control__EQaCl__lDjs9","inner-state-bar":"style_inner-state-bar__lWmOz__lDjs9"};var i=n(80184);const o=e=>{let{className:t,type:n="tab",stateOption:l=[],isInner:o,...c}=e;return(0,i.jsx)(s.Tabs,{...c,"data-testid":"components-core-state-bar",className:a()(r["state-bar"],r["tab-".concat(n,"-control")],t,{[r["inner-state-bar"]]:o,[r["has-children"]]:l.some((e=>!!e.children))}),style:{"--total-count":l.length},animated:!1,items:l.map((e=>{let{tab:t,label:n,key:s,...l}=e;return{label:t||n,key:s,...l}}))})}},4639:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var s=n(86122),l=n(7101),a=n.n(l);const r={"state-tag":"style_state-tag__Kx27z__lDjs9","state-result-tag":"style_state-result-tag__CssDz__lDjs9","state-skill-tag":"style_state-skill-tag__k0bQE__lDjs9","state-tag-filter-result-wrapper":"style_state-tag-filter-result-wrapper__QYS5z__lDjs9","state-tag-filter-name":"style_state-tag-filter-name__iJaJd__lDjs9","state-tag-filterResult":"style_state-tag-filterResult__KTkot__lDjs9","show-bg":"style_show-bg__OcL+R__lDjs9","tag-text":"style_tag-text__JHCt+__lDjs9","state-tag-wrapper":"style_state-tag-wrapper__A-gTE__lDjs9"};var i=n(2508),o=n(80184);const c={default:"#666666",skill:{color:"#666666",borderColor:"#EEEEEE"},result:"#666666",filterResult:"#5CB8B2",success:"#027A48",progress:"#F09700",danger:"#D14343",info:"#155ACF",other:"#6740C3"},d=e=>{let{showBorder:t,text:n,type:l,showBackground:d,className:u,filterName:m,...p}=e;const h=(0,s.useMemo)((()=>{var e,t;return{color:(null===c||void 0===c||null===(e=c[l])||void 0===e?void 0:e.color)||c[l],borderColor:(null===c||void 0===c||null===(t=c[l])||void 0===t?void 0:t.borderColor)||c[l]}}),[l]);return(0,o.jsxs)(i.Space,{"data-testid":"components-core-state-tag",className:a()(r["state-tag-wrapper"],"filterResult"===l?r["state-tag-filter-result-wrapper"]:""),align:"center",size:4,children:[m?(0,o.jsxs)("span",{className:r["state-tag-filter-name"],children:[m,":"]}):null,(0,o.jsx)(i.Tag,{color:h.color,...p,style:{background:d?h.color+"0F":"none",color:h.color,border:t?"1px solid ".concat(h.borderColor):"none"},className:a()(r["state-tag"],u,"result"===l?r["state-result-tag"]:"","skill"===l?r["state-skill-tag"]:"",r["state-tag-".concat(l)],d?r["show-bg"]:"",t?r["show-border"]:""),children:(0,o.jsx)("span",{className:r["tag-text"],children:n})})]})};d.defaultProps={color:"#666666",type:"default",showBorder:!1,showBackground:!0,text:"",className:""};const u=d},98635:(e,t,n)=>{n.r(t),n.d(t,{TablePage:()=>De,default:()=>fe});const s={table:"style_table__z7kfz__lDjs9","is-resize":"style_is-resize__ut6RW__lDjs9","is-moving":"style_is-moving__BJ9wR__lDjs9","cell-resize-bar":"style_cell-resize-bar__-mlUF__lDjs9","is-computed":"style_is-computed__B9rIF__lDjs9","options-btn":"style_options-btn__U3uoy__lDjs9",tooltip:"style_tooltip__vJlkv__lDjs9","table-changer-setting":"style_table-changer-setting__HcrwR__lDjs9","width-changer-sign":"style_width-changer-sign__Aflyl__lDjs9","columns-control":"style_columns-control__5-5ZF__lDjs9","columns-control-content":"style_columns-control-content__MoeUI__lDjs9","columns-control-content-title":"style_columns-control-content-title__P5sXV__lDjs9","columns-control-content-scroller":"style_columns-control-content-scroller__CeYRV__lDjs9","columns-control-content-footer":"style_columns-control-content-footer__0bQWm__lDjs9","columns-control-content-input":"style_columns-control-content-input__G6yKq__lDjs9","columns-control-content-list":"style_columns-control-content-list__aXvTs__lDjs9","columns-control-content-item":"style_columns-control-content-item__jbyyE__lDjs9","is-drag":"style_is-drag__U68aw__lDjs9","columns-control-content-item-icon":"style_columns-control-content-item-icon__yJqZf__lDjs9","sortable-drag":"style_sortable-drag__K5hWd__lDjs9","sortable-ghost":"style_sortable-ghost__lKTd2__lDjs9","columns-control-overlay":"style_columns-control-overlay__OxCIz__lDjs9","sort-btn":"style_sort-btn__KvNLr__lDjs9","sort-active-desc":"style_sort-active-desc__TIhMC__lDjs9","sort-icon":"style_sort-icon__dB85I__lDjs9","sort-active-asc":"style_sort-active-asc__RUBup__lDjs9"};var l=n(2508),a=n(86122),r=n(7101),i=n.n(r),o=n(64998),c=n(33107),d=n(27984),u=n(6098),m=n.n(u);const p={"col-item":"columns_col-item__Ym1Ec__lDjs9",tag:"columns_tag__bQZLG__lDjs9",avatar:"columns_avatar__SLPI+__lDjs9",hover:"columns_hover__oAwHg__lDjs9",primary:"columns_primary__6KtaA__lDjs9",loading:"columns_loading__gtBay__lDjs9",options:"columns_options__WvDZD__lDjs9"};var h=n(93357),_=n.n(h),g=n(91243),y=n(92527),f=n(80184);const j=e=>{let{className:t,list:n,width:r}=e;const[o,c]=(0,a.useState)(n.length),u=()=>{const e=p.current.querySelectorAll(".option-item"),t=e.length,n=m.current.clientWidth;let s=0,l=0,r=[].map.call(e,(e=>e.offsetWidth));for(;n>=l+r[s]+8*s&&s<t;)l+=r[s],s+=1;for(;n<l+8*(s-1)+(s<t?40:0)&&s>0;)l-=r[s-1],s-=1;(0,a.startTransition)((()=>{c(s)}))},m=(0,d.Z)(u),p=(0,d.Z)(u),h=n.slice(o);return(0,f.jsx)("div",{className:i()(t),style:{"--max-width":r+"px"},children:(0,f.jsxs)("div",{ref:m,children:[(0,f.jsx)("div",{style:{width:0,height:0,overflow:"hidden",position:"relative"},children:(0,f.jsx)("div",{style:{position:"absolute"},ref:p,children:(0,f.jsx)(l.Space,{children:n.map(((e,t)=>{let{className:n,...l}=e;return(0,a.createElement)(y.default,{...l,key:t,className:i()("option-item","btn-no-padding",s["options-btn"],n),type:"link"})}))})})}),(0,f.jsxs)(l.Space,{children:[n.slice(0,o).map(((e,t)=>{let{className:n,...l}=e;return(0,a.createElement)(y.default,{...l,key:t,className:i()("btn-no-padding",s["options-btn"],n),type:"link"})})),h.length>0&&(0,f.jsx)(l.Dropdown,{menu:{items:h.map(((e,t)=>{let{children:n,...s}=e;return{...s,key:t,label:n}}))},children:(0,f.jsx)(l.Button,{icon:(0,f.jsx)(g.default,{type:"icon-gengduo2"}),className:"btn-no-padding",type:"link"})})]})]})})};var x=n(4639),v=n(84621),b=n(33128),C=n(66005);const N=e=>{let{children:t,ellipsis:n}=e;return(0,f.jsx)(l.Typography.Text,{ellipsis:n&&Object.assign({},{tooltip:{overlayClassName:s.tooltip,children:t}}),children:t})},D=e=>{let{type:t,item:n,isEmpty:s,emptyRender:l,hover:r,primary:o,children:c,width:d,style:u,onClick:m,colValue:h}=e;const[_,g]=(0,a.useState)(!1);return(0,f.jsx)("div",{style:Object.assign({},u,{"--max-width":d+"px"}),className:i()(p["col-item"],p[t],s?null:{[p.hover]:r,[p.primary]:o,[p.loading]:_}),onClick:e=>{"function"!==typeof m||s||_||(g(!0),Promise.resolve(m({item:n,colItem:h,event:e})).finally((()=>{g(!1)})))},children:s?l({type:t,item:n,hover:r,primary:o,children:c}):c})};D.defaultProps={emptyRender:()=>"-"};const w=D,k=(0,C.createWithFetch)({loading:null})((e=>{let{data:t,children:n}=e;return n(t)})),S=e=>{let{api:t,expand:n,onExpand:s,ellipsis:a,hover:r,primary:i,emptyRender:o,isEmpty:c}=e;return n?(0,f.jsx)(k,{...t,children:e=>(0,f.jsx)(w,{type:"hide-info-expand",item:e,hover:r,primary:i,emptyRender:o,isEmpty:c,children:(0,f.jsx)(N,{ellipsis:a,children:"function"===typeof t.children?t.children(e):e})})}):(0,f.jsx)(w,{type:"hide-info",primary:!0,isEmpty:c,emptyRender:o,children:(0,f.jsx)(l.Button,{className:"btn-no-padding",type:"link",onClick:s,children:"\u67e5\u770b"})})};var F=n(24242),O=n.n(F);const E={date:{render:(e,t)=>{let{hover:n,primary:s,isEmpty:l,emptyRender:a,...r}=t;return(0,f.jsx)(w,{...r,type:"date",item:e,primary:s,hover:n,emptyRender:a,isEmpty:l||!_()(e).isValid(),children:_()(e).format("YYYY-MM-DD")})},width:160,min:120,max:400},dateShort:{render:(e,t)=>{let{hover:n,primary:s,isEmpty:l,emptyRender:a,...r}=t;return(0,f.jsx)(w,{...r,type:"date-short",item:e,primary:s,hover:n,emptyRender:a,isEmpty:l||!_()(e).isValid(),children:_()(e).format("YYYY-MM")})},width:120,min:100,max:400},dateRange:{render:(e,t)=>{let{hover:n,primary:s,isEmpty:l,emptyRender:a,...r}=t;return(0,f.jsx)(w,{...r,type:"date-range",item:e,primary:s,hover:n,emptyRender:a,isEmpty:l,children:_()(null===e||void 0===e?void 0:e[0]).format("YYYY-MM-DD HH:mm")+"-"+_()(null===e||void 0===e?void 0:e[1]).format("HH:mm")})},width:240,min:120,max:400},datetime:{render:(e,t)=>{let{hover:n,primary:s,emptyRender:l,isEmpty:a,hideSecond:r,...i}=t;return(0,f.jsx)(w,{...i,item:e,primary:s,hover:n,emptyRender:l,isEmpty:a||!_()(e).isValid(),children:_()(e).format(r?"YYYY-MM-DD HH:mm":"YYYY-MM-DD HH:mm:ss")})},width:190,min:190,max:400},serialNumber:{render:(e,t)=>{let{hover:n,primary:s,emptyRender:l,isEmpty:a,...r}=t;return(0,f.jsx)(w,{...r,type:"serial-number",item:e,primary:s,hover:n,emptyRender:l,isEmpty:a,children:e})},width:190,min:100,max:400},serialNumberShort:{render:(e,t)=>{let{hover:n,primary:s,emptyRender:l,isEmpty:a,...r}=t;return(0,f.jsx)(w,{...r,type:"serial-number-short",item:e,primary:s,hover:n,emptyRender:l,isEmpty:a,children:e})},width:120,min:100,max:400},user:{render:(e,t)=>{let{hover:n,primary:s,ellipsis:l,emptyRender:a,isEmpty:r,...i}=t;return(0,f.jsx)(w,{...i,type:"user",item:e,primary:s,hover:n,emptyRender:a,isEmpty:r,children:(0,f.jsx)(N,{ellipsis:l,children:e})})},width:200,min:120,max:400},userName:{render:(e,t)=>{let{hover:n,primary:s,ellipsis:l,emptyRender:a,isEmpty:r,...i}=t;return(0,f.jsx)(w,{...i,type:"user-name",item:e,primary:s,hover:n,emptyRender:a,isEmpty:r,children:(0,f.jsx)(N,{ellipsis:l,children:e})})},width:100,min:100,max:400},contacts:{render:(e,t)=>{let{hover:n,primary:s,ellipsis:l,emptyRender:a,isEmpty:r,...i}=t;return(0,f.jsx)(w,{...i,type:"contacts",item:e,primary:s,hover:n,emptyRender:a,isEmpty:r,children:(0,f.jsx)(N,{ellipsis:l,children:e})})},width:240,min:160,max:400},tag:{render:(e,t)=>{let{emptyRender:n,isEmpty:s,...l}=t;return(0,f.jsx)(w,{...l,type:"tag",item:e,emptyRender:n,isEmpty:s,children:e&&(e.isEnum?(0,f.jsx)(b.default,{name:e.name,moduleName:e.moduleName,force:e.force,children:t=>{let{type:n,description:s}=t;return(0,f.jsx)(x.default,{type:n,...Object.assign({},O()(e,["name","isEnum","moduleName","force"])),text:s})}}):(0,f.jsx)(x.default,{...Object.assign({},e)}))})},width:140,min:100,max:400},avatar:{render:(e,t)=>{let{emptyRender:n,isEmpty:s,...l}=t;return(0,f.jsx)(w,{...l,type:"avatar",item:e,emptyRender:n,isEmpty:s,children:(0,f.jsx)(v.default.Avatar,{...Object.assign({},e),size:32})})},width:80,min:64,max:200},singleRow:{render:(e,t)=>{let{hover:n,primary:s,ellipsis:l,emptyRender:a,isEmpty:r,...i}=t;return(0,f.jsx)(w,{...i,type:"single-row",item:e,hover:n,primary:s,emptyRender:a,isEmpty:r,children:(0,f.jsx)(N,{ellipsis:l,children:e})})},width:70,min:70,max:400},hideInfo:{render:(e,t)=>(0,f.jsx)(S,{api:e,...t}),width:120,min:80,max:400},mainInfo:{render:(e,t)=>{let{ellipsis:n,hover:s=!0,primary:l=!0,emptyRender:a,isEmpty:r,...i}=t;return(0,f.jsx)(w,{...i,type:"main-info",item:e,hover:s,primary:l,emptyRender:a,isEmpty:r,children:(0,f.jsx)(N,{ellipsis:n,children:e})})},width:300,min:160,max:500},description:{render:(e,t)=>{let{hover:n,primary:s,ellipsis:l,emptyRender:a,isEmpty:r,...i}=t;return(0,f.jsx)(w,{...i,type:"description",item:e,hover:n,primary:s,emptyRender:a,isEmpty:r,children:(0,f.jsx)(N,{ellipsis:l,children:e})})},width:400,min:160,max:600},options:{render:(e,t)=>{let{width:n}=t;return(0,f.jsx)(j,{className:i()(p["col-item"],p.options),list:e,width:n})},width:180,min:120,max:400},sensitiveInfo:{render:(e,t)=>{let{hover:n,primary:s,ellipsis:l,emptyRender:a,isEmpty:r,...i}=t;return(0,f.jsx)(w,{...i,type:"sensitiveInfo",item:e,hover:n,primary:s,emptyRender:a,isEmpty:r,children:(0,f.jsx)(N,{ellipsis:l,children:e})})},width:200,min:100,max:400},other:{render:(e,t)=>{let{hover:n,primary:s,ellipsis:l,emptyRender:a,isEmpty:r,...i}=t;return(0,f.jsx)(w,{...i,type:"other",item:e,hover:n,primary:s,emptyRender:a,isEmpty:r,children:(0,f.jsx)(N,{ellipsis:l,children:e})})},width:200,min:120,max:400}},P=E;var R=n(26181),M=n.n(R),I=n(31357),T=n.n(I),z=n(25653),A=n.n(z),K=n(36460),L=n.n(K),H=n(43682),Y=n(98444),Z=n.n(Y),B=n(85021),U=n(14250),q=n(74485),V=n.n(q),W=n(58121),G=n.n(W);const{Panel:J}=l.Collapse,Q=e=>{let{close:t,onConfirm:n,columns:r,config:o}=e;const[c,d]=(0,a.useState)(o||{}),[u,m]=(0,a.useState)(""),{leftFixedColumns:p,rightFixedColumns:h,visibleColumns:_,hiddenColumns:j}=(0,a.useMemo)((()=>A()(Object.assign({leftFixedColumns:[],rightFixedColumns:[],visibleColumns:[],hiddenColumns:[]},Z()(r,(e=>"right"===e.fixed?"rightFixedColumns":!0===e.fixed||"left"===e.fixed?"leftFixedColumns":!0!==M()(c,"".concat(e.name,".visible"))&&e.hidden||!1===M()(c,"".concat(e.name,".visible"))?"hiddenColumns":"visibleColumns"))),((e,t,n)=>{e[n]=t.sort(((e,t)=>M()(c,"".concat(e.name,".rank"),0)-M()(c,"".concat(t.name,".rank"),0)))}),{})),[r,c]),x=e=>(0,f.jsxs)(f.Fragment,{children:[e.titleText||e.title||"\u672a\u547d\u540d\u5217",e.groupHeader&&e.groupHeader.length>0?"(".concat(e.groupHeader.map((e=>{let{title:t}=e;return t})).join("-"),")"):""]});return(0,f.jsxs)("div",{className:s["columns-control-content"],children:[(0,f.jsx)("div",{className:s["columns-control-content-title"],children:(0,f.jsxs)(l.Row,{align:"middle",justify:"space-between",children:[(0,f.jsx)(l.Col,{children:"\u7f16\u8f91\u8868\u683c"}),(0,f.jsx)(l.Col,{children:(0,f.jsx)(l.Tooltip,{title:"\u6062\u590d\u9ed8\u8ba4",children:(0,f.jsx)(y.default,{type:"text",icon:(0,f.jsx)(g.default,{type:"icon-huifumorenshezhi"}),onClick:async()=>{n&&await n({}),t()}})})})]})}),(0,f.jsx)("div",{className:s["columns-control-content-scroller"],children:(0,f.jsxs)(l.Collapse,{defaultActiveKey:["active","un-active"],ghost:!0,bordered:!0,children:[(0,f.jsx)(J,{header:"\u663e\u793a\u7684\u4fe1\u606f",children:(0,f.jsxs)(l.List,{className:s["columns-control-content-list"],children:[p.map(((e,t)=>(0,f.jsx)(l.List.Item,{className:s["columns-control-content-item"],children:(0,f.jsx)(l.Checkbox,{checked:!0,disabled:!0,children:x(e)})},e.name||"left-".concat(t)))),(0,f.jsx)(U.ReactSortable,{list:_,filter:".ignore-elements",dragClass:s["sortable-drag"],ghostClass:s["sortable-ghost"],forceFallback:!0,setList:e=>{(e=>{const t=G()(c),n=[].concat(e.leftFixedColumns,e.visibleColumns,e.rightFixedColumns);(e.hiddenColumns||[]).forEach((e=>{V()(t,"".concat(e.name,".visible"),!1)})),n.forEach(((e,n)=>{V()(t,"".concat(e.name,".rank"),n+1)})),d(t)})({leftFixedColumns:p,visibleColumns:e,hiddenColumns:j,rightFixedColumns:h})},animation:300,delayOnTouchStart:!0,delay:2,children:_.map(((e,t)=>(0,f.jsxs)(l.List.Item,{className:i()(s["columns-control-content-item"],s["is-drag"]),children:[(0,f.jsx)(g.default,{type:"icon-paixu",className:s["columns-control-content-item-icon"]}),(0,f.jsx)(l.Checkbox,{checked:!0,disabled:e.fixed||p.length+_.length+h.length<=1,onChange:t=>{t.stopPropagation(),t.preventDefault();const n=Object.assign({},c);n[e.name]=Object.assign({},n[e.name],{visible:!1}),d(n)},children:x(e)})]},e.name||"visible-".concat(t))))}),h.map(((e,t)=>(0,f.jsx)(l.List.Item,{className:s["columns-control-content-item"],children:(0,f.jsx)(l.Checkbox,{checked:!0,disabled:!0,children:e.titleText||e.title||"\u672a\u547d\u540d\u5217"})},e.name||"right-".concat(t))))]})},"active"),(0,f.jsx)(J,{header:(0,f.jsxs)(l.Row,{wrap:!1,justify:"space-between",children:[(0,f.jsx)(l.Col,{children:"\u9690\u85cf\u7684\u4fe1\u606f"}),(0,f.jsx)(l.Col,{onClick:e=>{e.stopPropagation(),e.preventDefault()},children:(0,f.jsx)(B.SearchInput,{prefix:(0,f.jsx)(g.default,{type:"icon-sousuo",size:12}),placeholder:"\u641c\u7d22",onSearch:e=>{m(e)},className:s["columns-control-content-input"],size:"small"})})]}),children:(0,f.jsx)(l.List,{dataSource:j.filter((e=>"string"===typeof(e.titleText||e.title)&&(e.titleText||e.title).indexOf(u)>-1)),renderItem:e=>(0,f.jsx)(l.List.Item,{className:s["columns-control-content-item"],children:(0,f.jsx)(l.Checkbox,{checked:!1,onChange:t=>{t.stopPropagation(),t.preventDefault();const n=Object.assign({},c);n[e.name]=Object.assign({},n[e.name],{visible:!0}),d(n)},children:e.titleText||e.title||"\u672a\u547d\u540d\u5217"})},e.key)})},"un-active")]})}),(0,f.jsxs)(l.Row,{className:s["columns-control-content-footer"],justify:"end",gutter:10,children:[(0,f.jsx)(l.Col,{children:(0,f.jsx)(l.Button,{size:"small",onClick:()=>{d(o||{}),t()},children:"\u53d6\u6d88"})}),(0,f.jsx)(l.Col,{children:(0,f.jsx)(y.default,{type:"primary",size:"small",onClick:async()=>{n&&await n(c),t()},children:"\u786e\u5b9a"})})]})]})};var X=n(83312),$=n(18111),ee=n.n($),te=n(98409),ne=n.n(te);const se=e=>{let{title:t,columns:n,config:r,setConfig:i}=e;const[o,c]=(0,a.useState)(!1);return(0,f.jsxs)(l.Row,{wrap:!1,children:[(0,f.jsx)(l.Col,{flex:1,children:t}),(0,f.jsx)(l.Col,{children:(0,f.jsx)(l.Popover,{open:o,onOpenChange:c,trigger:"click",placement:"bottomLeft",overlayClassName:s["columns-control-overlay"],content:(0,f.jsx)(Q,{columns:n,config:r,close:()=>{c(!1)},onConfirm:e=>{i((t=>A()(e,((e,n,s)=>{e[s]=Object.assign({},t[s],L()(n,["visible","rank"]))}),{})))}}),children:(0,f.jsx)("span",{className:s["table-changer-setting"],children:(0,f.jsx)(g.default,{type:"icon-shezhi"})})})})]})},le=e=>{let{columns:t,name:n,controllerOpen:l,tableWidth:r}=e;const[o,c]=(0,a.useState)(null),d=(0,a.useRef)(o);d.current=o;const u=(0,a.useRef)(null),p=(0,a.useRef)(null),[h,_]=(0,a.useState)({}),{tableServerApis:y}=(0,H.usePreset)(),j=null===y||void 0===y?void 0:y.getDataApi(n),x=(0,X.useDebouncedCallback)(((e,t)=>{null===y||void 0===y||y.setDataFunc(e,t)}),500),v=m()((e=>{(0,a.startTransition)((()=>{_((t=>{const s="function"===typeof e?e(t):e;return n&&l&&x(n,s),s}))}))})),{send:b}=(0,C.useFetch)(Object.assign({...Object.assign({},j),auto:!1,cache:"TABLE_CONFIG_".concat(n),isLocal:!0,onRequestSuccess:e=>{_(Object.assign({},e))}})),N=m()((()=>{n&&l&&j&&b({force:!1})}));(0,a.useEffect)((()=>{N()}),[N]);const D=(0,a.useMemo)((()=>t.filter((e=>!(!1===M()(h,"".concat(e.name,".visible"))||!0!==M()(h,"".concat(e.name,".visible"))&&!0===e.hidden))).sort(((e,t)=>{const n=e=>M()(h,"".concat(e.name,".rank"),0)+("left"===e.fixed?-1e4:0)+("right"===e.fixed?1e4:0);return n(e)-n(t)}))),[t,h]),w=(0,a.useMemo)((()=>ne()(D,(e=>{let{type:t}=e;return"options"!==t}))),[D]),k=(0,a.useMemo)((()=>T()(D,(e=>{let{type:t,name:n}=e;return M()(h,"".concat(n,".width"))||P[t].width}))),[D,h]),S=e=>{let{width:t,index:n}=e;return w===n?t+Math.max(r-k-2,0):t},F=m()(((e,t)=>(0,f.jsx)("span",{className:i()(s["cell-resize-bar"]),onMouseDown:n=>{u.current=Object.assign({},e,{index:t}),p.current=n.clientX,c(t)},children:(0,f.jsx)(g.default,{type:"icon-paixu"})}))),O=m()((e=>{if(null===o)return;if(!u.current)return;const{name:t,width:n,min:s,max:l,index:a}=u.current,r=Math.min(Math.max(n+e,s),l);r<S({width:s,index:a})||v((e=>Object.assign({},e,{[t]:Object.assign({},e[t],{width:r})})))})),E=m()(((e,n)=>{const{name:l,width:a,min:r,max:o}=e;let c=e;n===D.length-1&&(c=Object.assign({},e,{className:"has-config-btn",title:(0,f.jsx)(se,{title:null===e||void 0===e?void 0:e.title,columns:t,config:h,setConfig:v})}));const u=()=>({className:i()({[s["is-moving"]]:d.current===n})}),m=Math.min(Math.max(M()(h,"".concat(l,".width"))||a,r),o),p=S({width:m,index:n});return Object.assign({},c,{onHeaderCell:u,onCell:u,width:p,shouldCellUpdate:(t,s)=>null===d.current||d.current===n||"hideInfo"===e.type||!ee()(t[e.name],s[e.name]),title:(0,f.jsxs)(f.Fragment,{children:[c.title,!(p>m&&p>o)&&F(Object.assign({},c,{width:p}),n)]})})}));return(0,a.useEffect)((()=>{const e=()=>{c(null),p.current=null,u.current=null},t=e=>{null!==d.current&&null!==u.current&&(null!==p.current?O(e.clientX-p.current):p.current=e.clientX)};return document.documentElement.addEventListener("mouseup",e,!0),document.documentElement.addEventListener("mousemove",t,!0),()=>{document.documentElement.removeEventListener("mouseup",e,!0),document.documentElement.removeEventListener("mousemove",t,!0)}}),[O]),{visibleColumns:D,currentMoveColumnIndex:o,resizeBarRender:F,columnsConfig:h,totalWidth:k,computedColumnProps:E}};var ae=n(42854),re=n.n(ae),ie=n(49151),oe=n.n(ie);const ce=e=>{let{rowKey:t,renderProps:n}=e;const[s,l]=(0,a.useState)(null),r=(0,a.useRef)(n);r.current=n;const i=m()(((e,n,a)=>{let{columnsConfig:i}=a;const{name:o,type:c,expandType:d,title:u,titleRender:m,fixed:p,emptyOf:h,emptyRender:_,groupHeader:g,sort:y,disableColItem:f,...j}=e,{render:x,width:v,min:b,max:C}=Object.assign({},P[c],"hideInfo"===c&&!re()(s)&&L()(P[d||"other"],["width","min","max"])),N=oe()(x);return{name:o,title:"function"===typeof m?m(u):u,min:b,max:C,width:v,fixed:p,groupHeader:g,sort:y,type:c,render:n=>{const a="function"===typeof t?t(n):n[t],c=Object.assign({},e,"function"===typeof e.render?e.render({...r.current,name:o,target:n}):{}),d=e=>{const t=(h||(e=>""===e||void 0===e||null===e))(e);return N(e,{...j,name:o,width:M()(i,"".concat(o,".width"))||v,min:b,max:C,isEmpty:t,emptyRender:_,hover:c.hover,colValue:n,renderProps:r.current,primary:c.primary,ellipsis:c.ellipsis,expand:s===a,onExpand:()=>l(a)})},u=c.hasOwnProperty("valueOf")&&"function"===typeof c.valueOf?c.valueOf(n,Object.assign({},r.current,{name:o},f?{targetRender:d}:{})):M()(n,o);return f?u:d(u)}}}));return{expandInfo:s,computedColumnProps:i}},de=e=>(0,a.useMemo)((()=>{const t=e.filter((e=>e.groupHeader&&e.groupHeader.length>0));if(t.length>0){const n=e.slice(0),s=[],l=e=>{const{groupHeader:t}=e;if(!(t&&t.length>0))return;const l=n.indexOf(e),a=(t,n)=>{const[s,...r]=t;let i=n.find((e=>e.name===s.name));i||(i=Object.assign({startIndex:l},s,{children:[]}),n.push(i)),r.length>0?a(r,i.children):i.children.push(e)};a(t,s),n.splice(l,1)};return t.forEach(l),s.forEach(((e,t)=>{n.splice(e.startIndex+t,0,e)})),{columns:n,hasGroupHeader:!0}}return{columns:e,hasGroupHeader:!1}}),[e]);var ue=n(97433),me=n.n(ue),pe=n(68787),he=n.n(pe);const _e=e=>new Map((e||[]).map((e=>{let{name:t,sort:n}=e;return[t,n]}))),ge=e=>{const[t,n]=me()(e,{value:"sort",defaultValue:"defaultSort",onChange:"onSortChange"}),l=(0,a.useMemo)((()=>_e(t)),[t]),r=(0,a.useCallback)((e=>n((t=>{const n=e(_e(t));return Array.from(n).map((e=>{let[t,n]=e;return{name:t,sort:n}}))}))),[n]);return(0,a.useCallback)((e=>{let{single:t,name:n}=e;return(0,f.jsxs)("div",{className:i()(s["sort-btn"],{[s["sort-active-desc"]]:"DESC"===l.get(n),[s["sort-active-asc"]]:"ASC"===l.get(n)}),onClick:()=>{r((e=>{const s=e.get(n),l="DESC"===s?"ASC":"ASC"===s?null:"DESC";if(t)return new Map(l?[[n,l]]:[]);const a=he()(e);return l?a.set(n,l):a.delete(n),a}))},children:[(0,f.jsx)(g.default,{type:"icon-triangle-up",className:s["sort-icon"]}),(0,f.jsx)(g.default,{type:"icon-triangle-down",className:s["sort-icon"]})]})}),[l,r])},ye=e=>{let{columns:t,className:n,getScrollEl:r,sticky:c,stickyOffset:u,pagination:p,columnRenderProps:h,rowKey:_,dataSource:g,controllerOpen:y,name:j,summary:x,scroll:v,onTablePropsReady:b,...C}=e;const[N,D]=(0,a.useState)(0),[w,k]=(0,a.useState)(!0);(0,a.useEffect)((()=>{N&&setTimeout((()=>{k(!1)}),0)}),[N]);(0,a.useRef)(h).current=h;const S=(0,d.Z)((e=>{D(e.clientWidth)}),{isDebounce:!0}),{expandInfo:F,computedColumnProps:O}=ce({rowKey:_,renderProps:h}),{columnsConfig:E,visibleColumns:P,computedColumnProps:R,currentMoveColumnIndex:M,totalWidth:I}=le({columns:t,controllerOpen:y,name:j,computedColumnProps:O,tableWidth:N}),T=ge(C),z=(0,a.useMemo)((()=>P.map(((e,t)=>{let n=O(e,t,{rowKey:_,expandInfo:F,columnsConfig:E});return n.sort&&"options"!==e.type&&(n=Object.assign({},n,{title:(0,f.jsxs)(f.Fragment,{children:[n.title,T({name:e.name,single:"object"!==typeof n.sort||n.sort.single})]})})),y&&(n=R(n,t,{tableWidth:N,columnsConfig:E})),n}))),[P,N,E,F,_,y,O,R,T]),{columns:A,hasGroupHeader:K}=de(z),L=m()(b);return(0,a.useEffect)((()=>{L&&L({columns:t,groupColumns:A,dataSource:g,visibleColumns:P})}),[L,A,g,t,P]),(0,f.jsx)("div",{className:i()(n,s.table,{[s["is-resize"]]:null!==M,[s["is-computed"]]:w,[s["has-group-header"]]:K}),ref:S,style:{"--sticky-offset":u},children:!w&&(0,f.jsx)(o.Z,{className:"table-page-scroller",scroller:{getContainer:r},getScrollTarget:e=>e.querySelector(".ant-table-body")||e.querySelector(".ant-table-content"),children:(0,f.jsx)(l.Table,{...C,sticky:!!c&&{getContainer:r},dataSource:g,rowKey:_,columns:A,scroll:Object.assign({},{x:Math.max(N,I)},v),pagination:p,summary:"function"===typeof x?function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return x(Object.assign({},{pageData:e},{columns:A}),...n)}:null})})})};ye.defaultProps={controllerOpen:!0,rowKey:"id",getScrollEl:c.R,columnRenderProps:{},sticky:!1,stickyOffset:"var(--nav-height)",pagination:!1};const fe=ye;var je=n(41767);const xe=e=>({"en-US":()=>n.e(9354).then(n.bind(n,29354)),"zh-CN":()=>n.e(1177).then(n.bind(n,1177))}[e]());var ve=n(91602),be=n(20471);const Ce=e=>{let{id:t,columns:n,children:s}=e;return t?(0,f.jsx)(je.default,{id:t,children:e=>{let{options:t}=e;return s({columns:n.filter((e=>!e.name||(!Array.isArray(M()(t,"hiddenColumns"))||-1===t.hiddenColumns.indexOf(e.name))))})}}):s({columns:n})},Ne=(0,C.withFetch)((e=>{let{data:t,refresh:n,reload:l,requestParams:r,fetchProps:o,isComplete:d,setData:u,loadMore:p,send:h,dataFormat:_,className:g,featureId:y,columns:j,getColumns:x,pagination:v,columnRenderProps:b,summary:C,...N}=e;const D=m()(_),w=(0,a.useMemo)((()=>D(t)),[t,D]),k={dataSource:w.list,pagination:!!v.open&&{total:w.total,showTotal:e=>(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(ve.FormattedMessage,{id:"Page_Total",moduleName:"Table",defaultMessage:"\u5171"}),(0,f.jsx)("span",{className:s.total_text,children:e}),(0,f.jsx)(ve.FormattedMessage,{id:"Page_TotalCount",moduleName:"Table",defaultMessage:"\u6761"})]}),current:M()(r,[v.paramsType,v.currentName],1),pageSize:v.pageSize,onChange:v.onChange?v.onChange:(e,t)=>{e!==M()(r,[v.paramsType,v.currentName],1)?("refresh"===v.requestType?n:l)({[v.paramsType]:{[v.currentName]:e,[v.pageSizeName]:t}}):v.onShowSizeChange&&v.onShowSizeChange(e,t),(0,c.R)().scrollTop=0},size:v.size,showSizeChanger:v.showSizeChanger,showQuickJumper:v.showQuickJumper}};return(0,f.jsx)(ve.IntlProvider,{importMessages:xe,moduleName:"Table",children:(0,f.jsx)(Ce,{id:y,columns:j,children:e=>{let{columns:s}=e;return(0,f.jsx)(fe,{...Object.assign({},N,k),className:i()(g,"loading-container",{"is-loading":!d}),columns:s,columnRenderProps:{...b,requestParams:r,fetchProps:o,data:t},summary:"function"===typeof C?function(){for(var e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return C(Object.assign({},{data:t,fetchProps:o,requestParams:r,refresh:n,reload:l,loadMore:p,send:h,dataFormat:_,pagination:v},...s))}:null})}})})}));Ne.defaultProps={pagination:{},columnRenderProps:{},sticky:!0,dataFormat:e=>({list:e.pageData,total:e.totalCount})};const De=(0,a.forwardRef)(((e,t)=>{let{pagination:n,...s}=e;n=Object.assign({},{showSizeChanger:!0,showQuickJumper:!0,open:!0,paramsType:"data",requestType:"reload",currentName:"currentPage",pageSizeName:"perPage",pageSize:20},n);const l="".concat((s.name||"common").toUpperCase(),"_TABLE_PAGE_SIZE"),[r,i]=(0,a.useState)(be.Z.getItem(l)||n.pageSize),o=(0,a.useMemo)((()=>{const e={};return s.params&&Object.keys(s.params).length>0&&(e.params={...s.params,[n.pageSizeName]:r}),s.data&&Object.keys(s.data).length>0&&(e.data={...s.data,[n.pageSizeName]:r}),e}),[s.params,s.data,n.pageSizeName,r]);return(0,f.jsx)(Ne,{...s,...o,pagination:Object.assign({},n,{pageSize:r,onShowSizeChange:(e,t)=>{be.Z.setItem(l,t),i(t)}}),ref:t})}))}}]);
//# sourceMappingURL=579.cc7482b4.chunk.js.map