{"version":3,"file":"static/js/5996.f785129c.chunk.js","mappings":"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","sources":["components/Enum/index.js","components/HelperGuide/locale/index.js","webpack://@kne-components/components-core/./src/components/HelperGuide/style.module.scss?bc31","components/HelperGuide/index.js","../node_modules/lodash/isNil.js"],"sourcesContent":["import { useRef } from \"react\";\nimport { withFetch } from \"@kne/react-fetch\";\nimport { useGlobalContext, usePreset } from \"@components/Global\";\nimport memoize from \"lodash/memoize\";\nimport isNil from \"lodash/isNil\";\n\nconst baseLoaders = [\n  [\n    \"gender\",\n    () => [\n      { value: \"M\", description: \"男\" },\n      {\n        value: \"F\",\n        description: \"女\",\n      },\n    ],\n  ],\n  [\n    \"marital\",\n    () => [\n      { description: \"已婚\", value: \"Y\" },\n      {\n        description: \"未婚\",\n        value: \"N\",\n      },\n    ],\n  ],\n  [\n    \"confirm\",\n    () => [\n      { description: \"是\", value: \"Y\" },\n      {\n        description: \"否\",\n        value: \"N\",\n      },\n    ],\n  ],\n  [\n    \"political\",\n    () => [\n      { description: \"中共党员\", value: \"中共党员\" },\n      {\n        description: \"共青团员\",\n        value: \"共青团员\",\n      },\n      { description: \"群众\", value: \"群众\" },\n      {\n        description: \"其他党派\",\n        value: \"其他党派\",\n      },\n    ],\n  ],\n  [\n    \"phoneStateEnum\",\n    () => [\n      {\n        value: 0,\n        description: \"空号\",\n      },\n      {\n        value: 1,\n        description: \"实号\",\n      },\n      {\n        value: 2,\n        description: \"停机\",\n      },\n      {\n        value: 3,\n        description: \"库无\",\n      },\n      {\n        value: 4,\n        description: \"沉默号\",\n      },\n      {\n        value: 5,\n        description: \"风险号\",\n      },\n    ],\n  ],\n  [\n    \"degreeEnum\",\n    () => [\n      {\n        description: \"初中\",\n        value: 10,\n      },\n      {\n        description: \"中专\",\n        value: 20,\n      },\n      {\n        description: \"高中\",\n        value: 30,\n      },\n      {\n        description: \"大专\",\n        value: 40,\n      },\n      {\n        description: \"本科\",\n        value: 50,\n      },\n      {\n        description: \"硕士研究生\",\n        value: 60,\n      },\n      {\n        description: \"博士研究生\",\n        value: 70,\n      },\n      {\n        description: \"博士后\",\n        value: 75,\n      },\n      {\n        description: \"学历不限\",\n        value: 999,\n      },\n    ],\n  ],\n];\n\nconst EnumLoaderFetch = withFetch(({ data, children }) => {\n  return typeof children === \"function\"\n    ? children(data)\n    : children || data?.description;\n});\n\nconst getEnumsMap = memoize((enums) => {\n  return new Map(\n    baseLoaders.concat(\n      Object.keys(Object.assign({}, enums)).map((key) => [key, enums[key]])\n    )\n  );\n});\n\nconst EnumLoader = ({ loader: enumsLoader, ...props }) => {\n  const {\n    global: { enumsRef },\n  } = useGlobalContext();\n  const prevLocaleRef = useRef(null);\n  return (\n    <EnumLoaderFetch\n      {...props}\n      loader={async (...args) => {\n        const enums = getEnumsMap(await enumsLoader(...args));\n        const { params } = args[0];\n        const { moduleName, name, force, locale } = params;\n\n        const getEnumMap = async (moduleName) => {\n          return (\n            (() => {\n              return (\n                force !== true &&\n                prevLocaleRef.current === locale &&\n                enumsRef.current.get(moduleName)\n              );\n            })() ||\n            (await (async () => {\n              const loader = enums.get(moduleName);\n              const output = await (async () => {\n                if (typeof loader === \"function\") {\n                  return new Map(\n                    (await loader({ locale })).map((item) => {\n                      return [item.value.toString(), item];\n                    })\n                  );\n                }\n                if (Array.isArray(loader)) {\n                  return new Map(\n                    loader.map((item) => [item.value.toString(), item])\n                  );\n                }\n                if (typeof loader === \"object\") {\n                  return new Map(\n                    Object.keys(loader).map((key) => [\n                      key.toString(),\n                      loader[key],\n                    ])\n                  );\n                }\n                console.warn(\"枚举值loader的设置可能不正确\");\n                return new Map();\n              })();\n              enumsRef.current.set(moduleName, output);\n              prevLocaleRef.current = locale;\n              return output;\n            })())\n          );\n        };\n        if (Array.isArray(moduleName)) {\n          return await Promise.all(\n            moduleName.map((target) =>\n              getEnumMap(target).then((enumMap) => Array.from(enumMap.values()))\n            )\n          );\n        }\n\n        const enumMap = await getEnumMap(moduleName);\n        if (!isNil(name)) {\n          return enumMap.get(name.toString());\n        }\n        return Array.from(enumMap.values());\n      }}\n    />\n  );\n};\n\nconst Enum = ({ moduleName, name, force, children, ...props }) => {\n  const preset = usePreset();\n  return (\n    <EnumLoader\n      {...props}\n      params={{\n        moduleName,\n        locale: preset?.locale,\n        enums: preset?.enums,\n        name,\n        force,\n      }}\n      loader={({ params }) => params.enums}\n    >\n      {children}\n    </EnumLoader>\n  );\n};\n\nEnum.defaultProps = {\n  force: false,\n};\n\nexport default Enum;\n","const importMessages = (locale) => {\n  return {\n    \"en-US\": () => import(\"./en-US\"),\n    \"zh-CN\": () => import(\"./zh-CN\"),\n  }[locale]();\n};\n\nexport default importMessages;\n","// extracted by mini-css-extract-plugin\nexport default {\"helper-guide\":\"style_helper-guide__K5xFw__DdjY3\",\"inner\":\"style_inner__bMKeU__DdjY3\",\"content\":\"style_content__xTfWZ__DdjY3\",\"link\":\"style_link__93j7O__DdjY3\"};","import importMessages from \"./locale\";\nimport { IntlProvider } from \"@components/Intl\";\nimport Icon from \"@components/Icon\";\nimport { Space, Typography } from \"antd\";\nimport classnames from \"classnames\";\nimport style from \"./style.module.scss\";\nimport Enum from \"@components/Enum\";\n\nconst HelperGuide = ({ name, className }) => {\n  return (\n    <IntlProvider importMessages={importMessages} moduleName=\"HelperGuide\">\n      <Enum moduleName=\"helperGuide\" name={name}>\n        {(data) => {\n          return (\n            data &&\n            data.value && (\n              <div className={classnames(style[\"helper-guide\"], className)}>\n                <Space className={style[\"inner\"]}>\n                  <Icon colorful type=\"icon-color-bangzhuyindao\" />\n                  <span className={style[\"content\"]}>{data.content}</span>\n                  {data.url && (\n                    <Typography.Link\n                      className={style[\"link\"]}\n                      href={data.url}\n                      target=\"_blank\"\n                    >\n                      查看帮助\n                      <Icon type=\"icon-shuangjiantou-right\" />\n                    </Typography.Link>\n                  )}\n                </Space>\n              </div>\n            )\n          );\n        }}\n      </Enum>\n    </IntlProvider>\n  );\n};\n\nexport default HelperGuide;\n","/**\n * Checks if `value` is `null` or `undefined`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n * @example\n *\n * _.isNil(null);\n * // => true\n *\n * _.isNil(void 0);\n * // => true\n *\n * _.isNil(NaN);\n * // => false\n */\nfunction isNil(value) {\n  return value == null;\n}\n\nmodule.exports = isNil;\n"],"names":["baseLoaders","value","description","EnumLoaderFetch","withFetch","_ref","data","children","getEnumsMap","memoize","enums","Map","concat","Object","keys","assign","map","key","EnumLoader","_ref2","loader","enumsLoader","props","global","enumsRef","useGlobalContext","prevLocaleRef","useRef","_jsx","async","arguments","params","length","undefined","moduleName","name","force","locale","getEnumMap","current","get","output","item","toString","Array","isArray","console","warn","set","Promise","all","target","then","enumMap","from","values","isNil","Enum","_ref3","preset","usePreset","_ref4","defaultProps","en-US","zh-CN","className","IntlProvider","importMessages","classnames","style","_jsxs","Space","Icon","colorful","type","content","url","Typography","Link","href","module","exports"],"sourceRoot":""}