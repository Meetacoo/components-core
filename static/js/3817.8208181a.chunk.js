(self.webpackChunk_kne_components_core=self.webpackChunk_kne_components_core||[]).push([[3817],{20471:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});const s={getItem:e=>{const t=window.localStorage.getItem(e);try{const{dataType:e,value:r}=JSON.parse(t);if("object"===e&&"null"===r)return null;if("undefined"===e)return;return"number"===e?Number(r):"boolean"===e?Boolean(r):r}catch(r){return null}},setItem:(e,t)=>{const r=typeof t;window.localStorage.setItem(e,JSON.stringify({dataType:r,value:t}))}}},53817:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var s=r(54498),n=r(86122),a=r(20471),l=r(4639),o=r(2508),c=r(75545),u=r.n(c),i=r(66339),_=r.n(i),p=r(19448),f=r.n(p),v=r(7101),d=r.n(v),g=r(80184);const h=e=>{let{className:t,overlayClassName:r,storeName:c,maxLength:i,label:p,children:v,onSelect:h,zIndex:m,getPopupContainer:x}=e;const[y,b]=(0,n.useState)((()=>a.Z.getItem(c)||[])),[w,k]=(0,n.useState)(!1),C=(0,n.useCallback)((()=>{0!==y.length&&k(!0)}),[y]),N=(0,n.useRef)(c);N.current=c,(0,n.useEffect)((()=>{a.Z.setItem(N.current,y)}),[y]);const S=(0,n.useCallback)((e=>{e.value&&e.label&&b((t=>{const r=u()(t,{value:e.value});return r.splice(0,0,e),i?_()(r,"value").slice(0,i):r})),k(!1)}),[i]),M=(0,n.useCallback)((()=>{k(!1)}),[]),R=f()(M),j=(0,n.useRef)(null),E=(0,n.useRef)(null);R.current={contains:e=>j.current.contains(e)||w&&E.current.contains(e)};const I=(0,n.useRef)(null),[z,O]=(0,n.useState)(0);return(0,n.useLayoutEffect)((()=>{const e=()=>{O(j.current.clientWidth)};e();const t=new ResizeObserver(e);t.observe(j.current);const r=new MutationObserver(e);return r.observe(j.current,{subtree:!0,childList:!0}),()=>{r.disconnect(),t.disconnect()}}),[]),(0,g.jsx)(o.Popover,{zIndex:m,placement:"bottom",transitionName:"ant-slide-up",arrow:!1,open:w,getPopupContainer:x,overlayClassName:d()(r,s.Z.overlay),content:(0,g.jsx)("div",{className:s.Z["overlay-content"],style:{width:z},ref:E,children:(0,g.jsxs)(o.Space,{direction:"vertical",children:[(0,g.jsx)("div",{children:p}),(0,g.jsx)(o.Space,{wrap:!0,children:y.map((e=>(0,g.jsx)(l.default,{className:s.Z["state-tag"],text:e.label,type:"result",onClick:()=>{h&&h(e.value,e),I.current&&I.current(e.value,e),M(),S(e)}})))})]})}),children:(0,g.jsx)("div",{ref:j,className:d()(t),children:v({open:w,openHistory:C,appendHistory:S,setOnSelect:e=>{I.current=e},close:M})})})};h.defaultProps={maxLength:5,label:"\u6700\u8fd1\u641c\u7d22",storeName:"HISTORY_STORE_KEY"};const m=h},4639:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>_});var s=r(86122),n=r(7101),a=r.n(n);const l={"state-tag":"style_state-tag__Kx27z__e0vcM","state-result-tag":"style_state-result-tag__CssDz__e0vcM","state-skill-tag":"style_state-skill-tag__k0bQE__e0vcM","state-tag-filter-result-wrapper":"style_state-tag-filter-result-wrapper__QYS5z__e0vcM","state-tag-filter-name":"style_state-tag-filter-name__iJaJd__e0vcM","state-tag-filterResult":"style_state-tag-filterResult__KTkot__e0vcM","show-bg":"style_show-bg__OcL+R__e0vcM","tag-text":"style_tag-text__JHCt+__e0vcM","state-tag-wrapper":"style_state-tag-wrapper__A-gTE__e0vcM"};var o=r(2508),c=r(80184);const u={default:"#666666",skill:{color:"#666666",borderColor:"#EEEEEE"},result:"#666666",filterResult:"#5CB8B2",success:"#027A48",progress:"#F09700",danger:"#D14343",info:"#155ACF",other:"#6740C3"},i=e=>{let{showBorder:t,text:r,type:n,showBackground:i,className:_,filterName:p,...f}=e;const v=(0,s.useMemo)((()=>{var e,t;return{color:(null===u||void 0===u||null===(e=u[n])||void 0===e?void 0:e.color)||u[n],borderColor:(null===u||void 0===u||null===(t=u[n])||void 0===t?void 0:t.borderColor)||u[n]}}),[n]);return(0,c.jsxs)(o.Space,{"data-testid":"components-core-state-tag",className:a()(l["state-tag-wrapper"],"filterResult"===n?l["state-tag-filter-result-wrapper"]:""),align:"center",size:4,children:[p?(0,c.jsxs)("span",{className:l["state-tag-filter-name"],children:[p,":"]}):null,(0,c.jsx)(o.Tag,{color:v.color,...f,style:{background:i?v.color+"0F":"none",color:v.color,border:t?"1px solid ".concat(v.borderColor):"none"},className:a()(l["state-tag"],_,"result"===n?l["state-result-tag"]:"","skill"===n?l["state-skill-tag"]:"",l["state-tag-".concat(n)],i?l["show-bg"]:"",t?l["show-border"]:""),children:(0,c.jsx)("span",{className:l["tag-text"],children:r})})]})};i.defaultProps={color:"#666666",type:"default",showBorder:!1,showBackground:!0,text:"",className:""};const _=i},59055:(e,t,r)=>{var s=r(24842);e.exports=function(e,t){return!!(null==e?0:e.length)&&s(e,t,0)>-1}},32683:e=>{e.exports=function(e,t,r){for(var s=-1,n=null==e?0:e.length;++s<n;)if(r(t,e[s]))return!0;return!1}},2045:e=>{e.exports=function(e,t,r,s){for(var n=e.length,a=r+(s?1:-1);s?a--:++a<n;)if(t(e[a],a,e))return a;return-1}},24842:(e,t,r)=>{var s=r(2045),n=r(50505),a=r(77167);e.exports=function(e,t,r){return t===t?a(e,t,r):s(e,n,r)}},50505:e=>{e.exports=function(e){return e!==e}},2646:e=>{e.exports=function(e,t,r){var s=-1,n=e.length;t<0&&(t=-t>n?0:n+t),(r=r>n?n:r)<0&&(r+=n),n=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(n);++s<n;)a[s]=e[s+t];return a}},39602:(e,t,r)=>{var s=r(20692),n=r(59055),a=r(32683),l=r(60075),o=r(77730),c=r(22230);e.exports=function(e,t,r){var u=-1,i=n,_=e.length,p=!0,f=[],v=f;if(r)p=!1,i=a;else if(_>=200){var d=t?null:o(e);if(d)return c(d);p=!1,i=l,v=new s}else v=t?[]:f;e:for(;++u<_;){var g=e[u],h=t?t(g):g;if(g=r||0!==g?g:0,p&&h===h){for(var m=v.length;m--;)if(v[m]===h)continue e;t&&v.push(h),f.push(g)}else i(v,h,r)||(v!==f&&v.push(h),f.push(g))}return f}},5487:(e,t,r)=>{var s=r(2646);e.exports=function(e,t,r,n){for(var a=e.length,l=n?a:-1;(n?l--:++l<a)&&t(e[l],l,e););return r?s(e,n?0:l,n?l+1:a):s(e,n?l+1:0,n?a:l)}},77730:(e,t,r)=>{var s=r(23924),n=r(19694),a=r(22230),l=s&&1/a(new s([,-0]))[1]==1/0?function(e){return new s(e)}:n;e.exports=l},77167:e=>{e.exports=function(e,t,r){for(var s=r-1,n=e.length;++s<n;)if(e[s]===t)return s;return-1}},75545:(e,t,r)=>{var s=r(56025),n=r(5487);e.exports=function(e,t){return e&&e.length?n(e,s(t,3),!0):[]}},19694:e=>{e.exports=function(){}},66339:(e,t,r)=>{var s=r(56025),n=r(39602);e.exports=function(e,t){return e&&e.length?n(e,s(t,2)):[]}},54498:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});const s={overlay:"style_overlay__ZS5Wz__e0vcM","overlay-content":"style_overlay-content__IVFmc__e0vcM","state-tag":"style_state-tag__+59RJ__e0vcM"}}}]);
//# sourceMappingURL=3817.8208181a.chunk.js.map