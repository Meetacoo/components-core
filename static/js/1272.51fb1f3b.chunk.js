(self.webpackChunk_kne_components_components_core=self.webpackChunk_kne_components_components_core||[]).push([[1272,9424,2072],{43664:(e,t,n)=>{"use strict";n.d(t,{c:()=>_});var s=n(80584),r=n(46964),l=n(1165),a=n.n(l),o=n(79272),i=n.n(o);const c={scroller:"style_scroller__EfuqR__VH9lc","scroller-inner":"style_scroller-inner__NJSE0__VH9lc","is-moving":"style_is-moving__jGuy0__VH9lc"};var u=n(82496);const d=e=>{let{onScroll:t,getContainer:n,...l}=e;const a=(0,r.useRef)(0),[o,d]=(0,r.useState)(!1),p=(0,r.useRef)(o);p.current=o;const _=(0,r.useRef)(t);_.current=t;const h=(0,r.useRef)(1);return h.current=l.width/l.innerWidth,(0,r.useEffect)((()=>{const e=e=>{p.current&&_.current(h.current*(e.clientX-a.current)),a.current=e.clientX},t=()=>{d(!1)};return document.addEventListener("mousemove",e,!0),document.addEventListener("mouseup",t,!0),()=>{document.removeEventListener("mousemove",e,!0),document.removeEventListener("mouseup",t,!0)}}),[]),(0,s.createPortal)(l.hasScroller?(0,u.jsx)("div",{className:c.scroller,style:{left:l.left,width:l.width,height:15},children:(0,u.jsx)("div",{className:i()(c["scroller-inner"],{[c["is-moving"]]:o}),style:{width:l.innerWidth,left:l.innerLeft},onMouseDown:e=>{e.preventDefault(),a.current=e.clientX,d(!0)}})}):null,n()||document.body)},p=e=>{let{className:t,scroller:n,getScrollTarget:s,children:l}=e;const[o,p]=(0,r.useState)({left:0,width:0,innerLeft:0,innerWidth:0,height:0,hasScroller:!1}),_=(0,r.useRef)(null),h=a()((()=>_.current&&s(_.current))),g=(0,r.useRef)();return g.current="object"===typeof n&&"function"===typeof n.getContainer?n.getContainer:()=>null,(0,r.useEffect)((()=>{const e=g.current()||document.documentElement;let t;const n=()=>{if(!t)return;const{left:n,width:s,top:r,height:l}=t.getBoundingClientRect(),a=t.offsetHeight-t.clientHeight||15,o=s*t.clientWidth/t.scrollWidth-6,i=t.scrollLeft*t.clientWidth/t.scrollWidth+2,c=e.getBoundingClientRect();p((u=>Object.assign({},u,{left:n,width:s,innerLeft:i,innerWidth:o,height:a,hasScroller:t.scrollWidth-t.clientWidth>0&&(e===document.documentElement?r+l-e.offsetHeight>0&&r<e.offsetHeight:r<c.top+c.height&&r+l>c.top+c.height)})))},s=new ResizeObserver(n);return new ResizeObserver((()=>{t=h(),t&&(s.disconnect(),n(),Array.from(t.children).forEach((e=>{s.observe(e)})),t.addEventListener("scroll",n))})).observe(_.current),window.addEventListener("scroll",n),e.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n),e.removeEventListener("scroll",n)}}),[h]),n?(0,u.jsxs)("div",{className:i()(c["scroller-outer"],t),ref:_,style:{"--scroller-bar-height":null!==o&&void 0!==o&&o.hasScroller?"15px":"0px"},children:[l,(0,u.jsx)(d,{...o,getContainer:g.current,onScroll:e=>{h().scrollLeft+=e}})]}):l};p.defaultProps={scroller:!0,getScrollTarget:()=>document.querySelector(".simplebar-content-wrapper")};const _=p},54948:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y,useFeatureCall:()=>f});var s=n(46964),r=n(68086),l=n(58564),a=n.n(l),o=n(83416),i=n.n(o),c=n(5e4),u=n.n(c),d=n(82496);const p=(e,t,n)=>{e&&(Array.isArray(e)?e.forEach((e=>{p(e,t,n)})):(t(Object.assign({},u()(e,["children"]),{parentId:n})),p(e.children,t,n?n+":"+e.id:e.id)))},_=i()((e=>{const t=(()=>{const t=new Map;return p(e,(e=>{t.set(e.parentId?e.parentId+":"+e.id:e.id,e)})),t})(),n=(e=>Array.from(e.keys()).filter((t=>{const n=e.get(t);return!(Array.isArray(n.dependencies)&&n.dependencies.length>0&&n.dependencies.some((n=>!e.get(t))))})))(t);return{profile:e,features:n,profileMap:t}})),h=(e,t)=>{let{profileMap:n,features:s}=t;const r=n.get(e);return-1!==s.indexOf(e)&&!0!==r.close&&a()(r,"dependencies",[]).every((t=>{const r=n.get(e);return s.indexOf(t)>-1&&!0!==r.close}))},g=(0,s.createContext)(null),{Provider:m}=g,f=e=>{const{features:t,profile:n,profileMap:l,debug:o}=(()=>{const e=(0,r.usePreset)(),{profile:t,debug:n}=a()(e,"features",{debug:!1,profile:{}});return Object.assign({},_(t),{debug:n})})(),i="system"===n.type?n.id:"root",c=(0,s.useContext)(g),u=c?c+":"+e:i+":"+e;return(0,s.useEffect)((()=>{t&&t.length>0&&o&&console.log("[featureId] ".concat(u,",[state] ").concat(h(u,{features:t,profileMap:l})),l.get(u))}),[t,l,o,u]),{isPass:!(e&&t&&t.length>0)||h(u,{features:t,profileMap:l}),currentId:u,feature:l.get(u)}},y=e=>{let{id:t,children:n}=e;const{isPass:s,feature:r,currentId:l}=f(t);return(0,d.jsx)(m,{value:l,children:"function"===typeof n?n({isPass:s,options:s?a()(r,"options"):a()(r,"rejectedOptions"),currentId:l}):s&&n})}},11600:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});const s=e=>({"en-US":()=>n.e(3264).then(n.bind(n,3264)),"zh-CN":()=>n.e(5348).then(n.bind(n,35348))}[e]());var r=n(74879),l=n(5520),a=n(96164),o=n(79272),i=n.n(o);const c="style_helper-guide__K5xFw__VH9lc",u="style_inner__bMKeU__VH9lc",d="style_content__xTfWZ__VH9lc",p="style_link__93j7O__VH9lc";var _=n(17376),h=n(82496);const g=e=>{let{name:t,className:n}=e;return(0,h.jsx)(r.IntlProvider,{importMessages:s,moduleName:"HelperGuide",children:(0,h.jsx)(_.default,{moduleName:"helperGuide",name:t,children:e=>e&&e.value&&(0,h.jsx)("div",{className:i()(c,n),children:(0,h.jsxs)(a.Space,{className:u,children:[(0,h.jsx)(l.default,{colorful:!0,type:"icon-color-bangzhuyindao"}),(0,h.jsx)("span",{className:d,children:e.content}),e.url&&(0,h.jsxs)(a.Typography.Link,{className:p,href:e.url,target:"_blank",children:["\u67e5\u770b\u5e2e\u52a9",(0,h.jsx)(l.default,{type:"icon-shuangjiantou-right"})]})]})})})})}},40436:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Affix:()=>K,Menu:()=>J.default,Page:()=>L,PermissionsPage:()=>X,StateBarPage:()=>Y,TablePage:()=>Z,default:()=>U});var s=n(96164),r=n(46964);const l={menu:null,filter:null,menuOpen:!0,menuWidth:"240px",menuFixed:!0,menuCloseButton:!0,backgroundColor:null,header:null,headerHeight:0,headerFixed:!0,headerInfo:null,backUrl:null,title:null,titleExtra:null,titleLeftExtra:null,noMargin:!1,noPadding:!1,optionFooterHeight:0,option:null,optionWidth:"400px",optionNoPadding:!1,optionFixed:!0,optionFooter:null},a=(0,r.createContext)({}),{Provider:o,Consumer:i}=a,c=()=>(0,r.useContext)(a);var u=n(28864),d=n(55860),p=n(80627),_=n(60436),h=n.n(_),g=n(54948),m=n(79272),f=n.n(m);const y={layout:"style_layout__k+lxR__VH9lc","page-content":"style_page-content__4XeN8__VH9lc","page-main":"style_page-main__P0yEF__VH9lc","page-main-content":"style_page-main-content__1OVPN__VH9lc","table-page":"style_table-page__JkbLf__VH9lc","helper-guide":"style_helper-guide__vzw4z__VH9lc","page-outer":"style_page-outer__2a6iH__VH9lc","no-margin":"style_no-margin__S6caT__VH9lc","page-menu":"style_page-menu__CZSa9__VH9lc",closed:"style_closed__hmnft__VH9lc","page-menu-inner":"style_page-menu-inner__rmKpu__VH9lc","page-menu-main":"style_page-menu-main__OXg2M__VH9lc","page-option-main":"style_page-option-main__LyfT3__VH9lc","page-menu-main-outer":"style_page-menu-main-outer__yY+-Q__VH9lc","page-option":"style_page-option__diS2S__VH9lc","page-option-inner":"style_page-option-inner__Fj1JH__VH9lc","page-option-footer":"style_page-option-footer__d7xE0__VH9lc","fixed-container":"style_fixed-container__1VZwY__VH9lc","is-fixed":"style_is-fixed__1aQhp__VH9lc","page-menu-btn-outer":"style_page-menu-btn-outer__iVJiW__VH9lc","page-menu-btn":"style_page-menu-btn__BiTy8__VH9lc","page-title":"style_page-title__zw-Fd__VH9lc","page-title-text":"style_page-title-text__Rj4RC__VH9lc","no-padding":"style_no-padding__V7Dwy__VH9lc","page-header":"style_page-header__a813p__VH9lc","page-header-info":"style_page-header-info__cMrZR__VH9lc","layout-menu":"style_layout-menu__yiab0__VH9lc","sub-menu":"style_sub-menu__dyqK7__VH9lc","no-collapsed":"style_no-collapsed__76h8W__VH9lc","has-not-children":"style_has-not-children__fnjRK__VH9lc","table-page-top":"style_table-page-top__bt1l9__VH9lc","error-component":"style_error-component__HvghB__VH9lc","state-bar-page":"style_state-bar-page__+aUM4__VH9lc","back-icon":"style_back-icon__79v2G__VH9lc"};var x=n(82496);const v=e=>{let{className:t,isFixed:n,children:s}=e;return n?(0,x.jsx)("div",{className:f()(t,"fixed-container",y["fixed-container"],{[y["is-fixed"]]:n}),children:s}):(0,x.jsx)("div",{className:f()(t,"fixed-container",y["fixed-container"]),children:s})};var j=n(5520),b=n(42116),H=n(48428),N=n(58564),V=n.n(N),C=n(3292),O=n(22396);const w="CORE_PAGE_MENU_OPEN_KEY",P=()=>{const{pageProps:e,setPageProps:t}=c(),{menu:n,menuOpen:r,menuWidth:l,menuFixed:a,menuCloseButton:o}=e,i=(0,H.useLocation)().pathname.split("/")[1];return n?(0,x.jsxs)(s.Col,{className:f()(y["page-menu"],{[y.closed]:!r}),style:{"--width":l},children:[(0,x.jsx)(v,{className:y["page-menu-inner"],isFixed:a,children:(0,x.jsx)("div",{className:y["page-menu-main-outer"],children:(0,x.jsx)(b.c,{className:y["page-menu-main"],children:n})})}),o?(0,x.jsx)(v,{className:f()(y["page-menu-btn-outer"],y["page-menu-btn-outer"]),isFixed:a,children:(0,x.jsx)(s.Button,{className:f()(y["page-menu-btn"],{[y.closed]:!r}),icon:r?(0,x.jsx)(j.default,{type:"icon-arrow-bold-left"}):(0,x.jsx)(j.default,{type:"icon-arrow-bold-right"}),onClick:()=>{t({menuOpen:!e.menuOpen});const n=O.c.getItem(w)||{};n[i]=!e.menuOpen,O.c.setItem(w,n),t({menuOpen:!e.menuOpen})}})}):null]}):null},k=e=>{let{children:t,isPass:n,...l}=e;const{setPageProps:a}=c(),o=(0,r.useRef)(null),i=(()=>{const e=(0,H.useLocation)().pathname.split("/")[1];return(0,r.useMemo)((()=>{const t=O.c.getItem(w)||{};return!(0,C.c)(V()(t,e))||V()(t,e)}),[e])})(),u=(0,r.useRef)(i);return u.current=i,(0,r.useEffect)((()=>{if(!h()(o.current,l)){o.current=l;const e=Object.assign({},l,"boolean"===typeof u.current?{menuOpen:u.current}:{});e.header&&0===e.headerHeight&&delete e.headerHeight,e.optionFooter&&0===e.optionFooterHeight&&delete e.optionFooter,a(e)}}),[l,a]),!1===n?(0,x.jsx)(s.Result,{status:"403",subTitle:"\u6682\u672a\u5f00\u653e\u6b64\u529f\u80fd"}):t},E=e=>{let{featureId:t,name:n,openFeatures:s,...l}=e;return!0===s?(0,x.jsx)(g.default,{id:n,children:e=>{let{isPass:t}=e;return(0,r.createElement)(k,{...l,key:n,isPass:t})}}):(0,r.createElement)(k,{...l,key:n})};E.defaultProps=l;const L=E,K=e=>{let{isFixed:t,offsetTop:n,offsetBottom:r,onChange:l,...a}=e;return t?(0,x.jsx)(s.Affix,{...a,offsetTop:Number.isInteger(n)?n-.1:n,offsetBottom:r,onChange:l}):(0,x.jsx)("div",{...a})},S=e=>{let{targetKey:t,...n}=e;const s=(e=>{let{targetKey:t}=e;const{setPageProps:n}=c(),s=(0,r.useRef)(null);return(0,r.useLayoutEffect)((()=>{const e=()=>{n({[t]:s.current.offsetHeight})};e();const r=new MutationObserver(e);return r.observe(s.current,{subtree:!0,childList:!0}),()=>{r.disconnect()}}),[n,t]),s})({targetKey:t});return(0,x.jsx)("div",{...n,ref:s})},R=()=>{const{pageProps:e}=c(),{header:t,headerFixed:n}=e;return t?(0,x.jsx)(K,{isFixed:n,className:y["page-header"],offsetTop:u.navigationHeight,children:(0,x.jsx)(S,{targetKey:"headerHeight",children:t})}):null},F=()=>{const{pageProps:e}=c(),{headerInfo:t}=e,n=(0,r.useRef)(null);return t?(0,x.jsx)("div",{ref:n,className:f()(y["page-header-info"],"page-header-info"),children:t}):null};var I=n(89188);const M=e=>{let{title:t,filter:n,titleExtra:r,titleLeftExtra:l,backUrl:a}=e;const o=(0,H.useNavigate)();return n?(0,x.jsx)(I.default,{className:y["page-title"],...n,extra:r}):t||l||r?(0,x.jsxs)(s.Row,{justify:"space-between",align:"middle",className:y["page-title"],children:[(0,x.jsx)(s.Col,{children:(0,x.jsxs)(s.Space,{children:[t?(0,x.jsx)("div",{className:y["page-title-text"],children:a?(0,x.jsxs)(s.Space,{children:[(0,x.jsx)("span",{className:y["back-icon"],onClick:()=>{o(a)},children:(0,x.jsx)(j.default,{type:"icon-arrow-thin-left"})}),(0,x.jsx)("span",{children:t})]}):t}):null,l||null]})}),(0,x.jsx)(s.Col,{children:r})]}):null},A=()=>{const{pageProps:e}=c(),{option:t,optionWidth:n,optionFixed:r,optionFooter:l,optionFooterHeight:a,optionNoPadding:o}=e;return t?(0,x.jsx)(s.Col,{className:f()(y["page-option"],"page-option"),style:{"--width":n,"--foot-height":a+"px"},children:(0,x.jsxs)(v,{className:y["page-option-inner"],isFixed:r,children:[(0,x.jsx)(b.c,{className:f()(y["page-option-main"],"page-option-main"),style:{padding:o?"0px":"var(--padding-width)"},children:t}),l?(0,x.jsx)(S,{className:y["page-option-footer"],targetKey:"optionFooterHeight",children:(0,x.jsx)(s.Space,{align:"center",children:l})}):null]})}):null};var T=n(11600);const{Content:W}=s.Layout,q=()=>(0,x.jsx)(s.Alert,{message:"\u7cfb\u7edf\u51fa\u4e86\u70b9\u5c0f\u95ee\u9898\uff0c\u53ef\u5237\u65b0\u9875\u9762\u8fdb\u884c\u89e3\u51b3",showIcon:!0,type:"error",action:(0,x.jsx)(s.Button,{size:"small",danger:!0,onClick:()=>window.location.reload(),children:"\u5237\u65b0"})}),B=e=>(0,x.jsx)(p.c,{...e,errorComponent:q}),z=e=>{let{children:t,theme:n,navigation:a}=e;const[i,c]=(0,r.useState)(0),[p,_]=(0,r.useState)(Object.assign({},l)),h=(0,r.useCallback)((e=>_((t=>Object.assign({},t,e)))),[]);return(0,r.useEffect)((()=>{const e=(0,d.K)(),t=()=>{c(e.scrollLeft)};return e.addEventListener("scroll",t),()=>{e.removeEventListener("scroll",t)}}),[]),(0,x.jsxs)(s.Layout,{className:y.layout,style:Object.assign({},{"--nav-height":u.navigationHeight+"px","--nav-height-base":"var(--nav-height)","--scroll-left":-i+"px"},n),children:[a&&(0,x.jsx)(B,{children:(0,x.jsx)(u.default,{...a,onChange:e=>{(null===a||void 0===a?void 0:a.onChange)&&a.onChange(e)}})}),(0,x.jsx)(B,{children:(0,x.jsx)(W,{className:y["layout-content-wrap"],children:(0,x.jsxs)(o,{value:{pageProps:p,setPageProps:h},children:[(0,x.jsx)(B,{children:(0,x.jsx)(R,{})}),(0,x.jsx)(B,{children:(0,x.jsx)(F,{})}),(0,x.jsx)(B,{children:(0,x.jsxs)(s.Row,{className:f()(p.className,y["page-outer"]),wrap:!1,style:{"--nav-height":"calc(".concat(p.headerHeight,"px + var(--nav-height-base))"),"--nav-only-height":"var(--nav-height-base)"},children:[(0,x.jsx)(B,{children:(0,x.jsx)(P,{})}),(0,x.jsx)(s.Col,{className:f()(y["page-content"],{[y["no-margin"]]:p.noMargin}),flex:1,style:{"--background-color":p.backgroundColor},children:(0,x.jsxs)("div",{className:y["page-main"],children:[(0,x.jsx)(B,{children:(0,x.jsx)(M,{title:p.title,backUrl:p.backUrl,filter:p.filter,titleExtra:p.titleExtra,titleLeftExtra:p.titleLeftExtra})}),(0,x.jsx)("div",{className:f()(y["page-main-content"],{[y["no-padding"]]:p.noPadding}),children:(0,x.jsxs)(B,{children:[p.helperGuideName&&(0,x.jsx)(T.default,{className:y["helper-guide-page"],name:p.helperGuideName}),t]})})]})}),(0,x.jsx)(B,{children:(0,x.jsx)(A,{})})]})})]})})})]})};z.defaultProps={navigation:{}};const U=z;var G=n(92832);const X=e=>{let{permissions:t,...n}=e;return(0,x.jsx)(G.default,{...Object.assign({},t,{type:"error"}),children:(0,x.jsx)(L,{...n})})};var J=n(63849),Q=n(33188);const Z=(0,r.forwardRef)(((e,t)=>{let{helperGuideName:n,permissions:s,page:l,openFeatures:a,name:o,topArea:i,...c}=e;const[u,d]=(0,r.useState)(null);return(0,x.jsxs)(X,{name:o,openFeatures:a,permissions:s,...l,children:[i?(0,x.jsx)("div",{className:y["table-page-top"],children:"function"===typeof i?i(u):i}):null,(0,x.jsxs)("div",{className:y["table-page"],children:[n&&(0,x.jsx)(T.default,{className:f()("helper-guide",y["helper-guide"]),name:n}),(0,x.jsx)(Q.TablePage,{...c,ref:t,name:o,onRequestSuccess:e=>{d(e)}})]})]})}));var D=n(60752);const Y=e=>{let{helperGuideName:t,permissions:n,page:s,stateBar:r,children:l,...a}=e;return(0,x.jsxs)(X,{...s,permissions:n,...a,children:[(0,x.jsx)("div",{className:y["state-bar-page"],children:(0,x.jsx)(D.default,{...r})}),t&&(0,x.jsx)(T.default,{className:y["helper-guide"],name:t}),l]})}},63849:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x});const s={menu:"style_menu__gvIvn__VH9lc","all-no-start-icon":"style_all-no-start-icon__CA+zR__VH9lc","no-start-icon":"style_no-start-icon__LnC1S__VH9lc","has-children":"style_has-children__m9tce__VH9lc","has-children-node":"style_has-children-node__2bhEB__VH9lc","is-root":"style_is-root__4hhOc__VH9lc",title:"style_title__+Hcar__VH9lc",active:"style_active__WU49K__VH9lc","no-collapse":"style_no-collapse__aIZBM__VH9lc","title-content":"style_title-content__cQXpK__VH9lc",loading:"style_loading__1pU4P__VH9lc"};var r=n(79272),l=n.n(r),a=n(96164),o=n(48428),i=n(92832),c=n(75680),u=n.n(c),d=n(5520),p=n(46964),_=n(92420),h=n.n(_),g=n(84768),m=n(82496);const f=e=>{const t=(0,o.useNavigate)(),{id:n,className:r,label:c,iconType:u,path:p,request:_,onClick:h,isOpen:f,isSelected:y,onOpenChange:x,children:v,fetchOptions:j,depth:b,onLoad:H,allowCollapsed:N}=e,V=Array.isArray(v)&&v.length>0||j,{refresh:C,isLoading:O}=(0,g.useFetch)(Object.assign({},j,{auto:!N&&j,onRequestSuccess:e=>{H(e)}}));return(0,m.jsx)(i.default,{request:_,children:(0,m.jsxs)("div",{className:l()(r,s["menu-item"]),children:[(0,m.jsxs)("div",{className:l()(s.title,{[s.active]:y,[s["has-children"]]:V,[s["no-collapse"]]:V&&!N,[s["no-start-icon"]]:!u,[s["is-root"]]:0===b}),onClick:s=>{s.stopPropagation(),V||!p?V||j?N&&(j&&C({}),x(!f)):null===h||void 0===h||h(n,e):t(p)},children:[u&&(0,m.jsx)(d.default,{type:u}),(0,m.jsx)("span",{className:s["title-content"],children:c}),V&&N&&(0,m.jsx)(d.default,{type:f?"icon-arrow-bold-down":"icon-arrow-bold-right"})]}),V?!N||f&&v?(0,m.jsx)("div",{className:s["children-list"],children:v}):!N||f&&O?(0,m.jsx)("div",{className:s["children-list"],children:(0,m.jsx)(a.Spin,{className:s.loading,size:"small"})}):void 0:null]})})},y=e=>{let{className:t,allowCollapsed:n,...r}=e;const{pathname:a,search:i}=(0,o.useLocation)(),[c,d]=u()(r,{value:"currentKey",defaultValue:"defaultCurrentKey"}),[_,g]=u()(r,{defaultValue:"defaultItems",value:"items",onChange:"onItemsChange"}),{items:y,defaultOpenKeys:x,links:v,childrenKeys:j,hasStartIcon:b,hasChildren:H}=(0,p.useMemo)((()=>{var e;const{items:t,childrenKeys:n,nodeMapping:s}=(e=>{const t={},n=[],s=(e,r)=>{const{parentKey:l,depth:a}=Object.assign({parentKey:"root",depth:0,paths:[]},r);return Array.isArray(e)&&e.length>0?e.map(((e,r)=>{const o="".concat(e.key||"".concat("root"!==l?"".concat(l,"-"):"","node-").concat(r));t[l]||(t[l]=[]),t[l].push(o);const i=s(e.children,{parentKey:o,depth:a+1});t[o]&&t[l].push(...t[o]);const c=Object.assign({},e,{key:o,parentKey:l,depth:a,children:i,originItem:e});return n[o]=c,c})):null};return{items:s(e),childrenKeys:t,nodeMapping:n}})(_);let r=!1,l=!1;const a=[],o=[];return null===n||void 0===n||null===(e=n.root)||void 0===e||e.forEach((e=>{const t=s[e];t.iconType&&(r=!0),t.path&&a.push({path:t.path,key:e}),Array.isArray(t.children)&&t.children.length>0&&(l=!0,o.push(t.key))})),{defaultOpenKeys:o,links:a,items:t,childrenKeys:n,hasStartIcon:r,hasChildren:l}}),[_]);(0,p.useEffect)((()=>{const e=v.find((e=>{let{path:t}=e;return h()(a.replace(/[#,?].*/,""))===h()(t)||h()(a+i,"")===h()(t)}));e&&d(e.key)}),[v,a,i,d]);const[N,V]=u()(Object.assign({},r,{defaultOpenKeys:r.defaultOpenKeys||x}),{value:"openKeys",defaultValue:"defaultOpenKeys",onChange:"onOpenChange"}),C=(0,p.useCallback)(((e,t)=>{const{parentKey:s,depth:r,selectedKey:l,openKeys:a,paths:o}=Object.assign({parentKey:null,depth:0,paths:[]},t);return Array.isArray(e)&&e.length>0?e.map((e=>{let{children:t,key:i,originItem:c,...u}=e;return(0,p.createElement)(f,{...Object.assign({},u),id:i,parentId:s,depth:r,allowCollapsed:n,isSelected:i===l||j[i]&&j[i].indexOf(l)>-1,onClick:d,onLoad:e=>{g((t=>{const n=t=>Array.isArray(t)&&t.length>0?t.map((t=>Object.assign({},t,{children:c===t?e:n(t.children)}))):null;return n(t)}))},isOpen:(a||[]).indexOf(i)>-1,key:i,onOpenChange:()=>{V((e=>{const t=e.slice(0);return e.indexOf(i)>-1?t.splice(e.indexOf(i),1):t.push(i),t}))}},C(t,{parentKey:s,depth:r+1,selectedKey:l,openKeys:a,paths:[...o,i]}))})):null}),[g,V,d,j,n]);return(0,m.jsx)("div",{className:l()(t,s.menu,{[s["all-no-start-icon"]]:!b,[s["has-children-node"]]:H}),children:C(y,{selectedKey:c,openKeys:N})})};y.defaultProps={defaultItems:[],allowCollapsed:!0};const x=y},28864:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>w,navigationHeight:()=>V});var s=n(96164),r=n(48428),l=n(58564),a=n.n(l),o=n(46964),i=n(79272),c=n.n(i);const u=n.p+"static/media/favicon.477a5bb996fd5b367fe0dddc29f67824.svg";var d=n(63212);const p=e=>({"en-US":()=>n.e(1304).then(n.bind(n,11304)),"zh-CN":()=>n.e(5252).then(n.bind(n,65252))}[e]());var _=n(74879),h=n(5520);const g="style_navigation-wrap__VF8x2__VH9lc",m="style_navigation__60RrS__VH9lc",f="style_is-fixed__kHFWj__VH9lc",y="style_navigation-logo__q9qHu__VH9lc",x="style_logo__lB9RC__VH9lc",v="style_navigation-list__EYtkg__VH9lc",j="style_navigation-options__0BdJU__VH9lc",b="style_more-icon__gNMnt__VH9lc";var H=n(82496);const{Header:N}=s.Layout,V=48,C=e=>{let{name:t,mapping:n,defaultTitle:s}=e;const r=(0,o.useRef)({mapping:n,defaultTitle:s});return(0,o.useEffect)((()=>{const e=a()(r.current.mapping.get(t),"title");document.title=(e?e+"-":"")+r.current.defaultTitle}),[t]),null},O=e=>{let{permissions:t,list:n,headerLogo:l,rightOptions:i,isFixed:V,showIndex:O,indexLabel:w,defaultTitle:P,overflowedIndicator:k,base:E,onChange:L,className:K}=e;const S=(0,o.useMemo)((()=>new Map(n.map((e=>{let{key:t,...n}=e;return[t,n]})))),[n]),R=(0,r.useNavigate)(),F=(0,r.useLocation)(),I=(0,o.useRef)(),M=(0,o.useRef)(null),[A,T]=(0,o.useState)("\u66f4\u591a"),W=F.pathname.replace(new RegExp("^".concat(E)),"").split("/")[1],q=W?a()(Array.from(S.entries()).find((e=>{let[n,{path:s,permission:r}]=e;return-1!==("function"===typeof s?s(r,t):s).indexOf("/"+W)})),"[0]"):"home";(0,o.useEffect)((()=>{const e=()=>{if(I.current){const e=I.current.querySelectorAll("li[data-menu-id]");let t=!1;for(let s=0;s<e.length;s++){if(-1!==e[s].getAttribute("data-menu-id").indexOf(q)){t=!0;break}}let n=S.get(q)&&!t?a()(S.get(q),"title"):"";T(n)}},t={attributes:!0,childList:!0,subtree:!0};return I&&I.current&&(e(),M.current&&M.current.disconnect(),M.current=new MutationObserver(e),M.current.observe(I.current,t)),()=>{M.current&&M.current.disconnect()}}),[q,S]);const B=!!O&&{label:w||(0,H.jsx)(_.FormattedMessage,{id:"indexLabel",moduleName:"Navigation"}),key:"home",onClick:()=>{L&&L("/"),setTimeout((()=>{R("/")}),0)}};return(0,H.jsxs)(_.IntlProvider,{importMessages:p,moduleName:"Navigation",children:[(0,H.jsx)(_.FormattedMessage,{id:"defaultTitle",moduleName:"Navigation",children:e=>(0,H.jsx)(C,{defaultTitle:P||e,mapping:S,name:q})}),(0,H.jsx)("div",{className:c()(g,K),children:(0,H.jsx)(N,{className:c()("navigation",m,{[f]:V}),children:(0,H.jsxs)(s.Row,{justify:"space-around",wrap:!1,children:[(0,H.jsx)(s.Col,{className:c()("navigation-logo",y),children:(0,H.jsx)(d.default,{className:c()(x),src:u,alt:"logo",...l})}),(0,H.jsx)(s.Col,{ref:I,flex:1,className:c()("navigation-list",v),children:(0,H.jsx)(s.Menu,{selectedKeys:[q],mode:"horizontal",overflowedIndicator:k||(0,H.jsxs)(s.Space,{size:4,children:[(0,H.jsx)("span",{children:A||(0,H.jsx)(_.FormattedMessage,{id:"overflowedIndicator",moduleName:"Navigation"})}),(0,H.jsx)("span",{className:b,children:(0,H.jsx)(h.default,{type:"icon-arrow-thin-down"})})]}),items:[B,...Array.from(S.entries()).filter((e=>{let[n,{permission:s}]=e;if("string"===typeof s)return t.indexOf(s)>-1;if("function"===typeof s)return s(t);if(Array.isArray(s)){for(let e of s)if(t.indexOf(e)>-1)return!0;return!1}return!0})).map((e=>{let[n,{title:s,path:r,permission:l}]=e;const a="function"===typeof r?r(l,t):r;return{label:s,key:n,onClick:()=>{L&&L(a),setTimeout((()=>{R(a)}),0)}}}))]})}),(0,H.jsx)(s.Col,{className:j,children:i})]})})})]})};O.defaultProps={isFixed:!0,permissions:[],list:[],showIndex:!0,base:""};const w=O},92832:(e,t,n)=>{"use strict";n.r(t),n.d(t,{computedIsPass:()=>p,default:()=>m,usePermissions:()=>_,usePermissionsPass:()=>h});var s=n(46964),r=n(96164),l=n(58564),a=n.n(l),o=n(79272),i=n.n(o);const c="style_outer__vbHB9__VH9lc";var u=n(94328),d=n(82496);const p=e=>{let{permissions:t,request:n}=e;return!(Array.isArray(n)&&n.length>0)||n.some((e=>(t||[]).indexOf(e)>-1))},_=()=>{const e=(0,u.useGlobalContext)();return{permissions:a()(e,"global.accountInfo.permissions",[])}},h=e=>{let{request:t}=e;const{permissions:n}=_();return p({permissions:n,request:t})},g=e=>{let{type:t,className:n,tagName:l,message:a,request:o,children:u,...p}=e;const _=h({request:o});return"function"===typeof u?u({isPass:_,type:t,request:o}):!0===_?u:"error"===t?(0,d.jsx)(r.Result,{status:"403",subTitle:a}):"tooltip"===t?(0,d.jsx)(r.Tooltip,{title:a,children:(0,s.createElement)(l,{...p,className:i()(c,n)},u)}):null};g.defaultProps={type:"hidden",tagName:"span",message:"\u60a8\u6682\u65e0\u6743\u9650\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458"};const m=g},60752:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var s=n(96164),r=n(79272),l=n.n(r);const a={"state-bar":"style_state-bar__3jfis__VH9lc","has-children":"style_has-children__oQDqU__VH9lc","tab-tab-control":"style_tab-tab-control__SopeO__VH9lc","tab-radio-control":"style_tab-radio-control__R8X6-__VH9lc","tab-step-control":"style_tab-step-control__EQaCl__VH9lc","inner-state-bar":"style_inner-state-bar__lWmOz__VH9lc"};var o=n(82496);const i=e=>{let{className:t,type:n="tab",stateOption:r=[],isInner:i,...c}=e;return(0,o.jsx)(s.Tabs,{...c,"data-testid":"components-core-state-bar",className:l()(a["state-bar"],a["tab-".concat(n,"-control")],t,{[a["inner-state-bar"]]:i,[a["has-children"]]:r.some((e=>!!e.children))}),style:{"--total-count":r.length},animated:!1,items:r.map((e=>{let{tab:t,label:n,key:s,...r}=e;return{label:t||n,key:s,...r}}))})}},53872:e=>{e.exports=function(e,t,n,s){for(var r=-1,l=null==e?0:e.length;++r<l;){var a=e[r];t(s,a,n(a),e)}return s}},93912:(e,t,n)=>{var s=n(2168);e.exports=function(e,t,n,r){return s(e,(function(e,s,l){t(r,e,n(e),l)})),r}},2168:(e,t,n)=>{var s=n(82928),r=n(83924)(s);e.exports=r},38624:e=>{e.exports=function(e,t,n,s){for(var r=e.length,l=n+(s?1:-1);s?l--:++l<r;)if(t(e[l],l,e))return l;return-1}},40444:e=>{e.exports=function(e,t){for(var n,s=-1,r=e.length;++s<r;){var l=t(e[s]);void 0!==l&&(n=void 0===n?l:n+l)}return n}},20860:(e,t,n)=>{var s=n(53872),r=n(93912),l=n(15908),a=n(42336);e.exports=function(e,t){return function(n,o){var i=a(n)?s:r,c=t?t():{};return i(n,e,l(o,2),c)}}},83924:(e,t,n)=>{var s=n(71692);e.exports=function(e,t){return function(n,r){if(null==n)return n;if(!s(n))return e(n,r);for(var l=n.length,a=t?l:-1,o=Object(n);(t?a--:++a<l)&&!1!==r(o[a],a,o););return n}}},25704:(e,t,n)=>{var s=n(38624),r=n(15908),l=n(56460),a=Math.max,o=Math.min;e.exports=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var c=i-1;return void 0!==n&&(c=l(n),c=n<0?a(i+c,0):o(c,i-1)),s(e,r(t,3),c,!0)}},48812:(e,t,n)=>{var s=n(84456),r=n(20860),l=Object.prototype.hasOwnProperty,a=r((function(e,t,n){l.call(e,n)?e[n].push(t):s(e,n,[t])}));e.exports=a},99140:(e,t,n)=>{var s=n(96024);e.exports=function(e,t,n){return null==e?e:s(e,t,n)}},27843:(e,t,n)=>{var s=n(15908),r=n(40444);e.exports=function(e,t){return e&&e.length?r(e,s(t,2)):0}},56460:(e,t,n)=>{var s=n(92676);e.exports=function(e){var t=s(e),n=t%1;return t===t?n?t-n:t:0}}}]);
//# sourceMappingURL=1272.51fb1f3b.chunk.js.map