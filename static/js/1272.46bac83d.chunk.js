(self.webpackChunk_kne_components_components_core=self.webpackChunk_kne_components_components_core||[]).push([[1272,9424,2072],{43664:(e,t,n)=>{"use strict";n.d(t,{c:()=>p});var s=n(80584),r=n(46964),a=n(1165),l=n.n(a),o=n(79272),i=n.n(o);const c={scroller:"style_scroller__EfuqR__6hOBk","scroller-inner":"style_scroller-inner__NJSE0__6hOBk","is-moving":"style_is-moving__jGuy0__6hOBk"};var u=n(82496);const d=e=>{let{onScroll:t,getContainer:n,...a}=e;const l=(0,r.useRef)(0),[o,d]=(0,r.useState)(!1),h=(0,r.useRef)(o);h.current=o;const p=(0,r.useRef)(t);p.current=t;const _=(0,r.useRef)(1);return _.current=a.width/a.innerWidth,(0,r.useEffect)((()=>{const e=e=>{h.current&&p.current(_.current*(e.clientX-l.current)),l.current=e.clientX},t=()=>{d(!1)};return document.addEventListener("mousemove",e,!0),document.addEventListener("mouseup",t,!0),()=>{document.removeEventListener("mousemove",e,!0),document.removeEventListener("mouseup",t,!0)}}),[]),(0,s.createPortal)(a.hasScroller?(0,u.jsx)("div",{className:c.scroller,style:{left:a.left,width:a.width,height:15},children:(0,u.jsx)("div",{className:i()(c["scroller-inner"],{[c["is-moving"]]:o}),style:{width:a.innerWidth,left:a.innerLeft},onMouseDown:e=>{e.preventDefault(),l.current=e.clientX,d(!0)}})}):null,n()||document.body)},h=e=>{let{className:t,scroller:n,getScrollTarget:s,children:a}=e;const[o,h]=(0,r.useState)({left:0,width:0,innerLeft:0,innerWidth:0,height:0,hasScroller:!1}),p=(0,r.useRef)(null),_=l()((()=>p.current&&s(p.current))),g=(0,r.useRef)();return g.current="object"===typeof n&&"function"===typeof n.getContainer?n.getContainer:()=>null,(0,r.useEffect)((()=>{const e=g.current()||document.documentElement;let t;const n=()=>{if(!t)return;const{left:n,width:s,top:r,height:a}=t.getBoundingClientRect(),l=t.offsetHeight-t.clientHeight||15,o=s*t.clientWidth/t.scrollWidth-6,i=t.scrollLeft*t.clientWidth/t.scrollWidth+2,c=e.getBoundingClientRect();h((u=>Object.assign({},u,{left:n,width:s,innerLeft:i,innerWidth:o,height:l,hasScroller:t.scrollWidth-t.clientWidth>0&&(e===document.documentElement?r+a-e.offsetHeight>0&&r<e.offsetHeight:r<c.top+c.height&&r+a>c.top+c.height)})))},s=new ResizeObserver(n);return new ResizeObserver((()=>{t=_(),t&&(s.disconnect(),n(),Array.from(t.children).forEach((e=>{s.observe(e)})),t.addEventListener("scroll",n))})).observe(p.current),window.addEventListener("scroll",n),e.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n),e.removeEventListener("scroll",n)}}),[_]),n?(0,u.jsxs)("div",{className:i()(c["scroller-outer"],t),ref:p,style:{"--scroller-bar-height":null!==o&&void 0!==o&&o.hasScroller?"15px":"0px"},children:[a,(0,u.jsx)(d,{...o,getContainer:g.current,onScroll:e=>{_().scrollLeft+=e}})]}):a};h.defaultProps={scroller:!0,getScrollTarget:()=>document.querySelector(".simplebar-content-wrapper")};const p=h},54948:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y,useFeatureCall:()=>f});var s=n(46964),r=n(68086),a=n(58564),l=n.n(a),o=n(83416),i=n.n(o),c=n(5e4),u=n.n(c),d=n(82496);const h=(e,t,n)=>{e&&(Array.isArray(e)?e.forEach((e=>{h(e,t,n)})):(t(Object.assign({},u()(e,["children"]),{parentId:n})),h(e.children,t,n?n+":"+e.id:e.id)))},p=i()((e=>{const t=(()=>{const t=new Map;return h(e,(e=>{t.set(e.parentId?e.parentId+":"+e.id:e.id,e)})),t})(),n=(e=>Array.from(e.keys()).filter((t=>{const n=e.get(t);return!(Array.isArray(n.dependencies)&&n.dependencies.length>0&&n.dependencies.some((n=>!e.get(t))))})))(t);return{profile:e,features:n,profileMap:t}})),_=(e,t)=>{let{profileMap:n,features:s}=t;const r=n.get(e);return-1!==s.indexOf(e)&&!0!==r.close&&l()(r,"dependencies",[]).every((t=>{const r=n.get(e);return s.indexOf(t)>-1&&!0!==r.close}))},g=(0,s.createContext)(null),{Provider:m}=g,f=e=>{const{features:t,profile:n,profileMap:a,debug:o}=(()=>{const e=(0,r.usePreset)(),{profile:t,debug:n}=l()(e,"features",{debug:!1,profile:{}});return Object.assign({},p(t),{debug:n})})(),i="system"===n.type?n.id:"root",c=(0,s.useContext)(g),u=c?c+":"+e:i+":"+e;return(0,s.useEffect)((()=>{t&&t.length>0&&o&&console.log("[featureId] ".concat(u,",[state] ").concat(_(u,{features:t,profileMap:a})),a.get(u))}),[t,a,o,u]),{isPass:!(e&&t&&t.length>0)||_(u,{features:t,profileMap:a}),currentId:u,feature:a.get(u)}},y=e=>{let{id:t,children:n}=e;const{isPass:s,feature:r,currentId:a}=f(t);return(0,d.jsx)(m,{value:a,children:"function"===typeof n?n({isPass:s,options:s?l()(r,"options"):l()(r,"rejectedOptions"),currentId:a}):s&&n})}},11600:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});const s=e=>({"en-US":()=>n.e(3264).then(n.bind(n,3264)),"zh-CN":()=>n.e(5348).then(n.bind(n,35348))}[e]());var r=n(74879),a=n(5520),l=n(96164),o=n(79272),i=n.n(o);const c="style_helper-guide__K5xFw__6hOBk",u="style_inner__bMKeU__6hOBk",d="style_content__xTfWZ__6hOBk",h="style_link__93j7O__6hOBk";var p=n(17376),_=n(82496);const g=e=>{let{name:t,className:n}=e;return(0,_.jsx)(r.IntlProvider,{importMessages:s,moduleName:"HelperGuide",children:(0,_.jsx)(p.default,{moduleName:"helperGuide",name:t,children:e=>e&&e.value&&(0,_.jsx)("div",{className:i()(c,n),children:(0,_.jsxs)(l.Space,{className:u,children:[(0,_.jsx)(a.default,{colorful:!0,type:"icon-color-bangzhuyindao"}),(0,_.jsx)("span",{className:d,children:e.content}),e.url&&(0,_.jsxs)(l.Typography.Link,{className:h,href:e.url,target:"_blank",children:["\u67e5\u770b\u5e2e\u52a9",(0,_.jsx)(a.default,{type:"icon-shuangjiantou-right"})]})]})})})})}},40436:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Affix:()=>S,Menu:()=>J.default,Page:()=>K,PermissionsPage:()=>X,StateBarPage:()=>Y,TablePage:()=>Z,default:()=>G});var s=n(96164),r=n(46964);const a={menu:null,filter:null,menuOpen:!0,menuWidth:"240px",menuFixed:!0,menuCloseButton:!0,backgroundColor:null,header:null,headerHeight:0,headerFixed:!0,headerInfo:null,backUrl:null,title:null,titleExtra:null,titleLeftExtra:null,noMargin:!1,noPadding:!1,optionFooterHeight:0,option:null,optionWidth:"400px",optionNoPadding:!1,optionFixed:!0,optionFooter:null},l=(0,r.createContext)({}),{Provider:o,Consumer:i}=l,c=()=>(0,r.useContext)(l);var u=n(28864),d=n(55860),h=n(80627),p=n(60436),_=n.n(p),g=n(54948),m=n(79272),f=n.n(m);const y={layout:"style_layout__k+lxR__6hOBk","page-content":"style_page-content__4XeN8__6hOBk","page-main":"style_page-main__P0yEF__6hOBk","page-main-content":"style_page-main-content__1OVPN__6hOBk","table-page":"style_table-page__JkbLf__6hOBk","helper-guide":"style_helper-guide__vzw4z__6hOBk","page-outer":"style_page-outer__2a6iH__6hOBk","no-margin":"style_no-margin__S6caT__6hOBk","page-menu":"style_page-menu__CZSa9__6hOBk",closed:"style_closed__hmnft__6hOBk","page-menu-inner":"style_page-menu-inner__rmKpu__6hOBk","page-menu-main":"style_page-menu-main__OXg2M__6hOBk","page-option-main":"style_page-option-main__LyfT3__6hOBk","page-menu-main-outer":"style_page-menu-main-outer__yY+-Q__6hOBk","page-option":"style_page-option__diS2S__6hOBk","page-option-inner":"style_page-option-inner__Fj1JH__6hOBk","page-option-footer":"style_page-option-footer__d7xE0__6hOBk","fixed-container":"style_fixed-container__1VZwY__6hOBk","is-fixed":"style_is-fixed__1aQhp__6hOBk","page-menu-btn-outer":"style_page-menu-btn-outer__iVJiW__6hOBk","page-menu-btn":"style_page-menu-btn__BiTy8__6hOBk","page-title":"style_page-title__zw-Fd__6hOBk","page-title-text":"style_page-title-text__Rj4RC__6hOBk","no-padding":"style_no-padding__V7Dwy__6hOBk","page-header":"style_page-header__a813p__6hOBk","page-header-info":"style_page-header-info__cMrZR__6hOBk","layout-menu":"style_layout-menu__yiab0__6hOBk","sub-menu":"style_sub-menu__dyqK7__6hOBk","no-collapsed":"style_no-collapsed__76h8W__6hOBk","has-not-children":"style_has-not-children__fnjRK__6hOBk","table-page-top":"style_table-page-top__bt1l9__6hOBk","error-component":"style_error-component__HvghB__6hOBk","state-bar-page":"style_state-bar-page__+aUM4__6hOBk","back-icon":"style_back-icon__79v2G__6hOBk"};var x=n(82496);const v=e=>{let{className:t,isFixed:n,children:s}=e;return n?(0,x.jsx)("div",{className:f()(t,"fixed-container",y["fixed-container"],{[y["is-fixed"]]:n}),children:s}):(0,x.jsx)("div",{className:f()(t,"fixed-container",y["fixed-container"]),children:s})};var j=n(5520),O=n(42116),b=n(48428),k=n(58564),N=n.n(k),B=n(3292),C=n(22396);const w="CORE_PAGE_MENU_OPEN_KEY",P=()=>{const{pageProps:e,setPageProps:t}=c(),{menu:n,menuOpen:r,menuWidth:a,menuFixed:l,menuCloseButton:o}=e,i=(0,b.useLocation)().pathname.split("/")[1];return n?(0,x.jsxs)(s.Col,{className:f()(y["page-menu"],{[y.closed]:!r}),style:{"--width":a},children:[(0,x.jsx)(v,{className:y["page-menu-inner"],isFixed:l,children:(0,x.jsx)("div",{className:y["page-menu-main-outer"],children:(0,x.jsx)(O.c,{className:y["page-menu-main"],children:n})})}),o?(0,x.jsx)(v,{className:f()(y["page-menu-btn-outer"],y["page-menu-btn-outer"]),isFixed:l,children:(0,x.jsx)(s.Button,{className:f()(y["page-menu-btn"],{[y.closed]:!r}),icon:r?(0,x.jsx)(j.default,{type:"icon-arrow-bold-left"}):(0,x.jsx)(j.default,{type:"icon-arrow-bold-right"}),onClick:()=>{t({menuOpen:!e.menuOpen});const n=C.c.getItem(w)||{};n[i]=!e.menuOpen,C.c.setItem(w,n),t({menuOpen:!e.menuOpen})}})}):null]}):null},E=e=>{let{children:t,isPass:n,...a}=e;const{setPageProps:l}=c(),o=(0,r.useRef)(null),i=(()=>{const e=(0,b.useLocation)().pathname.split("/")[1];return(0,r.useMemo)((()=>{const t=C.c.getItem(w)||{};return!(0,B.c)(N()(t,e))||N()(t,e)}),[e])})(),u=(0,r.useRef)(i);return u.current=i,(0,r.useEffect)((()=>{if(!_()(o.current,a)){o.current=a;const e=Object.assign({},a,"boolean"===typeof u.current?{menuOpen:u.current}:{});e.header&&0===e.headerHeight&&delete e.headerHeight,e.optionFooter&&0===e.optionFooterHeight&&delete e.optionFooter,l(e)}}),[a,l]),!1===n?(0,x.jsx)(s.Result,{status:"403",subTitle:"\u6682\u672a\u5f00\u653e\u6b64\u529f\u80fd"}):t},L=e=>{let{featureId:t,name:n,openFeatures:s,...a}=e;return!0===s?(0,x.jsx)(g.default,{id:n,children:e=>{let{isPass:t}=e;return(0,r.createElement)(E,{...a,key:n,isPass:t})}}):(0,r.createElement)(E,{...a,key:n})};L.defaultProps=a;const K=L,S=e=>{let{isFixed:t,offsetTop:n,offsetBottom:r,onChange:a,...l}=e;return t?(0,x.jsx)(s.Affix,{...l,offsetTop:Number.isInteger(n)?n-.1:n,offsetBottom:r,onChange:a}):(0,x.jsx)("div",{...l})},R=e=>{let{targetKey:t,...n}=e;const s=(e=>{let{targetKey:t}=e;const{setPageProps:n}=c(),s=(0,r.useRef)(null);return(0,r.useLayoutEffect)((()=>{const e=()=>{n({[t]:s.current.offsetHeight})};e();const r=new MutationObserver(e);return r.observe(s.current,{subtree:!0,childList:!0}),()=>{r.disconnect()}}),[n,t]),s})({targetKey:t});return(0,x.jsx)("div",{...n,ref:s})},F=()=>{const{pageProps:e}=c(),{header:t,headerFixed:n}=e;return t?(0,x.jsx)(S,{isFixed:n,className:y["page-header"],offsetTop:u.navigationHeight,children:(0,x.jsx)(R,{targetKey:"headerHeight",children:t})}):null},I=()=>{const{pageProps:e}=c(),{headerInfo:t}=e,n=(0,r.useRef)(null);return t?(0,x.jsx)("div",{ref:n,className:f()(y["page-header-info"],"page-header-info"),children:t}):null};var M=n(89188);const A=e=>{let{title:t,filter:n,titleExtra:r,titleLeftExtra:a,backUrl:l}=e;const o=(0,b.useNavigate)();return n?(0,x.jsx)(M.default,{className:y["page-title"],...n,extra:r}):t||a||r?(0,x.jsxs)(s.Row,{justify:"space-between",align:"middle",className:y["page-title"],children:[(0,x.jsx)(s.Col,{children:(0,x.jsxs)(s.Space,{children:[t?(0,x.jsx)("div",{className:y["page-title-text"],children:l?(0,x.jsxs)(s.Space,{children:[(0,x.jsx)("span",{className:y["back-icon"],onClick:()=>{o(l)},children:(0,x.jsx)(j.default,{type:"icon-arrow-thin-left"})}),(0,x.jsx)("span",{children:t})]}):t}):null,a||null]})}),(0,x.jsx)(s.Col,{children:r})]}):null},H=()=>{const{pageProps:e}=c(),{option:t,optionWidth:n,optionFixed:r,optionFooter:a,optionFooterHeight:l,optionNoPadding:o}=e;return t?(0,x.jsx)(s.Col,{className:f()(y["page-option"],"page-option"),style:{"--width":n,"--foot-height":l+"px"},children:(0,x.jsxs)(v,{className:y["page-option-inner"],isFixed:r,children:[(0,x.jsx)(O.c,{className:f()(y["page-option-main"],"page-option-main"),style:{padding:o?"0px":"var(--padding-width)"},children:t}),a?(0,x.jsx)(R,{className:y["page-option-footer"],targetKey:"optionFooterHeight",children:(0,x.jsx)(s.Space,{align:"center",children:a})}):null]})}):null};var T=n(11600);const{Content:W}=s.Layout,q=()=>(0,x.jsx)(s.Alert,{message:"\u7cfb\u7edf\u51fa\u4e86\u70b9\u5c0f\u95ee\u9898\uff0c\u53ef\u5237\u65b0\u9875\u9762\u8fdb\u884c\u89e3\u51b3",showIcon:!0,type:"error",action:(0,x.jsx)(s.Button,{size:"small",danger:!0,onClick:()=>window.location.reload(),children:"\u5237\u65b0"})}),z=e=>(0,x.jsx)(h.c,{...e,errorComponent:q}),U=e=>{let{children:t,theme:n,navigation:l}=e;const[i,c]=(0,r.useState)(0),[h,p]=(0,r.useState)(Object.assign({},a)),_=(0,r.useCallback)((e=>p((t=>Object.assign({},t,e)))),[]);return(0,r.useEffect)((()=>{const e=(0,d.K)(),t=()=>{c(e.scrollLeft)};return e.addEventListener("scroll",t),()=>{e.removeEventListener("scroll",t)}}),[]),(0,x.jsxs)(s.Layout,{className:y.layout,style:Object.assign({},{"--nav-height":u.navigationHeight+"px","--nav-height-base":"var(--nav-height)","--scroll-left":-i+"px"},n),children:[l&&(0,x.jsx)(z,{children:(0,x.jsx)(u.default,{...l,onChange:e=>{(null===l||void 0===l?void 0:l.onChange)&&l.onChange(e)}})}),(0,x.jsx)(z,{children:(0,x.jsx)(W,{className:y["layout-content-wrap"],children:(0,x.jsxs)(o,{value:{pageProps:h,setPageProps:_},children:[(0,x.jsx)(z,{children:(0,x.jsx)(F,{})}),(0,x.jsx)(z,{children:(0,x.jsx)(I,{})}),(0,x.jsx)(z,{children:(0,x.jsxs)(s.Row,{className:f()(h.className,y["page-outer"]),wrap:!1,style:{"--nav-height":"calc(".concat(h.headerHeight,"px + var(--nav-height-base))"),"--nav-only-height":"var(--nav-height-base)"},children:[(0,x.jsx)(z,{children:(0,x.jsx)(P,{})}),(0,x.jsx)(s.Col,{className:f()(y["page-content"],{[y["no-margin"]]:h.noMargin}),flex:1,style:{"--background-color":h.backgroundColor},children:(0,x.jsxs)("div",{className:y["page-main"],children:[(0,x.jsx)(z,{children:(0,x.jsx)(A,{title:h.title,backUrl:h.backUrl,filter:h.filter,titleExtra:h.titleExtra,titleLeftExtra:h.titleLeftExtra})}),(0,x.jsx)("div",{className:f()(y["page-main-content"],{[y["no-padding"]]:h.noPadding}),children:(0,x.jsxs)(z,{children:[h.helperGuideName&&(0,x.jsx)(T.default,{className:y["helper-guide-page"],name:h.helperGuideName}),t]})})]})}),(0,x.jsx)(z,{children:(0,x.jsx)(H,{})})]})})]})})})]})};U.defaultProps={navigation:{}};const G=U;var V=n(92832);const X=e=>{let{permissions:t,...n}=e;return(0,x.jsx)(V.default,{...Object.assign({},t,{type:"error"}),children:(0,x.jsx)(K,{...n})})};var J=n(63849),Q=n(33188);const Z=(0,r.forwardRef)(((e,t)=>{let{helperGuideName:n,permissions:s,page:a,openFeatures:l,name:o,topArea:i,...c}=e;const[u,d]=(0,r.useState)(null);return(0,x.jsxs)(X,{name:o,openFeatures:l,permissions:s,...a,children:[i?(0,x.jsx)("div",{className:y["table-page-top"],children:"function"===typeof i?i(u):i}):null,(0,x.jsxs)("div",{className:y["table-page"],children:[n&&(0,x.jsx)(T.default,{className:f()("helper-guide",y["helper-guide"]),name:n}),(0,x.jsx)(Q.TablePage,{...c,ref:t,name:o,onRequestSuccess:e=>{d(e)}})]})]})}));var D=n(60752);const Y=e=>{let{helperGuideName:t,permissions:n,page:s,stateBar:r,children:a,...l}=e;return(0,x.jsxs)(X,{...s,permissions:n,...l,children:[(0,x.jsx)("div",{className:y["state-bar-page"],children:(0,x.jsx)(D.default,{...r})}),t&&(0,x.jsx)(T.default,{className:y["helper-guide"],name:t}),a]})}},63849:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x});const s={menu:"style_menu__gvIvn__6hOBk","all-no-start-icon":"style_all-no-start-icon__CA+zR__6hOBk","no-start-icon":"style_no-start-icon__LnC1S__6hOBk","has-children":"style_has-children__m9tce__6hOBk","has-children-node":"style_has-children-node__2bhEB__6hOBk","is-root":"style_is-root__4hhOc__6hOBk",title:"style_title__+Hcar__6hOBk",active:"style_active__WU49K__6hOBk","no-collapse":"style_no-collapse__aIZBM__6hOBk","title-content":"style_title-content__cQXpK__6hOBk",loading:"style_loading__1pU4P__6hOBk"};var r=n(79272),a=n.n(r),l=n(96164),o=n(48428),i=n(92832),c=n(75680),u=n.n(c),d=n(5520),h=n(46964),p=n(92420),_=n.n(p),g=n(84768),m=n(82496);const f=e=>{const t=(0,o.useNavigate)(),{id:n,className:r,label:c,iconType:u,path:h,request:p,onClick:_,isOpen:f,isSelected:y,onOpenChange:x,children:v,fetchOptions:j,depth:O,onLoad:b,allowCollapsed:k}=e,N=Array.isArray(v)&&v.length>0||j,{refresh:B,isLoading:C}=(0,g.useFetch)(Object.assign({},j,{auto:!k&&j,onRequestSuccess:e=>{b(e)}}));return(0,m.jsx)(i.default,{request:p,children:(0,m.jsxs)("div",{className:a()(r,s["menu-item"]),children:[(0,m.jsxs)("div",{className:a()(s.title,{[s.active]:y,[s["has-children"]]:N,[s["no-collapse"]]:N&&!k,[s["no-start-icon"]]:!u,[s["is-root"]]:0===O}),onClick:s=>{s.stopPropagation(),N||!h?N||j?k&&(j&&B({}),x(!f)):null===_||void 0===_||_(n,e):t(h)},children:[u&&(0,m.jsx)(d.default,{type:u}),(0,m.jsx)("span",{className:s["title-content"],children:c}),N&&k&&(0,m.jsx)(d.default,{type:f?"icon-arrow-bold-down":"icon-arrow-bold-right"})]}),N?!k||f&&v?(0,m.jsx)("div",{className:s["children-list"],children:v}):!k||f&&C?(0,m.jsx)("div",{className:s["children-list"],children:(0,m.jsx)(l.Spin,{className:s.loading,size:"small"})}):void 0:null]})})},y=e=>{let{className:t,allowCollapsed:n,...r}=e;const{pathname:l,search:i}=(0,o.useLocation)(),[c,d]=u()(r,{value:"currentKey",defaultValue:"defaultCurrentKey"}),[p,g]=u()(r,{defaultValue:"defaultItems",value:"items",onChange:"onItemsChange"}),{items:y,defaultOpenKeys:x,links:v,childrenKeys:j,hasStartIcon:O,hasChildren:b}=(0,h.useMemo)((()=>{var e;const{items:t,childrenKeys:n,nodeMapping:s}=(e=>{const t={},n=[],s=(e,r)=>{const{parentKey:a,depth:l}=Object.assign({parentKey:"root",depth:0,paths:[]},r);return Array.isArray(e)&&e.length>0?e.map(((e,r)=>{const o="".concat(e.key||"".concat("root"!==a?"".concat(a,"-"):"","node-").concat(r));t[a]||(t[a]=[]),t[a].push(o);const i=s(e.children,{parentKey:o,depth:l+1});t[o]&&t[a].push(...t[o]);const c=Object.assign({},e,{key:o,parentKey:a,depth:l,children:i,originItem:e});return n[o]=c,c})):null};return{items:s(e),childrenKeys:t,nodeMapping:n}})(p);let r=!1,a=!1;const l=[],o=[];return null===n||void 0===n||null===(e=n.root)||void 0===e||e.forEach((e=>{const t=s[e];t.iconType&&(r=!0),t.path&&l.push({path:t.path,key:e}),Array.isArray(t.children)&&t.children.length>0&&(a=!0,o.push(t.key))})),{defaultOpenKeys:o,links:l,items:t,childrenKeys:n,hasStartIcon:r,hasChildren:a}}),[p]);(0,h.useEffect)((()=>{const e=v.find((e=>{let{path:t}=e;return _()(l.replace(/[#,?].*/,""))===_()(t)||_()(l+i,"")===_()(t)}));e&&d(e.key)}),[v,l,i,d]);const[k,N]=u()(Object.assign({},r,{defaultOpenKeys:r.defaultOpenKeys||x}),{value:"openKeys",defaultValue:"defaultOpenKeys",onChange:"onOpenChange"}),B=(0,h.useCallback)(((e,t)=>{const{parentKey:s,depth:r,selectedKey:a,openKeys:l,paths:o}=Object.assign({parentKey:null,depth:0,paths:[]},t);return Array.isArray(e)&&e.length>0?e.map((e=>{let{children:t,key:i,originItem:c,...u}=e;return(0,h.createElement)(f,{...Object.assign({},u),id:i,parentId:s,depth:r,allowCollapsed:n,isSelected:i===a||j[i]&&j[i].indexOf(a)>-1,onClick:d,onLoad:e=>{g((t=>{const n=t=>Array.isArray(t)&&t.length>0?t.map((t=>Object.assign({},t,{children:c===t?e:n(t.children)}))):null;return n(t)}))},isOpen:(l||[]).indexOf(i)>-1,key:i,onOpenChange:()=>{N((e=>{const t=e.slice(0);return e.indexOf(i)>-1?t.splice(e.indexOf(i),1):t.push(i),t}))}},B(t,{parentKey:s,depth:r+1,selectedKey:a,openKeys:l,paths:[...o,i]}))})):null}),[g,N,d,j,n]);return(0,m.jsx)("div",{className:a()(t,s.menu,{[s["all-no-start-icon"]]:!O,[s["has-children-node"]]:b}),children:B(y,{selectedKey:c,openKeys:k})})};y.defaultProps={defaultItems:[],allowCollapsed:!0};const x=y},28864:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>w,navigationHeight:()=>N});var s=n(96164),r=n(48428),a=n(58564),l=n.n(a),o=n(46964),i=n(79272),c=n.n(i);const u=n.p+"static/media/favicon.477a5bb996fd5b367fe0dddc29f67824.svg";var d=n(63212);const h=e=>({"en-US":()=>n.e(1304).then(n.bind(n,11304)),"zh-CN":()=>n.e(5252).then(n.bind(n,65252))}[e]());var p=n(74879),_=n(5520);const g="style_navigation-wrap__VF8x2__6hOBk",m="style_navigation__60RrS__6hOBk",f="style_is-fixed__kHFWj__6hOBk",y="style_navigation-logo__q9qHu__6hOBk",x="style_logo__lB9RC__6hOBk",v="style_navigation-list__EYtkg__6hOBk",j="style_navigation-options__0BdJU__6hOBk",O="style_more-icon__gNMnt__6hOBk";var b=n(82496);const{Header:k}=s.Layout,N=48,B=e=>{let{name:t,mapping:n,defaultTitle:s}=e;const r=(0,o.useRef)({mapping:n,defaultTitle:s});return(0,o.useEffect)((()=>{const e=l()(r.current.mapping.get(t),"title");document.title=(e?e+"-":"")+r.current.defaultTitle}),[t]),null},C=e=>{let{permissions:t,list:n,headerLogo:a,rightOptions:i,isFixed:N,showIndex:C,indexLabel:w,defaultTitle:P,overflowedIndicator:E,base:L,onChange:K,className:S}=e;const R=(0,o.useMemo)((()=>new Map(n.map((e=>{let{key:t,...n}=e;return[t,n]})))),[n]),F=(0,r.useNavigate)(),I=(0,r.useLocation)(),M=(0,o.useRef)(),A=(0,o.useRef)(null),[H,T]=(0,o.useState)("\u66f4\u591a"),W=I.pathname.replace(new RegExp("^".concat(L)),"").split("/")[1],q=W?l()(Array.from(R.entries()).find((e=>{let[n,{path:s,permission:r}]=e;return-1!==("function"===typeof s?s(r,t):s).indexOf("/"+W)})),"[0]"):"home";(0,o.useEffect)((()=>{const e=()=>{if(M.current){const e=M.current.querySelectorAll("li[data-menu-id]");let t=!1;for(let s=0;s<e.length;s++){if(-1!==e[s].getAttribute("data-menu-id").indexOf(q)){t=!0;break}}let n=R.get(q)&&!t?l()(R.get(q),"title"):"";T(n)}},t={attributes:!0,childList:!0,subtree:!0};return M&&M.current&&(e(),A.current&&A.current.disconnect(),A.current=new MutationObserver(e),A.current.observe(M.current,t)),()=>{A.current&&A.current.disconnect()}}),[q,R]);const z=!!C&&{label:w||(0,b.jsx)(p.FormattedMessage,{id:"indexLabel",moduleName:"Navigation"}),key:"home",onClick:()=>{K&&K("/"),setTimeout((()=>{F("/")}),0)}};return(0,b.jsxs)(p.IntlProvider,{importMessages:h,moduleName:"Navigation",children:[(0,b.jsx)(p.FormattedMessage,{id:"defaultTitle",moduleName:"Navigation",children:e=>(0,b.jsx)(B,{defaultTitle:P||e,mapping:R,name:q})}),(0,b.jsx)("div",{className:c()(g,S),children:(0,b.jsx)(k,{className:c()("navigation",m,{[f]:N}),children:(0,b.jsxs)(s.Row,{justify:"space-around",wrap:!1,children:[(0,b.jsx)(s.Col,{className:c()("navigation-logo",y),children:(0,b.jsx)(d.default,{className:c()(x),src:u,alt:"logo",...a})}),(0,b.jsx)(s.Col,{ref:M,flex:1,className:c()("navigation-list",v),children:(0,b.jsx)(s.Menu,{selectedKeys:[q],mode:"horizontal",overflowedIndicator:E||(0,b.jsxs)(s.Space,{size:4,children:[(0,b.jsx)("span",{children:H||(0,b.jsx)(p.FormattedMessage,{id:"overflowedIndicator",moduleName:"Navigation"})}),(0,b.jsx)("span",{className:O,children:(0,b.jsx)(_.default,{type:"icon-arrow-thin-down"})})]}),items:[z,...Array.from(R.entries()).filter((e=>{let[n,{permission:s}]=e;if("string"===typeof s)return t.indexOf(s)>-1;if("function"===typeof s)return s(t);if(Array.isArray(s)){for(let e of s)if(t.indexOf(e)>-1)return!0;return!1}return!0})).map((e=>{let[n,{title:s,path:r,permission:a}]=e;const l="function"===typeof r?r(a,t):r;return{label:s,key:n,onClick:()=>{K&&K(l),setTimeout((()=>{F(l)}),0)}}}))]})}),(0,b.jsx)(s.Col,{className:j,children:i})]})})})]})};C.defaultProps={isFixed:!0,permissions:[],list:[],showIndex:!0,base:""};const w=C},92832:(e,t,n)=>{"use strict";n.r(t),n.d(t,{computedIsPass:()=>h,default:()=>m,usePermissions:()=>p,usePermissionsPass:()=>_});var s=n(46964),r=n(96164),a=n(58564),l=n.n(a),o=n(79272),i=n.n(o);const c="style_outer__vbHB9__6hOBk";var u=n(94328),d=n(82496);const h=e=>{let{permissions:t,request:n}=e;return!(Array.isArray(n)&&n.length>0)||n.some((e=>(t||[]).indexOf(e)>-1))},p=()=>{const e=(0,u.useGlobalContext)();return{permissions:l()(e,"global.accountInfo.permissions",[])}},_=e=>{let{request:t}=e;const{permissions:n}=p();return h({permissions:n,request:t})},g=e=>{let{type:t,className:n,tagName:a,message:l,request:o,children:u,...h}=e;const p=_({request:o});return"function"===typeof u?u({isPass:p,type:t,request:o}):!0===p?u:"error"===t?(0,d.jsx)(r.Result,{status:"403",subTitle:l}):"tooltip"===t?(0,d.jsx)(r.Tooltip,{title:l,children:(0,s.createElement)(a,{...h,className:i()(c,n)},u)}):null};g.defaultProps={type:"hidden",tagName:"span",message:"\u60a8\u6682\u65e0\u6743\u9650\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458"};const m=g},60752:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var s=n(96164),r=n(79272),a=n.n(r);const l={"state-bar":"style_state-bar__3jfis__6hOBk","has-children":"style_has-children__oQDqU__6hOBk","tab-tab-control":"style_tab-tab-control__SopeO__6hOBk","tab-radio-control":"style_tab-radio-control__R8X6-__6hOBk","tab-step-control":"style_tab-step-control__EQaCl__6hOBk","inner-state-bar":"style_inner-state-bar__lWmOz__6hOBk"};var o=n(82496);const i=e=>{let{className:t,type:n="tab",stateOption:r=[],isInner:i,...c}=e;return(0,o.jsx)(s.Tabs,{...c,"data-testid":"components-core-state-bar",className:a()(l["state-bar"],l["tab-".concat(n,"-control")],t,{[l["inner-state-bar"]]:i,[l["has-children"]]:r.some((e=>!!e.children))}),style:{"--total-count":r.length},animated:!1,items:r.map((e=>{let{tab:t,label:n,key:s,...r}=e;return{label:t||n,key:s,...r}}))})}},53872:e=>{e.exports=function(e,t,n,s){for(var r=-1,a=null==e?0:e.length;++r<a;){var l=e[r];t(s,l,n(l),e)}return s}},93912:(e,t,n)=>{var s=n(2168);e.exports=function(e,t,n,r){return s(e,(function(e,s,a){t(r,e,n(e),a)})),r}},2168:(e,t,n)=>{var s=n(82928),r=n(83924)(s);e.exports=r},38624:e=>{e.exports=function(e,t,n,s){for(var r=e.length,a=n+(s?1:-1);s?a--:++a<r;)if(t(e[a],a,e))return a;return-1}},40444:e=>{e.exports=function(e,t){for(var n,s=-1,r=e.length;++s<r;){var a=t(e[s]);void 0!==a&&(n=void 0===n?a:n+a)}return n}},20860:(e,t,n)=>{var s=n(53872),r=n(93912),a=n(15908),l=n(42336);e.exports=function(e,t){return function(n,o){var i=l(n)?s:r,c=t?t():{};return i(n,e,a(o,2),c)}}},83924:(e,t,n)=>{var s=n(71692);e.exports=function(e,t){return function(n,r){if(null==n)return n;if(!s(n))return e(n,r);for(var a=n.length,l=t?a:-1,o=Object(n);(t?l--:++l<a)&&!1!==r(o[l],l,o););return n}}},25704:(e,t,n)=>{var s=n(38624),r=n(15908),a=n(56460),l=Math.max,o=Math.min;e.exports=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var c=i-1;return void 0!==n&&(c=a(n),c=n<0?l(i+c,0):o(c,i-1)),s(e,r(t,3),c,!0)}},48812:(e,t,n)=>{var s=n(84456),r=n(20860),a=Object.prototype.hasOwnProperty,l=r((function(e,t,n){a.call(e,n)?e[n].push(t):s(e,n,[t])}));e.exports=l},99140:(e,t,n)=>{var s=n(96024);e.exports=function(e,t,n){return null==e?e:s(e,t,n)}},27843:(e,t,n)=>{var s=n(15908),r=n(40444);e.exports=function(e,t){return e&&e.length?r(e,s(t,2)):0}},56460:(e,t,n)=>{var s=n(92676);e.exports=function(e){var t=s(e),n=t%1;return t===t?n?t-n:t:0}}}]);
//# sourceMappingURL=1272.46bac83d.chunk.js.map