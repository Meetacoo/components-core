"use strict";(self.webpackChunk_kne_components_core=self.webpackChunk_kne_components_core||[]).push([[579],{20471:(e,t,n)=>{n.d(t,{Z:()=>s});const s={getItem:e=>{const t=window.localStorage.getItem(e);try{const{dataType:e,value:n}=JSON.parse(t);if("object"===e&&"null"===n)return null;if("undefined"===e)return;return"number"===e?Number(n):"boolean"===e?Boolean(n):n}catch(n){return null}},setItem:(e,t)=>{const n=typeof t;window.localStorage.setItem(e,JSON.stringify({dataType:n,value:t}))}}},33128:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var s=n(86122),a=n(66005),l=n(43682),r=(n(68787),n(49151)),i=n.n(r),o=n(42854),c=n.n(o),d=n(80184);const u=[["gender",()=>[{value:"M",description:"\u7537"},{value:"F",description:"\u5973"}]],["marital",()=>[{description:"\u5df2\u5a5a",value:"Y"},{description:"\u672a\u5a5a",value:"N"}]],["confirm",()=>[{description:"\u662f",value:"Y"},{description:"\u5426",value:"N"}]],["political",()=>[{description:"\u4e2d\u5171\u515a\u5458",value:"\u4e2d\u5171\u515a\u5458"},{description:"\u5171\u9752\u56e2\u5458",value:"\u5171\u9752\u56e2\u5458"},{description:"\u7fa4\u4f17",value:"\u7fa4\u4f17"},{description:"\u5176\u4ed6\u515a\u6d3e",value:"\u5176\u4ed6\u515a\u6d3e"}]],["phoneStateEnum",()=>[{value:0,description:"\u7a7a\u53f7"},{value:1,description:"\u5b9e\u53f7"},{value:2,description:"\u505c\u673a"},{value:3,description:"\u5e93\u65e0"},{value:4,description:"\u6c89\u9ed8\u53f7"},{value:5,description:"\u98ce\u9669\u53f7"}]],["degreeEnum",()=>[{description:"\u521d\u4e2d",value:10},{description:"\u4e2d\u4e13",value:20},{description:"\u9ad8\u4e2d",value:30},{description:"\u5927\u4e13",value:40},{description:"\u672c\u79d1",value:50},{description:"\u7855\u58eb\u7814\u7a76\u751f",value:60},{description:"\u535a\u58eb\u7814\u7a76\u751f",value:70},{description:"\u535a\u58eb\u540e",value:75},{description:"\u5b66\u5386\u4e0d\u9650",value:999}]]],m=(0,a.withFetch)((e=>{let{data:t,children:n}=e;return"function"===typeof n?n(t):n||(null===t||void 0===t?void 0:t.description)})),p=i()((e=>new Map(u.concat(Object.keys(Object.assign({},e)).map((t=>[t,e[t]])))))),h=e=>{let{loader:t,...n}=e;const{global:{enumsRef:a}}=(0,l.useGlobalContext)(),r=(0,s.useRef)(null);return(0,d.jsx)(m,{...n,loader:async function(){const e=p(await t(...arguments)),{params:n}=arguments.length<=0?void 0:arguments[0],{moduleName:s,name:l,force:i,locale:o}=n,d=async t=>!0!==i&&r.current===o&&a.current.get(t)||await(async()=>{const n=e.get(t),s=await(async()=>"function"===typeof n?new Map((await n({locale:o})).map((e=>[e.value.toString(),e]))):Array.isArray(n)?new Map(n.map((e=>[e.value.toString(),e]))):"object"===typeof n?new Map(Object.keys(n).map((e=>[e.toString(),n[e]]))):(console.warn("\u679a\u4e3e\u503cloader\u7684\u8bbe\u7f6e\u53ef\u80fd\u4e0d\u6b63\u786e"),new Map))();return a.current.set(t,s),r.current=o,s})();if(Array.isArray(s))return await Promise.all(s.map((e=>d(e).then((e=>Array.from(e.values()))))));const u=await d(s);return c()(l)?Array.from(u.values()):u.get(l.toString())}})},_=e=>{let{moduleName:t,name:n,force:s,children:a,...r}=e;const i=(0,l.usePreset)();return(0,d.jsx)(h,{...r,params:{moduleName:t,locale:null===i||void 0===i?void 0:i.locale,enums:null===i||void 0===i?void 0:i.enums,name:n,force:s},loader:e=>{let{params:t}=e;return t.enums},children:a})};_.defaultProps={force:!1};const g=_},79197:(e,t,n)=>{n.r(t),n.d(t,{AdvancedSelectFilterItem:()=>ae,CascaderFilterItem:()=>ce,CityFilterItem:()=>oe,DatePickerFilterItem:()=>ee,DateRangePickerFilterItem:()=>te,FilterItem:()=>h,FilterItemContainer:()=>O,FilterLines:()=>b,FilterValueDisplay:()=>m,FunctionSelectFilterItem:()=>re,IndustrySelectFilterItem:()=>ie,InputFilterItem:()=>ue,PopoverItem:()=>N,TreeFilterItem:()=>de,TypeDateRangePickerFilterItem:()=>se,UserFilterItem:()=>le,default:()=>xe,fields:()=>s,getFilterValue:()=>F,withFieldItem:()=>w});var s={};n.r(s),n.d(s,{AdvancedSelectFilterItem:()=>ae,CascaderFilterItem:()=>ce,CityFilterItem:()=>oe,DatePickerFilterItem:()=>ee,DateRangePickerFilterItem:()=>te,FunctionSelectFilterItem:()=>re,IndustrySelectFilterItem:()=>ie,InputFilterItem:()=>ue,TreeFilterItem:()=>de,TypeDateRangePickerFilterItem:()=>se,UserFilterItem:()=>le});var a=n(2508),l=n(4639),r=n(91602);const i={filter:"style_filter__Xml45__e0vcM","filter-item-icon":"style_filter-item-icon__kVCRK__e0vcM","filter-item-option-icon":"style_filter-item-option-icon__q1fz3__e0vcM","filter-title":"style_filter-title__PlIpS__e0vcM","filter-title-hidden":"style_filter-title-hidden__NJ1ZB__e0vcM","ad-filter-title":"style_ad-filter-title__5-OzD__e0vcM","ad-filter-line":"style_ad-filter-line__ga6UH__e0vcM","filter-line":"style_filter-line__E+cRh__e0vcM","clean-btn":"style_clean-btn__oSEvm__e0vcM","filter-item":"style_filter-item__Q2ncE__e0vcM","un-expand":"style_un-expand__4PFY8__e0vcM","ad-filter-selected":"style_ad-filter-selected__KbLfG__e0vcM","filter-label":"style_filter-label__qu26i__e0vcM","filter-item-wrap":"style_filter-item-wrap__rOq7H__e0vcM",option:"style_option__rd5Qo__e0vcM","is-active":"style_is-active__OArQI__e0vcM","is-visited":"style_is-visited__gZ5ni__e0vcM","un-expand-shadow":"style_un-expand-shadow__fj92e__e0vcM","filter-item-label":"style_filter-item-label__C781J__e0vcM","filter-item-field":"style_filter-item-field__Ltfr8__e0vcM","filter-drop-tag":"style_filter-drop-tag__DD-2P__e0vcM","filter-list-tag":"style_filter-list-tag__Qt5hA__e0vcM","filter-tag":"style_filter-tag__dUGfu__e0vcM","filter-tag-value":"style_filter-tag-value__p-SFv__e0vcM","pop-util-content":"style_pop-util-content__bx5zP__e0vcM","pop-util-overlay":"style_pop-util-overlay__LEASt__e0vcM","pop-util-footer":"style_pop-util-footer__Xat1s__e0vcM","pop-util-text":"style_pop-util-text__pzeUy__e0vcM","filter-item-inner":"style_filter-item-inner__LVXgh__e0vcM","filter-item-text":"style_filter-item-text__MA8tU__e0vcM","filter-item-custom":"style_filter-item-custom__UusRa__e0vcM","filter-item-custom-active":"style_filter-item-custom-active__uFtny__e0vcM","filter-item-number-range-split":"style_filter-item-number-range-split__fVt8E__e0vcM","filter-item-number-input":"style_filter-item-number-input__YPO6K__e0vcM","range-picker":"style_range-picker__c6ngq__e0vcM","cascader-select-wrap":"style_cascader-select-wrap__z5hu7__e0vcM","cascader-dropdown-menu":"style_cascader-dropdown-menu__nhAH5__e0vcM"};var o=n(7101),c=n.n(o);const d=e=>({"en-US":()=>n.e(633).then(n.bind(n,50633)),"zh-CN":()=>n.e(8170).then(n.bind(n,58170))}[e]());var u=n(80184);const m=e=>{let{value:t,extraExpand:n,onChange:s}=e;return(0,u.jsx)(r.IntlProvider,{importMessages:d,moduleName:"Filter",children:(0,u.jsxs)(a.Space,{className:i["filter-title"],align:"top",size:16,children:[(0,u.jsx)("span",{className:i["filter-label"],children:(0,u.jsx)(r.FormattedMessage,{id:"selectedText",moduleName:"Filter",defaultMessage:"\u60a8\u5df2\u9009\u62e9"})}),(0,u.jsxs)("div",{className:i["filter-line"],children:[t.map(((e,n)=>{let{name:a,label:r,value:i}=e;return(0,u.jsx)(l.default,{type:"filterResult",filterName:r,text:Array.isArray(i)?i.map((e=>e.label)).join("\uff0c"):i.label,closable:!0,onClose:()=>{const e=t.slice(0);e.splice(n,1),s(e)}},a)})),(0,u.jsxs)(a.Space,{size:4,className:c()(i["un-expand-shadow"]),children:[n,(0,u.jsx)(a.Button,{size:"small",children:(0,u.jsx)(r.FormattedMessage,{id:"clearAllText",moduleName:"Filter",defaultMessage:"\u6e05\u7a7a\u5168\u90e8"})})]}),(0,u.jsxs)(a.Space,{size:4,className:c()(i["un-expand"]),children:[n,(0,u.jsx)(a.Button,{size:"small",onClick:()=>{s([])},children:(0,u.jsx)(r.FormattedMessage,{id:"clearAllText",moduleName:"Filter",defaultMessage:"\u6e05\u7a7a\u5168\u90e8"})})]})]})]})})};var p=n(91243);const h=e=>{let{open:t,active:n,label:s,children:l}=e;return(0,u.jsx)(a.Space,{className:i["filter-item-wrap"],children:(0,u.jsxs)("div",{className:c()(i["filter-item"],{[i["is-active"]]:n,[i["is-visited"]]:t}),children:[(0,u.jsxs)(a.Space,{className:i["filter-item-label"],size:4,children:[(0,u.jsx)("div",{children:s}),(0,u.jsx)(p.default,{className:i["filter-item-icon"],type:"icon-triangle-down"})]}),(0,u.jsx)("div",{className:i["filter-item-field"],children:l})]})})};var _=n(86122);const g=(0,_.createContext)({}),{Provider:v}=g;var y=n(26181),f=n.n(y);const x=e=>{let{list:t,children:n}=e;const{value:s,onChange:a}=(0,_.useContext)(g);return(0,u.jsxs)("div",{className:i["filter-line"],children:[t.map(((e,t)=>{const n=e.type;return(0,_.createElement)(n,{...e.props,key:e.key||e.props.name||t,value:s?f()(s.get(e.props.name),"value"):e.props.value,onChange:a?t=>a({name:e.props.name,label:e.props.label,value:t}):e.props.onChange})})),n]})},j=e=>{let{list:t,displayLine:n,label:s,extra:l,children:o}=e;const m=t.length>n,[h,g]=(0,_.useState)(!1);return(0,u.jsxs)(r.IntlProvider,{importMessages:d,moduleName:"Filter",children:[(0,u.jsxs)(a.Space,{className:c()(i["filter-title"]),align:"top",size:16,children:[(0,u.jsx)("span",{className:i["filter-label"],children:s||(0,u.jsx)(r.FormattedMessage,{id:"filterText",moduleName:"Filter",defaultMessage:"\u7b5b\u9009"})}),(0,u.jsxs)(a.Row,{justify:"space-between",wrap:!1,align:"middle",children:[(0,u.jsx)(a.Col,{className:i["filter-list"],flex:1,children:t.slice(0,n).map(((e,t)=>(0,u.jsx)(x,{list:e,children:m&&!1===h&&t===n-1?(0,u.jsxs)(a.Space,{size:4,className:c()(i["filter-item"],i.option),onClick:()=>{g((e=>!e))},children:[(0,u.jsx)(r.FormattedMessage,{id:"moreText",moduleName:"Filter",defaultMessage:"\u66f4\u591a"}),(0,u.jsx)(p.default,{className:i["filter-item-option-icon"],type:"icon-arrow-thin-down"})]}):null},t)))}),(0,u.jsx)(a.Col,{children:l})]})]}),(0,u.jsx)(a.Space,{className:c()(i["filter-title"],"filter-title-wrap"),align:"center",size:16,children:o}),(0,u.jsxs)(a.Space,{className:c()(i["filter-title"],"filter-title-wrap",{[i["filter-title-hidden"]]:!(m&&h)}),align:"top",size:16,children:[(0,u.jsx)("span",{className:i["filter-label"],children:(0,u.jsx)(r.FormattedMessage,{id:"moreText",moduleName:"Filter",defaultMessage:"\u66f4\u591a"})}),(0,u.jsx)("div",{className:i["filter-list"],children:t.slice(n).map(((e,s)=>(0,u.jsx)(x,{list:e,children:s===t.length-n-1&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(a.Space,{size:4,className:c()(i["un-expand-shadow"]),children:(0,u.jsxs)(a.Space,{size:4,className:c()(i.option,i["filter-item"]),children:[(0,u.jsx)(r.FormattedMessage,{id:"toggleUpText",moduleName:"Filter",defaultMessage:"\u6536\u8d77"}),(0,u.jsx)(p.default,{className:i["filter-item-option-icon"],type:"icon-arrow-thin-up"})]})}),(0,u.jsx)(a.Space,{size:4,className:c()(i["un-expand"]),onClick:()=>{g((e=>!e))},children:(0,u.jsxs)(a.Space,{size:4,className:c()(i.option,i["filter-item"]),children:[(0,u.jsx)(r.FormattedMessage,{id:"toggleUpText",moduleName:"Filter",defaultMessage:"\u6536\u8d77"}),(0,u.jsx)(p.default,{className:i["filter-item-option-icon"],type:"icon-arrow-thin-up"})]})})]})},s)))})]})]})};j.defaultProps={displayLine:1};const b=j;var M=n(88122);const C=e=>{let{value:t,label:n,onValidate:s,overlayClassName:l,placement:o,onOpenChange:d,onChange:m,children:p}=e;const[g,v]=(0,_.useState)(t),[y,f]=(0,_.useState)(!1),x=(0,_.useMemo)((()=>s&&!s(g)),[s,g]);return(0,u.jsx)(a.Popover,{open:y,trigger:"click",placement:o,overlayClassName:c()(i["pop-util-overlay"],l),onOpenChange:e=>{f(e),v(t),d&&d(e)},content:(0,u.jsxs)("span",{onClick:e=>{e.stopPropagation()},children:[(0,u.jsx)("div",{className:i["pop-util-content"],children:p({value:g,onChange:v})}),(0,u.jsxs)(a.Row,{className:i["pop-util-footer"],justify:"end",gutter:8,children:[(0,u.jsx)(a.Col,{children:(0,u.jsx)(a.Button,{size:"small",onClick:()=>{f(!1),d&&d(!1)},children:(0,u.jsx)(r.FormattedMessage,{id:"cancelText",moduleName:"Filter",defaultMessage:"\u53d6\u6d88"})})}),(0,u.jsx)(a.Col,{children:(0,u.jsx)(a.Button,{size:"small",type:"primary",disabled:x,onClick:()=>{f(!1),d&&d(!1),m&&m(g)},children:(0,u.jsx)(r.FormattedMessage,{id:"determineText",moduleName:"Filter",defaultMessage:"\u786e\u5b9a"})})})]})]}),children:(0,u.jsx)("span",{children:(0,u.jsx)(h,{open:y,active:(0,M.Z)(t),label:n})})})};C.defaultProps={placeholder:"\u8bf7\u9009\u62e9",placement:"bottomLeft"};const N=C,w=e=>t=>{let{value:n,onChange:s,label:a,...l}=t;const[r,o]=(0,_.useState)(!1);return(0,u.jsx)(h,{label:a,open:r,active:(0,M.Z)(n),children:(0,u.jsx)(e,{...l,className:i["filter-item-inner"],value:n,onChange:s,valueType:"all",onOpenChange:o})})};var k=n(25653),S=n.n(k);const F=e=>S()(e,((e,t)=>{let{name:n,value:s}=t;e[n]=Array.isArray(s)?s.map((e=>{let{value:t}=e;return t})):s.value}),{}),O=e=>{let{children:t,...n}=e;return t(n)};var E=n(19304),P=n(11094),R=n(89251),I=n(62470),T=n(12913),z=n(14246),A=n(6098),K=n.n(A);const L="style_scroll-loader__Rcuti__e0vcM",D="style_is-popup__pCRv2__e0vcM";n(39461),n(89470);var H=n(89519),Y=n(24242),Z=n.n(Y),B=n(49151),U=n.n(B);const q=z.Z.useContext,V=e=>{let{value:t,setValue:n,size:s}=e;const{fetchApi:l,props:r}=q(),[i,o]=(0,_.useState)(""),d=K()(r.dataFormat),{single:m,isPopup:p,searchPlaceholder:h,...g}=r,v=(0,_.useRef)(r.fieldNames);v.current=r.fieldNames;const y=l.data,{treeData:f}=(0,_.useMemo)((()=>d(y,{searchText:i,fieldNames:v.current})),[d,i,y]);(0,_.useMemo)((()=>{}),[f,i,r.fieldNames]);return(0,u.jsx)(a.Space,{direction:"vertical",size:16,children:(0,u.jsx)(H.Z,{className:c()(L,{[D]:r.isPopup}),children:(0,u.jsx)(a.Tree,{...Z()(g,["value","valueType","children","dataFormat"]),size:s,checkable:!m,treeData:f,onCheck:n,checkedKeys:t,onSelect:m?n:e=>{const t=e[0];void 0!==t&&n((e=>{const n=e.slice(0),s=n.indexOf(t);return s>-1?n.splice(s,1):n.push(t),n}))},selectedKeys:m?t:void 0})})})},W=e=>{let{maxLength:t,dataFormat:n,...s}=e;return(0,u.jsx)(z.Z,{...s,dataFormat:e=>n(e,{fieldNames:s.fieldNames}),children:e=>{let{value:n,setValue:s}=e;return(0,u.jsx)(V,{size:t,value:n,setValue:s})}})};W.defaultProps={searchPlaceholder:"\u641c\u7d22",maxLength:Number.MAX_VALUE,size:"middle",isPopup:!0,checkStrictly:!1,dataFormat:(e,t)=>{let{fieldNames:n}=t;const s=U()(((e,t)=>{let{fieldNames:n}=t;const s=[],a=e=>{Array.isArray(e)&&e.length>0&&e.forEach((e=>{const t=e[f()(n,"key","key")],l=e[f()(n,"title","title")],r=e[f()(n,"children","children")];s.push({id:t,value:t,label:l}),a(r)}))};return a(e),s}));return{treeData:e,list:s(e,{fieldNames:n})}}};const G=W,J=e=>{let{label:t,value:n,onChange:s,placeholder:l,onValidate:r,overlayClassName:o,placement:c,onOpenChange:d,...m}=e;return(0,u.jsx)(N,{label:t,value:n,onChange:s,onValidate:r,overlayClassName:o,placement:c,onOpenChange:d,children:e=>{let{value:n,onChange:s}=e;return(0,u.jsx)(a.Input,{...m,placeholder:l||"\u8bf7\u8f93\u5165".concat(t),className:i["filter-item-text"],value:f()(n,"value",""),onChange:e=>s(e.target.value?{label:e.target.value,value:e.target.value}:null)})}})};var Q=n(93357),X=n.n(Q);const $=w((e=>{let{value:t,onChange:n,picker:s,...l}=e;return(0,u.jsx)(a.DatePicker,{...l,picker:s,value:t&&X()(t.value),onChange:e=>{const{format:t}=Object.assign({format:"YYYY-MM-DD"},l);e&&n({label:"date"!==s?"".concat(e.startOf(s).format(t),"~").concat(e.endOf(s).format(t)):e.format(t),value:new Date(e.startOf(s).valueOf())})}})}));$.defaultProps="date";const ee=$,te=w((e=>{let{value:t,onChange:n,...s}=e;return(0,u.jsx)(a.DatePicker.RangePicker,{...s,allowEmpty:[!1,!1],value:t&&Array.isArray(t.value)&&2===t.value.length&&t.value.map((e=>X()(e))),onChange:e=>{const{format:t}=Object.assign({format:"YYYY-MM-DD"},s);n({label:e.map((e=>e.format(t))).join("~"),value:e.map((e=>new Date(e.valueOf())))})}})}));var ne=n(13495);const se=e=>{let{label:t,value:n,onChange:s,...a}=e;return(0,u.jsx)(N,{label:t,value:n,onChange:s,onValidate:e=>{const t=null===e||void 0===e?void 0:e.value;return(null===t||void 0===t?void 0:t.type)&&Array.isArray(null===t||void 0===t?void 0:t.value)&&2===t.value.length},children:e=>{let{value:t,onChange:n}=e;return(0,u.jsx)(ne.Z,{...a,className:i["filter-item-text"],value:f()(t,"value"),onChange:e=>{const{format:t}=Object.assign({format:"YYYY-MM-DD"},a),s=(null===e||void 0===e?void 0:e.value)||[];n({label:s[0]&&!s[1]?"".concat(X()(s[0]).format(t),"\u4ee5\u540e"):!s[0]&&s[1]?"".concat(X()(s[1]).format(t),"\u4ee5\u524d"):s[0]&&s[1]?"".concat(X()(s[0]).format(t),"~").concat(X()(s[1]).format(t)):"",value:e})}})}})},ae=w(E.ZP),le=w(E.ax),re=w(P.Z),ie=w(I.Z),oe=w(R.ZP),ce=w(T.ZP),de=w(G),ue=(me=J,e=>{let{placeholder:t,label:n,...s}=e;return(0,u.jsx)(r.FormattedMessage,{id:"defaultInputPlaceholder",moduleName:"Filter",values:{label:n},children:e=>(0,u.jsx)(me,{...s,label:n,placeholder:t||e})})});var me,pe=n(97433),he=n.n(pe),_e=n(68787),ge=n.n(_e),ve=n(85021),ye=n(71192);const fe=e=>{const{extraExpand:t,className:n,...s}=e,[a,l]=he()(e),o=(0,_.useMemo)((()=>a.filter((e=>(0,ve.isNotEmpty)(e.value)))),[a]),d=(0,_.useMemo)((()=>new Map(o.map((e=>[e.name,e])))),[o]);return(0,u.jsx)(r.IntlProvider,{moduleName:"Filter",importMessages:ye.Z,children:(0,u.jsx)(v,{value:{value:d,onChange:e=>{const t=ge()(d);e.value?t.set(e.name,e):t.delete(e.name),null===l||void 0===l||l(Array.from(t.values()))}},children:(0,u.jsxs)("div",{className:c()(i.filter,n),children:[(0,u.jsx)(b,{...s}),o&&o.length>0&&(0,u.jsx)(m,{value:o,onChange:l,extraExpand:t})]})})})};fe.defaultProps={defaultValue:[]};const xe=fe},71192:(e,t,n)=>{n.d(t,{Z:()=>s});const s=e=>({"en-US":()=>n.e(5649).then(n.bind(n,45649)),"zh-CN":()=>n.e(1681).then(n.bind(n,71681))}[e]())},87357:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_});const s=e=>({"en-US":()=>n.e(5834).then(n.bind(n,15834)),"zh-CN":()=>n.e(1080).then(n.bind(n,21080))}[e]());var a=n(91602),l=n(91243),r=n(2508),i=n(7101),o=n.n(i);const c="style_helper-guide__K5xFw__e0vcM",d="style_inner__bMKeU__e0vcM",u="style_content__xTfWZ__e0vcM",m="style_link__93j7O__e0vcM";var p=n(33128),h=n(80184);const _=e=>{let{name:t,className:n}=e;return(0,h.jsx)(a.IntlProvider,{importMessages:s,moduleName:"HelperGuide",children:(0,h.jsx)(p.default,{moduleName:"helperGuide",name:t,children:e=>e&&e.value&&(0,h.jsx)("div",{className:o()(c,n),children:(0,h.jsxs)(r.Space,{className:d,children:[(0,h.jsx)(l.default,{colorful:!0,type:"icon-color-bangzhuyindao"}),(0,h.jsx)("span",{className:u,children:e.content}),e.url&&(0,h.jsxs)(r.Typography.Link,{className:m,href:e.url,target:"_blank",children:["\u67e5\u770b\u5e2e\u52a9",(0,h.jsx)(l.default,{type:"icon-shuangjiantou-right"})]})]})})})})}},30105:(e,t,n)=>{n.r(t),n.d(t,{Affix:()=>R,Menu:()=>W.default,Page:()=>P,PermissionsPage:()=>V,StateBarPage:()=>X,TablePage:()=>J,default:()=>U});var s=n(2508),a=n(86122);const l={menu:null,filter:null,menuOpen:!0,menuWidth:"240px",menuFixed:!0,menuCloseButton:!0,backgroundColor:null,header:null,headerHeight:0,headerFixed:!0,headerInfo:null,backUrl:null,title:null,titleExtra:null,titleLeftExtra:null,noMargin:!1,noPadding:!1,optionFooterHeight:0,option:null,optionWidth:"400px",optionNoPadding:!1,optionFixed:!0,optionFooter:null},r=(0,a.createContext)({}),{Provider:i,Consumer:o}=r,c=()=>(0,a.useContext)(r);var d=n(16860),u=n(33107),m=n(81789),p=n(18111),h=n.n(p),_=n(41767),g=n(7101),v=n.n(g);const y={layout:"style_layout__k+lxR__e0vcM","page-content":"style_page-content__4XeN8__e0vcM","page-main":"style_page-main__P0yEF__e0vcM","page-main-content":"style_page-main-content__1OVPN__e0vcM","table-page":"style_table-page__JkbLf__e0vcM","helper-guide":"style_helper-guide__vzw4z__e0vcM","page-outer":"style_page-outer__2a6iH__e0vcM","no-margin":"style_no-margin__S6caT__e0vcM","page-menu":"style_page-menu__CZSa9__e0vcM",closed:"style_closed__hmnft__e0vcM","page-menu-inner":"style_page-menu-inner__rmKpu__e0vcM","page-menu-main":"style_page-menu-main__OXg2M__e0vcM","page-option-main":"style_page-option-main__LyfT3__e0vcM","page-menu-main-outer":"style_page-menu-main-outer__yY+-Q__e0vcM","page-option":"style_page-option__diS2S__e0vcM","page-option-inner":"style_page-option-inner__Fj1JH__e0vcM","page-option-footer":"style_page-option-footer__d7xE0__e0vcM","fixed-container":"style_fixed-container__1VZwY__e0vcM","is-fixed":"style_is-fixed__1aQhp__e0vcM","page-menu-btn-outer":"style_page-menu-btn-outer__iVJiW__e0vcM","page-menu-btn":"style_page-menu-btn__BiTy8__e0vcM","page-title":"style_page-title__zw-Fd__e0vcM","page-title-text":"style_page-title-text__Rj4RC__e0vcM","no-padding":"style_no-padding__V7Dwy__e0vcM","page-header":"style_page-header__a813p__e0vcM","page-header-info":"style_page-header-info__cMrZR__e0vcM","layout-menu":"style_layout-menu__yiab0__e0vcM","sub-menu":"style_sub-menu__dyqK7__e0vcM","no-collapsed":"style_no-collapsed__76h8W__e0vcM","has-not-children":"style_has-not-children__fnjRK__e0vcM","table-page-top":"style_table-page-top__bt1l9__e0vcM","error-component":"style_error-component__HvghB__e0vcM","state-bar-page":"style_state-bar-page__+aUM4__e0vcM","back-icon":"style_back-icon__79v2G__e0vcM"};var f=n(80184);const x=e=>{let{className:t,isFixed:n,children:s}=e;return n?(0,f.jsx)("div",{className:v()(t,"fixed-container",y["fixed-container"],{[y["is-fixed"]]:n}),children:s}):(0,f.jsx)("div",{className:v()(t,"fixed-container",y["fixed-container"]),children:s})};var j=n(91243),b=n(89519),M=n(51583),C=n(26181),N=n.n(C),w=n(88122),k=n(20471);const S="CORE_PAGE_MENU_OPEN_KEY",F=()=>{const{pageProps:e,setPageProps:t}=c(),{menu:n,menuOpen:a,menuWidth:l,menuFixed:r,menuCloseButton:i}=e,o=(0,M.useLocation)().pathname.split("/")[1];return n?(0,f.jsxs)(s.Col,{className:v()(y["page-menu"],{[y.closed]:!a}),style:{"--width":l},children:[(0,f.jsx)(x,{className:y["page-menu-inner"],isFixed:r,children:(0,f.jsx)("div",{className:y["page-menu-main-outer"],children:(0,f.jsx)(b.Z,{className:y["page-menu-main"],children:n})})}),i?(0,f.jsx)(x,{className:v()(y["page-menu-btn-outer"],y["page-menu-btn-outer"]),isFixed:r,children:(0,f.jsx)(s.Button,{className:v()(y["page-menu-btn"],{[y.closed]:!a}),icon:a?(0,f.jsx)(j.default,{type:"icon-arrow-bold-left"}):(0,f.jsx)(j.default,{type:"icon-arrow-bold-right"}),onClick:()=>{t({menuOpen:!e.menuOpen});const n=k.Z.getItem(S)||{};n[o]=!e.menuOpen,k.Z.setItem(S,n),t({menuOpen:!e.menuOpen})}})}):null]}):null},O=e=>{let{children:t,isPass:n,...l}=e;const{setPageProps:r}=c(),i=(0,a.useRef)(null),o=(()=>{const e=(0,M.useLocation)().pathname.split("/")[1];return(0,a.useMemo)((()=>{const t=k.Z.getItem(S)||{};return!(0,w.Z)(N()(t,e))||N()(t,e)}),[e])})(),d=(0,a.useRef)(o);return d.current=o,(0,a.useEffect)((()=>{if(!h()(i.current,l)){i.current=l;const e=Object.assign({},l,"boolean"===typeof d.current?{menuOpen:d.current}:{});e.header&&0===e.headerHeight&&delete e.headerHeight,e.optionFooter&&0===e.optionFooterHeight&&delete e.optionFooter,r(e)}}),[l,r]),!1===n?(0,f.jsx)(s.Result,{status:"403",subTitle:"\u6682\u672a\u5f00\u653e\u6b64\u529f\u80fd"}):t},E=e=>{let{featureId:t,name:n,openFeatures:s,...l}=e;return!0===s?(0,f.jsx)(_.default,{id:n,children:e=>{let{isPass:t}=e;return(0,a.createElement)(O,{...l,key:n,isPass:t})}}):(0,a.createElement)(O,{...l,key:n})};E.defaultProps=l;const P=E,R=e=>{let{isFixed:t,offsetTop:n,offsetBottom:a,onChange:l,...r}=e;return t?(0,f.jsx)(s.Affix,{...r,offsetTop:Number.isInteger(n)?n-.1:n,offsetBottom:a,onChange:l}):(0,f.jsx)("div",{...r})},I=e=>{let{targetKey:t,...n}=e;const s=(e=>{let{targetKey:t}=e;const{setPageProps:n}=c(),s=(0,a.useRef)(null);return(0,a.useLayoutEffect)((()=>{const e=()=>{n({[t]:s.current.offsetHeight})};e();const a=new MutationObserver(e);return a.observe(s.current,{subtree:!0,childList:!0}),()=>{a.disconnect()}}),[n,t]),s})({targetKey:t});return(0,f.jsx)("div",{...n,ref:s})},T=()=>{const{pageProps:e}=c(),{header:t,headerFixed:n}=e;return t?(0,f.jsx)(R,{isFixed:n,className:y["page-header"],offsetTop:d.navigationHeight,children:(0,f.jsx)(I,{targetKey:"headerHeight",children:t})}):null},z=()=>{const{pageProps:e}=c(),{headerInfo:t}=e,n=(0,a.useRef)(null);return t?(0,f.jsx)("div",{ref:n,className:v()(y["page-header-info"],"page-header-info"),children:t}):null};var A=n(79197);const K=e=>{let{title:t,filter:n,titleExtra:a,titleLeftExtra:l,backUrl:r}=e;const i=(0,M.useNavigate)();return n?(0,f.jsx)(A.default,{className:y["page-title"],...n,extra:a}):t||l||a?(0,f.jsxs)(s.Row,{justify:"space-between",align:"middle",className:y["page-title"],children:[(0,f.jsx)(s.Col,{children:(0,f.jsxs)(s.Space,{children:[t?(0,f.jsx)("div",{className:y["page-title-text"],children:r?(0,f.jsxs)(s.Space,{children:[(0,f.jsx)("span",{className:y["back-icon"],onClick:()=>{i(r)},children:(0,f.jsx)(j.default,{type:"icon-arrow-thin-left"})}),(0,f.jsx)("span",{children:t})]}):t}):null,l||null]})}),(0,f.jsx)(s.Col,{children:a})]}):null},L=()=>{const{pageProps:e}=c(),{option:t,optionWidth:n,optionFixed:a,optionFooter:l,optionFooterHeight:r,optionNoPadding:i}=e;return t?(0,f.jsx)(s.Col,{className:v()(y["page-option"],"page-option"),style:{"--width":n,"--foot-height":r+"px"},children:(0,f.jsxs)(x,{className:y["page-option-inner"],isFixed:a,children:[(0,f.jsx)(b.Z,{className:v()(y["page-option-main"],"page-option-main"),style:{padding:i?"0px":"var(--padding-width)"},children:t}),l?(0,f.jsx)(I,{className:y["page-option-footer"],targetKey:"optionFooterHeight",children:(0,f.jsx)(s.Space,{align:"center",children:l})}):null]})}):null};var D=n(87357);const{Content:H}=s.Layout,Y=()=>(0,f.jsx)(s.Alert,{message:"\u7cfb\u7edf\u51fa\u4e86\u70b9\u5c0f\u95ee\u9898\uff0c\u53ef\u5237\u65b0\u9875\u9762\u8fdb\u884c\u89e3\u51b3",showIcon:!0,type:"error",action:(0,f.jsx)(s.Button,{size:"small",danger:!0,onClick:()=>window.location.reload(),children:"\u5237\u65b0"})}),Z=e=>(0,f.jsx)(m.Z,{...e,errorComponent:Y}),B=e=>{let{children:t,theme:n,navigation:r}=e;const[o,c]=(0,a.useState)(0),[m,p]=(0,a.useState)(Object.assign({},l)),h=(0,a.useCallback)((e=>p((t=>Object.assign({},t,e)))),[]);return(0,a.useEffect)((()=>{const e=(0,u.R)(),t=()=>{c(e.scrollLeft)};return e.addEventListener("scroll",t),()=>{e.removeEventListener("scroll",t)}}),[]),(0,f.jsxs)(s.Layout,{className:y.layout,style:Object.assign({},{"--nav-height":d.navigationHeight+"px","--nav-height-base":"var(--nav-height)","--scroll-left":-o+"px"},n),children:[r&&(0,f.jsx)(Z,{children:(0,f.jsx)(d.default,{...r,onChange:e=>{(null===r||void 0===r?void 0:r.onChange)&&r.onChange(e)}})}),(0,f.jsx)(Z,{children:(0,f.jsx)(H,{className:y["layout-content-wrap"],children:(0,f.jsxs)(i,{value:{pageProps:m,setPageProps:h},children:[(0,f.jsx)(Z,{children:(0,f.jsx)(T,{})}),(0,f.jsx)(Z,{children:(0,f.jsx)(z,{})}),(0,f.jsx)(Z,{children:(0,f.jsxs)(s.Row,{className:v()(m.className,y["page-outer"]),wrap:!1,style:{"--nav-height":"calc(".concat(m.headerHeight,"px + var(--nav-height-base))"),"--nav-only-height":"var(--nav-height-base)"},children:[(0,f.jsx)(Z,{children:(0,f.jsx)(F,{})}),(0,f.jsx)(s.Col,{className:v()(y["page-content"],{[y["no-margin"]]:m.noMargin}),flex:1,style:{"--background-color":m.backgroundColor},children:(0,f.jsxs)("div",{className:y["page-main"],children:[(0,f.jsx)(Z,{children:(0,f.jsx)(K,{title:m.title,backUrl:m.backUrl,filter:m.filter,titleExtra:m.titleExtra,titleLeftExtra:m.titleLeftExtra})}),(0,f.jsx)("div",{className:v()(y["page-main-content"],{[y["no-padding"]]:m.noPadding}),children:(0,f.jsxs)(Z,{children:[m.helperGuideName&&(0,f.jsx)(D.default,{className:y["helper-guide-page"],name:m.helperGuideName}),t]})})]})}),(0,f.jsx)(Z,{children:(0,f.jsx)(L,{})})]})})]})})})]})};B.defaultProps={navigation:{}};const U=B;var q=n(78431);const V=e=>{let{permissions:t,...n}=e;return(0,f.jsx)(q.default,{...Object.assign({},t,{type:"error"}),children:(0,f.jsx)(P,{...n})})};var W=n(98473),G=n(98635);const J=(0,a.forwardRef)(((e,t)=>{let{helperGuideName:n,permissions:s,page:l,openFeatures:r,name:i,topArea:o,...c}=e;const[d,u]=(0,a.useState)(null);return(0,f.jsxs)(V,{name:i,openFeatures:r,permissions:s,...l,children:[o?(0,f.jsx)("div",{className:y["table-page-top"],children:"function"===typeof o?o(d):o}):null,(0,f.jsxs)("div",{className:y["table-page"],children:[n&&(0,f.jsx)(D.default,{className:v()("helper-guide",y["helper-guide"]),name:n}),(0,f.jsx)(G.TablePage,{...c,ref:t,name:i,onRequestSuccess:e=>{u(e)}})]})]})}));var Q=n(35635);const X=e=>{let{helperGuideName:t,permissions:n,page:s,stateBar:a,children:l,...r}=e;return(0,f.jsxs)(V,{...s,permissions:n,...r,children:[(0,f.jsx)("div",{className:y["state-bar-page"],children:(0,f.jsx)(Q.default,{...a})}),t&&(0,f.jsx)(D.default,{className:y["helper-guide"],name:t}),l]})}},98473:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});const s={menu:"style_menu__gvIvn__e0vcM","all-no-start-icon":"style_all-no-start-icon__CA+zR__e0vcM","no-start-icon":"style_no-start-icon__LnC1S__e0vcM","has-children":"style_has-children__m9tce__e0vcM","has-children-node":"style_has-children-node__2bhEB__e0vcM","is-root":"style_is-root__4hhOc__e0vcM",title:"style_title__+Hcar__e0vcM",active:"style_active__WU49K__e0vcM","no-collapse":"style_no-collapse__aIZBM__e0vcM","title-content":"style_title-content__cQXpK__e0vcM",loading:"style_loading__1pU4P__e0vcM"};var a=n(7101),l=n.n(a),r=n(2508),i=n(51583),o=n(78431),c=n(97433),d=n.n(c),u=n(91243),m=n(86122),p=n(16907),h=n.n(p),_=n(66005),g=n(80184);const v=e=>{const t=(0,i.useNavigate)(),{id:n,className:a,label:c,iconType:d,path:m,request:p,onClick:h,isOpen:v,isSelected:y,onOpenChange:f,children:x,fetchOptions:j,depth:b,onLoad:M,allowCollapsed:C}=e,N=Array.isArray(x)&&x.length>0||j,{refresh:w,isLoading:k}=(0,_.useFetch)(Object.assign({},j,{auto:!C&&j,onRequestSuccess:e=>{M(e)}}));return(0,g.jsx)(o.default,{request:p,children:(0,g.jsxs)("div",{className:l()(a,s["menu-item"]),children:[(0,g.jsxs)("div",{className:l()(s.title,{[s.active]:y,[s["has-children"]]:N,[s["no-collapse"]]:N&&!C,[s["no-start-icon"]]:!d,[s["is-root"]]:0===b}),onClick:s=>{s.stopPropagation(),N||!m?N||j?C&&(j&&w({}),f(!v)):null===h||void 0===h||h(n,e):t(m)},children:[d&&(0,g.jsx)(u.default,{type:d}),(0,g.jsx)("span",{className:s["title-content"],children:c}),N&&C&&(0,g.jsx)(u.default,{type:v?"icon-arrow-bold-down":"icon-arrow-bold-right"})]}),N?!C||v&&x?(0,g.jsx)("div",{className:s["children-list"],children:x}):!C||v&&k?(0,g.jsx)("div",{className:s["children-list"],children:(0,g.jsx)(r.Spin,{className:s.loading,size:"small"})}):void 0:null]})})},y=e=>{let{className:t,allowCollapsed:n,...a}=e;const{pathname:r,search:o}=(0,i.useLocation)(),[c,u]=d()(a,{value:"currentKey",defaultValue:"defaultCurrentKey"}),[p,_]=d()(a,{defaultValue:"defaultItems",value:"items",onChange:"onItemsChange"}),{items:y,defaultOpenKeys:f,links:x,childrenKeys:j,hasStartIcon:b,hasChildren:M}=(0,m.useMemo)((()=>{var e;const{items:t,childrenKeys:n,nodeMapping:s}=(e=>{const t={},n=[],s=(e,a)=>{const{parentKey:l,depth:r}=Object.assign({parentKey:"root",depth:0,paths:[]},a);return Array.isArray(e)&&e.length>0?e.map(((e,a)=>{const i="".concat(e.key||"".concat("root"!==l?"".concat(l,"-"):"","node-").concat(a));t[l]||(t[l]=[]),t[l].push(i);const o=s(e.children,{parentKey:i,depth:r+1});t[i]&&t[l].push(...t[i]);const c=Object.assign({},e,{key:i,parentKey:l,depth:r,children:o,originItem:e});return n[i]=c,c})):null};return{items:s(e),childrenKeys:t,nodeMapping:n}})(p);let a=!1,l=!1;const r=[],i=[];return null===n||void 0===n||null===(e=n.root)||void 0===e||e.forEach((e=>{const t=s[e];t.iconType&&(a=!0),t.path&&r.push({path:t.path,key:e}),Array.isArray(t.children)&&t.children.length>0&&(l=!0,i.push(t.key))})),{defaultOpenKeys:i,links:r,items:t,childrenKeys:n,hasStartIcon:a,hasChildren:l}}),[p]);(0,m.useEffect)((()=>{const e=x.find((e=>{let{path:t}=e;return h()(r.replace(/[#,?].*/,""))===h()(t)||h()(r+o,"")===h()(t)}));e&&u(e.key)}),[x,r,o,u]);const[C,N]=d()(Object.assign({},a,{defaultOpenKeys:a.defaultOpenKeys||f}),{value:"openKeys",defaultValue:"defaultOpenKeys",onChange:"onOpenChange"}),w=(0,m.useCallback)(((e,t)=>{const{parentKey:s,depth:a,selectedKey:l,openKeys:r,paths:i}=Object.assign({parentKey:null,depth:0,paths:[]},t);return Array.isArray(e)&&e.length>0?e.map((e=>{let{children:t,key:o,originItem:c,...d}=e;return(0,m.createElement)(v,{...Object.assign({},d),id:o,parentId:s,depth:a,allowCollapsed:n,isSelected:o===l||j[o]&&j[o].indexOf(l)>-1,onClick:u,onLoad:e=>{_((t=>{const n=t=>Array.isArray(t)&&t.length>0?t.map((t=>Object.assign({},t,{children:c===t?e:n(t.children)}))):null;return n(t)}))},isOpen:(r||[]).indexOf(o)>-1,key:o,onOpenChange:()=>{N((e=>{const t=e.slice(0);return e.indexOf(o)>-1?t.splice(e.indexOf(o),1):t.push(o),t}))}},w(t,{parentKey:s,depth:a+1,selectedKey:l,openKeys:r,paths:[...i,o]}))})):null}),[_,N,u,j,n]);return(0,g.jsx)("div",{className:l()(t,s.menu,{[s["all-no-start-icon"]]:!b,[s["has-children-node"]]:M}),children:w(y,{selectedKey:c,openKeys:C})})};y.defaultProps={defaultItems:[],allowCollapsed:!0};const f=y},16860:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S,navigationHeight:()=>N});var s=n(2508),a=n(51583),l=n(26181),r=n.n(l),i=n(86122),o=n(7101),c=n.n(o);const d=n.p+"static/media/favicon.477a5bb996fd5b367fe0dddc29f67824.svg";var u=n(84621);const m=e=>({"en-US":()=>n.e(7562).then(n.bind(n,7562)),"zh-CN":()=>n.e(3279).then(n.bind(n,43279))}[e]());var p=n(91602),h=n(91243);const _="style_navigation-wrap__VF8x2__e0vcM",g="style_navigation__60RrS__e0vcM",v="style_is-fixed__kHFWj__e0vcM",y="style_navigation-logo__q9qHu__e0vcM",f="style_logo__lB9RC__e0vcM",x="style_navigation-list__EYtkg__e0vcM",j="style_navigation-options__0BdJU__e0vcM",b="style_more-icon__gNMnt__e0vcM";var M=n(80184);const{Header:C}=s.Layout,N=48,w=e=>{let{name:t,mapping:n,defaultTitle:s}=e;const a=(0,i.useRef)({mapping:n,defaultTitle:s});return(0,i.useEffect)((()=>{const e=r()(a.current.mapping.get(t),"title");document.title=(e?e+"-":"")+a.current.defaultTitle}),[t]),null},k=e=>{let{permissions:t,list:n,headerLogo:l,rightOptions:o,isFixed:N,showIndex:k,indexLabel:S,defaultTitle:F,overflowedIndicator:O,base:E,onChange:P,className:R}=e;const I=(0,i.useMemo)((()=>new Map(n.map((e=>{let{key:t,...n}=e;return[t,n]})))),[n]),T=(0,a.useNavigate)(),z=(0,a.useLocation)(),A=(0,i.useRef)(),K=(0,i.useRef)(null),[L,D]=(0,i.useState)("\u66f4\u591a"),H=z.pathname.replace(new RegExp("^".concat(E)),"").split("/")[1],Y=H?r()(Array.from(I.entries()).find((e=>{let[n,{path:s,permission:a}]=e;return-1!==("function"===typeof s?s(a,t):s).indexOf("/"+H)})),"[0]"):"home";(0,i.useEffect)((()=>{const e=()=>{if(A.current){const e=A.current.querySelectorAll("li[data-menu-id]");let t=!1;for(let s=0;s<e.length;s++){if(-1!==e[s].getAttribute("data-menu-id").indexOf(Y)){t=!0;break}}let n=I.get(Y)&&!t?r()(I.get(Y),"title"):"";D(n)}},t={attributes:!0,childList:!0,subtree:!0};return A&&A.current&&(e(),K.current&&K.current.disconnect(),K.current=new MutationObserver(e),K.current.observe(A.current,t)),()=>{K.current&&K.current.disconnect()}}),[Y,I]);const Z=!!k&&{label:S||(0,M.jsx)(p.FormattedMessage,{id:"indexLabel",moduleName:"Navigation"}),key:"home",onClick:()=>{P&&P("/"),setTimeout((()=>{T("/")}),0)}};return(0,M.jsxs)(p.IntlProvider,{importMessages:m,moduleName:"Navigation",children:[(0,M.jsx)(p.FormattedMessage,{id:"defaultTitle",moduleName:"Navigation",children:e=>(0,M.jsx)(w,{defaultTitle:F||e,mapping:I,name:Y})}),(0,M.jsx)("div",{className:c()(_,R),children:(0,M.jsx)(C,{className:c()("navigation",g,{[v]:N}),children:(0,M.jsxs)(s.Row,{justify:"space-around",wrap:!1,children:[(0,M.jsx)(s.Col,{className:c()("navigation-logo",y),children:(0,M.jsx)(u.default,{className:c()(f),src:d,alt:"logo",...l})}),(0,M.jsx)(s.Col,{ref:A,flex:1,className:c()("navigation-list",x),children:(0,M.jsx)(s.Menu,{selectedKeys:[Y],mode:"horizontal",overflowedIndicator:O||(0,M.jsxs)(s.Space,{size:4,children:[(0,M.jsx)("span",{children:L||(0,M.jsx)(p.FormattedMessage,{id:"overflowedIndicator",moduleName:"Navigation"})}),(0,M.jsx)("span",{className:b,children:(0,M.jsx)(h.default,{type:"icon-arrow-thin-down"})})]}),items:[Z,...Array.from(I.entries()).filter((e=>{let[n,{permission:s}]=e;if("string"===typeof s)return t.indexOf(s)>-1;if("function"===typeof s)return s(t);if(Array.isArray(s)){for(let e of s)if(t.indexOf(e)>-1)return!0;return!1}return!0})).map((e=>{let[n,{title:s,path:a,permission:l}]=e;const r="function"===typeof a?a(l,t):a;return{label:s,key:n,onClick:()=>{P&&P(r),setTimeout((()=>{T(r)}),0)}}}))]})}),(0,M.jsx)(s.Col,{className:j,children:o})]})})})]})};k.defaultProps={isFixed:!0,permissions:[],list:[],showIndex:!0,base:""};const S=k},78431:(e,t,n)=>{n.r(t),n.d(t,{computedIsPass:()=>m,default:()=>g,usePermissions:()=>p,usePermissionsPass:()=>h});var s=n(86122),a=n(2508),l=n(26181),r=n.n(l),i=n(7101),o=n.n(i);const c="style_outer__vbHB9__e0vcM";var d=n(33583),u=n(80184);const m=e=>{let{permissions:t,request:n}=e;return!(Array.isArray(n)&&n.length>0)||n.some((e=>(t||[]).indexOf(e)>-1))},p=()=>{const e=(0,d.useGlobalContext)();return{permissions:r()(e,"global.accountInfo.permissions",[])}},h=e=>{let{request:t}=e;const{permissions:n}=p();return m({permissions:n,request:t})},_=e=>{let{type:t,className:n,tagName:l,message:r,request:i,children:d,...m}=e;const p=h({request:i});return"function"===typeof d?d({isPass:p,type:t,request:i}):!0===p?d:"error"===t?(0,u.jsx)(a.Result,{status:"403",subTitle:r}):"tooltip"===t?(0,u.jsx)(a.Tooltip,{title:r,children:(0,s.createElement)(l,{...m,className:o()(c,n)},d)}):null};_.defaultProps={type:"hidden",tagName:"span",message:"\u60a8\u6682\u65e0\u6743\u9650\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458"};const g=_},35635:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});var s=n(2508),a=n(7101),l=n.n(a);const r={"state-bar":"style_state-bar__3jfis__e0vcM","has-children":"style_has-children__oQDqU__e0vcM","tab-tab-control":"style_tab-tab-control__SopeO__e0vcM","tab-radio-control":"style_tab-radio-control__R8X6-__e0vcM","tab-step-control":"style_tab-step-control__EQaCl__e0vcM","inner-state-bar":"style_inner-state-bar__lWmOz__e0vcM"};var i=n(80184);const o=e=>{let{className:t,type:n="tab",stateOption:a=[],isInner:o,...c}=e;return(0,i.jsx)(s.Tabs,{...c,"data-testid":"components-core-state-bar",className:l()(r["state-bar"],r["tab-".concat(n,"-control")],t,{[r["inner-state-bar"]]:o,[r["has-children"]]:a.some((e=>!!e.children))}),style:{"--total-count":a.length},animated:!1,items:a.map((e=>{let{tab:t,label:n,key:s,...a}=e;return{label:t||n,key:s,...a}}))})}},4639:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var s=n(86122),a=n(7101),l=n.n(a);const r={"state-tag":"style_state-tag__Kx27z__e0vcM","state-result-tag":"style_state-result-tag__CssDz__e0vcM","state-skill-tag":"style_state-skill-tag__k0bQE__e0vcM","state-tag-filter-result-wrapper":"style_state-tag-filter-result-wrapper__QYS5z__e0vcM","state-tag-filter-name":"style_state-tag-filter-name__iJaJd__e0vcM","state-tag-filterResult":"style_state-tag-filterResult__KTkot__e0vcM","show-bg":"style_show-bg__OcL+R__e0vcM","tag-text":"style_tag-text__JHCt+__e0vcM","state-tag-wrapper":"style_state-tag-wrapper__A-gTE__e0vcM"};var i=n(2508),o=n(80184);const c={default:"#666666",skill:{color:"#666666",borderColor:"#EEEEEE"},result:"#666666",filterResult:"#5CB8B2",success:"#027A48",progress:"#F09700",danger:"#D14343",info:"#155ACF",other:"#6740C3"},d=e=>{let{showBorder:t,text:n,type:a,showBackground:d,className:u,filterName:m,...p}=e;const h=(0,s.useMemo)((()=>{var e,t;return{color:(null===c||void 0===c||null===(e=c[a])||void 0===e?void 0:e.color)||c[a],borderColor:(null===c||void 0===c||null===(t=c[a])||void 0===t?void 0:t.borderColor)||c[a]}}),[a]);return(0,o.jsxs)(i.Space,{"data-testid":"components-core-state-tag",className:l()(r["state-tag-wrapper"],"filterResult"===a?r["state-tag-filter-result-wrapper"]:""),align:"center",size:4,children:[m?(0,o.jsxs)("span",{className:r["state-tag-filter-name"],children:[m,":"]}):null,(0,o.jsx)(i.Tag,{color:h.color,...p,style:{background:d?h.color+"0F":"none",color:h.color,border:t?"1px solid ".concat(h.borderColor):"none"},className:l()(r["state-tag"],u,"result"===a?r["state-result-tag"]:"","skill"===a?r["state-skill-tag"]:"",r["state-tag-".concat(a)],d?r["show-bg"]:"",t?r["show-border"]:""),children:(0,o.jsx)("span",{className:r["tag-text"],children:n})})]})};d.defaultProps={color:"#666666",type:"default",showBorder:!1,showBackground:!0,text:"",className:""};const u=d},98635:(e,t,n)=>{n.r(t),n.d(t,{TablePage:()=>Ne,default:()=>ye});const s={table:"style_table__z7kfz__e0vcM","is-resize":"style_is-resize__ut6RW__e0vcM","is-moving":"style_is-moving__BJ9wR__e0vcM","cell-resize-bar":"style_cell-resize-bar__-mlUF__e0vcM","is-computed":"style_is-computed__B9rIF__e0vcM","options-btn":"style_options-btn__U3uoy__e0vcM",tooltip:"style_tooltip__vJlkv__e0vcM","table-changer-setting":"style_table-changer-setting__HcrwR__e0vcM","width-changer-sign":"style_width-changer-sign__Aflyl__e0vcM","columns-control":"style_columns-control__5-5ZF__e0vcM","columns-control-content":"style_columns-control-content__MoeUI__e0vcM","columns-control-content-title":"style_columns-control-content-title__P5sXV__e0vcM","columns-control-content-scroller":"style_columns-control-content-scroller__CeYRV__e0vcM","columns-control-content-footer":"style_columns-control-content-footer__0bQWm__e0vcM","columns-control-content-input":"style_columns-control-content-input__G6yKq__e0vcM","columns-control-content-list":"style_columns-control-content-list__aXvTs__e0vcM","columns-control-content-item":"style_columns-control-content-item__jbyyE__e0vcM","is-drag":"style_is-drag__U68aw__e0vcM","columns-control-content-item-icon":"style_columns-control-content-item-icon__yJqZf__e0vcM","sortable-drag":"style_sortable-drag__K5hWd__e0vcM","sortable-ghost":"style_sortable-ghost__lKTd2__e0vcM","columns-control-overlay":"style_columns-control-overlay__OxCIz__e0vcM","sort-btn":"style_sort-btn__KvNLr__e0vcM","sort-active-desc":"style_sort-active-desc__TIhMC__e0vcM","sort-icon":"style_sort-icon__dB85I__e0vcM","sort-active-asc":"style_sort-active-asc__RUBup__e0vcM"};var a=n(2508),l=n(86122),r=n(7101),i=n.n(r),o=n(64998),c=n(33107),d=n(27984),u=n(6098),m=n.n(u);const p={"col-item":"columns_col-item__Ym1Ec__e0vcM",tag:"columns_tag__bQZLG__e0vcM",avatar:"columns_avatar__SLPI+__e0vcM",hover:"columns_hover__oAwHg__e0vcM",primary:"columns_primary__6KtaA__e0vcM",loading:"columns_loading__gtBay__e0vcM",options:"columns_options__WvDZD__e0vcM"};var h=n(93357),_=n.n(h),g=n(91243),v=n(92527),y=n(80184);const f=e=>{let{className:t,list:n,width:r}=e;const[o,c]=(0,l.useState)(n.length),u=()=>{const e=p.current.querySelectorAll(".option-item"),t=e.length,n=m.current.clientWidth;let s=0,a=0,r=[].map.call(e,(e=>e.offsetWidth));for(;n>=a+r[s]+8*s&&s<t;)a+=r[s],s+=1;for(;n<a+8*(s-1)+(s<t?40:0)&&s>0;)a-=r[s-1],s-=1;(0,l.startTransition)((()=>{c(s)}))},m=(0,d.Z)(u),p=(0,d.Z)(u),h=n.slice(o);return(0,y.jsx)("div",{className:i()(t),style:{"--max-width":r+"px"},children:(0,y.jsxs)("div",{ref:m,children:[(0,y.jsx)("div",{style:{width:0,height:0,overflow:"hidden",position:"relative"},children:(0,y.jsx)("div",{style:{position:"absolute"},ref:p,children:(0,y.jsx)(a.Space,{children:n.map(((e,t)=>{let{className:n,...a}=e;return(0,l.createElement)(v.default,{...a,key:t,className:i()("option-item","btn-no-padding",s["options-btn"],n),type:"link"})}))})})}),(0,y.jsxs)(a.Space,{children:[n.slice(0,o).map(((e,t)=>{let{className:n,...a}=e;return(0,l.createElement)(v.default,{...a,key:t,className:i()("btn-no-padding",s["options-btn"],n),type:"link"})})),h.length>0&&(0,y.jsx)(a.Dropdown,{menu:{items:h.map(((e,t)=>{let{children:n,...s}=e;return{...s,key:t,label:n}}))},children:(0,y.jsx)(a.Button,{icon:(0,y.jsx)(g.default,{type:"icon-gengduo2"}),className:"btn-no-padding",type:"link"})})]})]})})};var x=n(4639),j=n(84621),b=n(33128),M=n(66005);const C=e=>{let{children:t,ellipsis:n}=e;return(0,y.jsx)(a.Typography.Text,{ellipsis:n&&Object.assign({},{tooltip:{overlayClassName:s.tooltip,children:t}}),children:t})},N=e=>{let{type:t,item:n,isEmpty:s,emptyRender:a,hover:r,primary:o,children:c,width:d,style:u,onClick:m,colValue:h}=e;const[_,g]=(0,l.useState)(!1);return(0,y.jsx)("div",{style:Object.assign({},u,{"--max-width":d+"px"}),className:i()(p["col-item"],p[t],s?null:{[p.hover]:r,[p.primary]:o,[p.loading]:_}),onClick:e=>{"function"!==typeof m||s||_||(g(!0),Promise.resolve(m({item:n,colItem:h,event:e})).finally((()=>{g(!1)})))},children:s?a({type:t,item:n,hover:r,primary:o,children:c}):c})};N.defaultProps={emptyRender:()=>"-"};const w=N,k=(0,M.createWithFetch)({loading:null})((e=>{let{data:t,children:n}=e;return n(t)})),S=e=>{let{api:t,expand:n,onExpand:s,ellipsis:l,hover:r,primary:i,emptyRender:o,isEmpty:c}=e;return n?(0,y.jsx)(k,{...t,children:e=>(0,y.jsx)(w,{type:"hide-info-expand",item:e,hover:r,primary:i,emptyRender:o,isEmpty:c,children:(0,y.jsx)(C,{ellipsis:l,children:"function"===typeof t.children?t.children(e):e})})}):(0,y.jsx)(w,{type:"hide-info",primary:!0,isEmpty:c,emptyRender:o,children:(0,y.jsx)(a.Button,{className:"btn-no-padding",type:"link",onClick:s,children:"\u67e5\u770b"})})};var F=n(24242),O=n.n(F);const E={date:{render:(e,t)=>{let{hover:n,primary:s,isEmpty:a,emptyRender:l,...r}=t;return(0,y.jsx)(w,{...r,type:"date",item:e,primary:s,hover:n,emptyRender:l,isEmpty:a||!_()(e).isValid(),children:_()(e).format("YYYY-MM-DD")})},width:160,min:120,max:400},dateShort:{render:(e,t)=>{let{hover:n,primary:s,isEmpty:a,emptyRender:l,...r}=t;return(0,y.jsx)(w,{...r,type:"date-short",item:e,primary:s,hover:n,emptyRender:l,isEmpty:a||!_()(e).isValid(),children:_()(e).format("YYYY-MM")})},width:120,min:100,max:400},dateRange:{render:(e,t)=>{let{hover:n,primary:s,isEmpty:a,emptyRender:l,...r}=t;return(0,y.jsx)(w,{...r,type:"date-range",item:e,primary:s,hover:n,emptyRender:l,isEmpty:a,children:_()(null===e||void 0===e?void 0:e[0]).format("YYYY-MM-DD HH:mm")+"-"+_()(null===e||void 0===e?void 0:e[1]).format("HH:mm")})},width:240,min:120,max:400},datetime:{render:(e,t)=>{let{hover:n,primary:s,emptyRender:a,isEmpty:l,hideSecond:r,...i}=t;return(0,y.jsx)(w,{...i,item:e,primary:s,hover:n,emptyRender:a,isEmpty:l||!_()(e).isValid(),children:_()(e).format(r?"YYYY-MM-DD HH:mm":"YYYY-MM-DD HH:mm:ss")})},width:190,min:190,max:400},serialNumber:{render:(e,t)=>{let{hover:n,primary:s,emptyRender:a,isEmpty:l,...r}=t;return(0,y.jsx)(w,{...r,type:"serial-number",item:e,primary:s,hover:n,emptyRender:a,isEmpty:l,children:e})},width:190,min:100,max:400},serialNumberShort:{render:(e,t)=>{let{hover:n,primary:s,emptyRender:a,isEmpty:l,...r}=t;return(0,y.jsx)(w,{...r,type:"serial-number-short",item:e,primary:s,hover:n,emptyRender:a,isEmpty:l,children:e})},width:120,min:100,max:400},user:{render:(e,t)=>{let{hover:n,primary:s,ellipsis:a,emptyRender:l,isEmpty:r,...i}=t;return(0,y.jsx)(w,{...i,type:"user",item:e,primary:s,hover:n,emptyRender:l,isEmpty:r,children:(0,y.jsx)(C,{ellipsis:a,children:e})})},width:200,min:120,max:400},userName:{render:(e,t)=>{let{hover:n,primary:s,ellipsis:a,emptyRender:l,isEmpty:r,...i}=t;return(0,y.jsx)(w,{...i,type:"user-name",item:e,primary:s,hover:n,emptyRender:l,isEmpty:r,children:(0,y.jsx)(C,{ellipsis:a,children:e})})},width:100,min:100,max:400},contacts:{render:(e,t)=>{let{hover:n,primary:s,ellipsis:a,emptyRender:l,isEmpty:r,...i}=t;return(0,y.jsx)(w,{...i,type:"contacts",item:e,primary:s,hover:n,emptyRender:l,isEmpty:r,children:(0,y.jsx)(C,{ellipsis:a,children:e})})},width:240,min:160,max:400},tag:{render:(e,t)=>{let{emptyRender:n,isEmpty:s,...a}=t;return(0,y.jsx)(w,{...a,type:"tag",item:e,emptyRender:n,isEmpty:s,children:e&&(e.isEnum?(0,y.jsx)(b.default,{name:e.name,moduleName:e.moduleName,force:e.force,children:t=>{let{type:n,description:s}=t;return(0,y.jsx)(x.default,{type:n,...Object.assign({},O()(e,["name","isEnum","moduleName","force"])),text:s})}}):(0,y.jsx)(x.default,{...Object.assign({},e)}))})},width:140,min:100,max:400},avatar:{render:(e,t)=>{let{emptyRender:n,isEmpty:s,...a}=t;return(0,y.jsx)(w,{...a,type:"avatar",item:e,emptyRender:n,isEmpty:s,children:(0,y.jsx)(j.default.Avatar,{...Object.assign({},e),size:32})})},width:80,min:64,max:200},singleRow:{render:(e,t)=>{let{hover:n,primary:s,ellipsis:a,emptyRender:l,isEmpty:r,...i}=t;return(0,y.jsx)(w,{...i,type:"single-row",item:e,hover:n,primary:s,emptyRender:l,isEmpty:r,children:(0,y.jsx)(C,{ellipsis:a,children:e})})},width:70,min:70,max:400},hideInfo:{render:(e,t)=>(0,y.jsx)(S,{api:e,...t}),width:120,min:80,max:400},mainInfo:{render:(e,t)=>{let{ellipsis:n,hover:s=!0,primary:a=!0,emptyRender:l,isEmpty:r,...i}=t;return(0,y.jsx)(w,{...i,type:"main-info",item:e,hover:s,primary:a,emptyRender:l,isEmpty:r,children:(0,y.jsx)(C,{ellipsis:n,children:e})})},width:300,min:160,max:500},description:{render:(e,t)=>{let{hover:n,primary:s,ellipsis:a,emptyRender:l,isEmpty:r,...i}=t;return(0,y.jsx)(w,{...i,type:"description",item:e,hover:n,primary:s,emptyRender:l,isEmpty:r,children:(0,y.jsx)(C,{ellipsis:a,children:e})})},width:400,min:160,max:600},options:{render:(e,t)=>{let{width:n}=t;return(0,y.jsx)(f,{className:i()(p["col-item"],p.options),list:e,width:n})},width:180,min:120,max:400},sensitiveInfo:{render:(e,t)=>{let{hover:n,primary:s,ellipsis:a,emptyRender:l,isEmpty:r,...i}=t;return(0,y.jsx)(w,{...i,type:"sensitiveInfo",item:e,hover:n,primary:s,emptyRender:l,isEmpty:r,children:(0,y.jsx)(C,{ellipsis:a,children:e})})},width:200,min:100,max:400},other:{render:(e,t)=>{let{hover:n,primary:s,ellipsis:a,emptyRender:l,isEmpty:r,...i}=t;return(0,y.jsx)(w,{...i,type:"other",item:e,hover:n,primary:s,emptyRender:l,isEmpty:r,children:(0,y.jsx)(C,{ellipsis:a,children:e})})},width:200,min:120,max:400}},P=E;var R=n(26181),I=n.n(R),T=n(31357),z=n.n(T),A=n(25653),K=n.n(A),L=n(36460),D=n.n(L),H=n(43682),Y=n(98444),Z=n.n(Y),B=n(85021),U=n(14250),q=n(74485),V=n.n(q),W=n(58121),G=n.n(W);const{Panel:J}=a.Collapse,Q=e=>{let{close:t,onConfirm:n,columns:r,config:o}=e;const[c,d]=(0,l.useState)(o||{}),[u,m]=(0,l.useState)(""),{leftFixedColumns:p,rightFixedColumns:h,visibleColumns:_,hiddenColumns:f}=(0,l.useMemo)((()=>K()(Object.assign({leftFixedColumns:[],rightFixedColumns:[],visibleColumns:[],hiddenColumns:[]},Z()(r,(e=>"right"===e.fixed?"rightFixedColumns":!0===e.fixed||"left"===e.fixed?"leftFixedColumns":!0!==I()(c,"".concat(e.name,".visible"))&&e.hidden||!1===I()(c,"".concat(e.name,".visible"))?"hiddenColumns":"visibleColumns"))),((e,t,n)=>{e[n]=t.sort(((e,t)=>I()(c,"".concat(e.name,".rank"),0)-I()(c,"".concat(t.name,".rank"),0)))}),{})),[r,c]),x=e=>(0,y.jsxs)(y.Fragment,{children:[e.titleText||e.title||"\u672a\u547d\u540d\u5217",e.groupHeader&&e.groupHeader.length>0?"(".concat(e.groupHeader.map((e=>{let{title:t}=e;return t})).join("-"),")"):""]});return(0,y.jsxs)("div",{className:s["columns-control-content"],children:[(0,y.jsx)("div",{className:s["columns-control-content-title"],children:(0,y.jsxs)(a.Row,{align:"middle",justify:"space-between",children:[(0,y.jsx)(a.Col,{children:"\u7f16\u8f91\u8868\u683c"}),(0,y.jsx)(a.Col,{children:(0,y.jsx)(a.Tooltip,{title:"\u6062\u590d\u9ed8\u8ba4",children:(0,y.jsx)(v.default,{type:"text",icon:(0,y.jsx)(g.default,{type:"icon-huifumorenshezhi"}),onClick:async()=>{n&&await n({}),t()}})})})]})}),(0,y.jsx)("div",{className:s["columns-control-content-scroller"],children:(0,y.jsxs)(a.Collapse,{defaultActiveKey:["active","un-active"],ghost:!0,bordered:!0,children:[(0,y.jsx)(J,{header:"\u663e\u793a\u7684\u4fe1\u606f",children:(0,y.jsxs)(a.List,{className:s["columns-control-content-list"],children:[p.map(((e,t)=>(0,y.jsx)(a.List.Item,{className:s["columns-control-content-item"],children:(0,y.jsx)(a.Checkbox,{checked:!0,disabled:!0,children:x(e)})},e.name||"left-".concat(t)))),(0,y.jsx)(U.ReactSortable,{list:_,filter:".ignore-elements",dragClass:s["sortable-drag"],ghostClass:s["sortable-ghost"],forceFallback:!0,setList:e=>{(e=>{const t=G()(c),n=[].concat(e.leftFixedColumns,e.visibleColumns,e.rightFixedColumns);(e.hiddenColumns||[]).forEach((e=>{V()(t,"".concat(e.name,".visible"),!1)})),n.forEach(((e,n)=>{V()(t,"".concat(e.name,".rank"),n+1)})),d(t)})({leftFixedColumns:p,visibleColumns:e,hiddenColumns:f,rightFixedColumns:h})},animation:300,delayOnTouchStart:!0,delay:2,children:_.map(((e,t)=>(0,y.jsxs)(a.List.Item,{className:i()(s["columns-control-content-item"],s["is-drag"]),children:[(0,y.jsx)(g.default,{type:"icon-paixu",className:s["columns-control-content-item-icon"]}),(0,y.jsx)(a.Checkbox,{checked:!0,disabled:e.fixed||p.length+_.length+h.length<=1,onChange:t=>{t.stopPropagation(),t.preventDefault();const n=Object.assign({},c);n[e.name]=Object.assign({},n[e.name],{visible:!1}),d(n)},children:x(e)})]},e.name||"visible-".concat(t))))}),h.map(((e,t)=>(0,y.jsx)(a.List.Item,{className:s["columns-control-content-item"],children:(0,y.jsx)(a.Checkbox,{checked:!0,disabled:!0,children:e.titleText||e.title||"\u672a\u547d\u540d\u5217"})},e.name||"right-".concat(t))))]})},"active"),(0,y.jsx)(J,{header:(0,y.jsxs)(a.Row,{wrap:!1,justify:"space-between",children:[(0,y.jsx)(a.Col,{children:"\u9690\u85cf\u7684\u4fe1\u606f"}),(0,y.jsx)(a.Col,{onClick:e=>{e.stopPropagation(),e.preventDefault()},children:(0,y.jsx)(B.SearchInput,{prefix:(0,y.jsx)(g.default,{type:"icon-sousuo",size:12}),placeholder:"\u641c\u7d22",onSearch:e=>{m(e)},className:s["columns-control-content-input"],size:"small"})})]}),children:(0,y.jsx)(a.List,{dataSource:f.filter((e=>"string"===typeof(e.titleText||e.title)&&(e.titleText||e.title).indexOf(u)>-1)),renderItem:e=>(0,y.jsx)(a.List.Item,{className:s["columns-control-content-item"],children:(0,y.jsx)(a.Checkbox,{checked:!1,onChange:t=>{t.stopPropagation(),t.preventDefault();const n=Object.assign({},c);n[e.name]=Object.assign({},n[e.name],{visible:!0}),d(n)},children:e.titleText||e.title||"\u672a\u547d\u540d\u5217"})},e.key)})},"un-active")]})}),(0,y.jsxs)(a.Row,{className:s["columns-control-content-footer"],justify:"end",gutter:10,children:[(0,y.jsx)(a.Col,{children:(0,y.jsx)(a.Button,{size:"small",onClick:()=>{d(o||{}),t()},children:"\u53d6\u6d88"})}),(0,y.jsx)(a.Col,{children:(0,y.jsx)(v.default,{type:"primary",size:"small",onClick:async()=>{n&&await n(c),t()},children:"\u786e\u5b9a"})})]})]})};var X=n(83312),$=n(18111),ee=n.n($),te=n(98409),ne=n.n(te);const se=e=>{let{title:t,columns:n,config:r,setConfig:i}=e;const[o,c]=(0,l.useState)(!1);return(0,y.jsxs)(a.Row,{wrap:!1,children:[(0,y.jsx)(a.Col,{flex:1,children:t}),(0,y.jsx)(a.Col,{children:(0,y.jsx)(a.Popover,{open:o,onOpenChange:c,trigger:"click",placement:"bottomLeft",overlayClassName:s["columns-control-overlay"],content:(0,y.jsx)(Q,{columns:n,config:r,close:()=>{c(!1)},onConfirm:e=>{i((t=>K()(e,((e,n,s)=>{e[s]=Object.assign({},t[s],D()(n,["visible","rank"]))}),{})))}}),children:(0,y.jsx)("span",{className:s["table-changer-setting"],children:(0,y.jsx)(g.default,{type:"icon-shezhi"})})})})]})},ae=e=>{let{columns:t,name:n,controllerOpen:a,tableWidth:r}=e;const[o,c]=(0,l.useState)(null),d=(0,l.useRef)(o);d.current=o;const u=(0,l.useRef)(null),p=(0,l.useRef)(null),[h,_]=(0,l.useState)({}),{tableServerApis:v}=(0,H.usePreset)(),f=null===v||void 0===v?void 0:v.getDataApi(n),x=(0,X.useDebouncedCallback)(((e,t)=>{null===v||void 0===v||v.setDataFunc(e,t)}),500),j=m()((e=>{(0,l.startTransition)((()=>{_((t=>{const s="function"===typeof e?e(t):e;return n&&a&&x(n,s),s}))}))})),{send:b}=(0,M.useFetch)(Object.assign({...Object.assign({},f),auto:!1,cache:"TABLE_CONFIG_".concat(n),isLocal:!0,onRequestSuccess:e=>{_(Object.assign({},e))}})),C=m()((()=>{n&&a&&f&&b({force:!1})}));(0,l.useEffect)((()=>{C()}),[C]);const N=(0,l.useMemo)((()=>t.filter((e=>!(!1===I()(h,"".concat(e.name,".visible"))||!0!==I()(h,"".concat(e.name,".visible"))&&!0===e.hidden))).sort(((e,t)=>{const n=e=>I()(h,"".concat(e.name,".rank"),0)+("left"===e.fixed?-1e4:0)+("right"===e.fixed?1e4:0);return n(e)-n(t)}))),[t,h]),w=(0,l.useMemo)((()=>ne()(N,(e=>{let{type:t}=e;return"options"!==t}))),[N]),k=(0,l.useMemo)((()=>z()(N,(e=>{let{type:t,name:n}=e;return I()(h,"".concat(n,".width"))||P[t].width}))),[N,h]),S=e=>{let{width:t,index:n}=e;return w===n?t+Math.max(r-k-2,0):t},F=m()(((e,t)=>(0,y.jsx)("span",{className:i()(s["cell-resize-bar"]),onMouseDown:n=>{u.current=Object.assign({},e,{index:t}),p.current=n.clientX,c(t)},children:(0,y.jsx)(g.default,{type:"icon-paixu"})}))),O=m()((e=>{if(null===o)return;if(!u.current)return;const{name:t,width:n,min:s,max:a,index:l}=u.current,r=Math.min(Math.max(n+e,s),a);r<S({width:s,index:l})||j((e=>Object.assign({},e,{[t]:Object.assign({},e[t],{width:r})})))})),E=m()(((e,n)=>{const{name:a,width:l,min:r,max:o}=e;let c=e;n===N.length-1&&(c=Object.assign({},e,{className:"has-config-btn",title:(0,y.jsx)(se,{title:null===e||void 0===e?void 0:e.title,columns:t,config:h,setConfig:j})}));const u=()=>({className:i()({[s["is-moving"]]:d.current===n})}),m=Math.min(Math.max(I()(h,"".concat(a,".width"))||l,r),o),p=S({width:m,index:n});return Object.assign({},c,{onHeaderCell:u,onCell:u,width:p,shouldCellUpdate:(t,s)=>null===d.current||d.current===n||"hideInfo"===e.type||!ee()(t[e.name],s[e.name]),title:(0,y.jsxs)(y.Fragment,{children:[c.title,!(p>m&&p>o)&&F(Object.assign({},c,{width:p}),n)]})})}));return(0,l.useEffect)((()=>{const e=()=>{c(null),p.current=null,u.current=null},t=e=>{null!==d.current&&null!==u.current&&(null!==p.current?O(e.clientX-p.current):p.current=e.clientX)};return document.documentElement.addEventListener("mouseup",e,!0),document.documentElement.addEventListener("mousemove",t,!0),()=>{document.documentElement.removeEventListener("mouseup",e,!0),document.documentElement.removeEventListener("mousemove",t,!0)}}),[O]),{visibleColumns:N,currentMoveColumnIndex:o,resizeBarRender:F,columnsConfig:h,totalWidth:k,computedColumnProps:E}};var le=n(42854),re=n.n(le),ie=n(49151),oe=n.n(ie);const ce=e=>{let{rowKey:t,renderProps:n}=e;const[s,a]=(0,l.useState)(null),r=(0,l.useRef)(n);r.current=n;const i=m()(((e,n,l)=>{let{columnsConfig:i}=l;const{name:o,type:c,expandType:d,title:u,titleRender:m,fixed:p,emptyOf:h,emptyRender:_,groupHeader:g,sort:v,disableColItem:y,...f}=e,{render:x,width:j,min:b,max:M}=Object.assign({},P[c],"hideInfo"===c&&!re()(s)&&D()(P[d||"other"],["width","min","max"])),C=oe()(x);return{name:o,title:"function"===typeof m?m(u):u,min:b,max:M,width:j,fixed:p,groupHeader:g,sort:v,type:c,render:n=>{const l="function"===typeof t?t(n):n[t],c=Object.assign({},e,"function"===typeof e.render?e.render({...r.current,name:o,target:n}):{}),d=e=>{const t=(h||(e=>""===e||void 0===e||null===e))(e);return C(e,{...f,name:o,width:I()(i,"".concat(o,".width"))||j,min:b,max:M,isEmpty:t,emptyRender:_,hover:c.hover,colValue:n,renderProps:r.current,primary:c.primary,ellipsis:c.ellipsis,expand:s===l,onExpand:()=>a(l)})},u=c.hasOwnProperty("valueOf")&&"function"===typeof c.valueOf?c.valueOf(n,Object.assign({},r.current,{name:o},y?{targetRender:d}:{})):I()(n,o);return y?u:d(u)}}}));return{expandInfo:s,computedColumnProps:i}},de=e=>(0,l.useMemo)((()=>{const t=e.filter((e=>e.groupHeader&&e.groupHeader.length>0));if(t.length>0){const n=e.slice(0),s=[],a=e=>{const{groupHeader:t}=e;if(!(t&&t.length>0))return;const a=n.indexOf(e),l=(t,n)=>{const[s,...r]=t;let i=n.find((e=>e.name===s.name));i||(i=Object.assign({startIndex:a},s,{children:[]}),n.push(i)),r.length>0?l(r,i.children):i.children.push(e)};l(t,s),n.splice(a,1)};return t.forEach(a),s.forEach(((e,t)=>{n.splice(e.startIndex+t,0,e)})),{columns:n,hasGroupHeader:!0}}return{columns:e,hasGroupHeader:!1}}),[e]);var ue=n(97433),me=n.n(ue),pe=n(68787),he=n.n(pe);const _e=e=>new Map((e||[]).map((e=>{let{name:t,sort:n}=e;return[t,n]}))),ge=e=>{const[t,n]=me()(e,{value:"sort",defaultValue:"defaultSort",onChange:"onSortChange"}),a=(0,l.useMemo)((()=>_e(t)),[t]),r=(0,l.useCallback)((e=>n((t=>{const n=e(_e(t));return Array.from(n).map((e=>{let[t,n]=e;return{name:t,sort:n}}))}))),[n]);return(0,l.useCallback)((e=>{let{single:t,name:n}=e;return(0,y.jsxs)("div",{className:i()(s["sort-btn"],{[s["sort-active-desc"]]:"DESC"===a.get(n),[s["sort-active-asc"]]:"ASC"===a.get(n)}),onClick:()=>{r((e=>{const s=e.get(n),a="DESC"===s?"ASC":"ASC"===s?null:"DESC";if(t)return new Map(a?[[n,a]]:[]);const l=he()(e);return a?l.set(n,a):l.delete(n),l}))},children:[(0,y.jsx)(g.default,{type:"icon-triangle-up",className:s["sort-icon"]}),(0,y.jsx)(g.default,{type:"icon-triangle-down",className:s["sort-icon"]})]})}),[a,r])},ve=e=>{let{columns:t,className:n,getScrollEl:r,sticky:c,stickyOffset:u,pagination:p,columnRenderProps:h,rowKey:_,dataSource:g,controllerOpen:v,name:f,summary:x,scroll:j,onTablePropsReady:b,...M}=e;const[C,N]=(0,l.useState)(0),[w,k]=(0,l.useState)(!0);(0,l.useEffect)((()=>{C&&setTimeout((()=>{k(!1)}),0)}),[C]);(0,l.useRef)(h).current=h;const S=(0,d.Z)((e=>{N(e.clientWidth)}),{isDebounce:!0}),{expandInfo:F,computedColumnProps:O}=ce({rowKey:_,renderProps:h}),{columnsConfig:E,visibleColumns:P,computedColumnProps:R,currentMoveColumnIndex:I,totalWidth:T}=ae({columns:t,controllerOpen:v,name:f,computedColumnProps:O,tableWidth:C}),z=ge(M),A=(0,l.useMemo)((()=>P.map(((e,t)=>{let n=O(e,t,{rowKey:_,expandInfo:F,columnsConfig:E});return n.sort&&"options"!==e.type&&(n=Object.assign({},n,{title:(0,y.jsxs)(y.Fragment,{children:[n.title,z({name:e.name,single:"object"!==typeof n.sort||n.sort.single})]})})),v&&(n=R(n,t,{tableWidth:C,columnsConfig:E})),n}))),[P,C,E,F,_,v,O,R,z]),{columns:K,hasGroupHeader:L}=de(A),D=m()(b);return(0,l.useEffect)((()=>{D&&D({columns:t,groupColumns:K,dataSource:g,visibleColumns:P})}),[D,K,g,t,P]),(0,y.jsx)("div",{className:i()(n,s.table,{[s["is-resize"]]:null!==I,[s["is-computed"]]:w,[s["has-group-header"]]:L}),ref:S,style:{"--sticky-offset":u},children:!w&&(0,y.jsx)(o.Z,{className:"table-page-scroller",scroller:{getContainer:r},getScrollTarget:e=>e.querySelector(".ant-table-body")||e.querySelector(".ant-table-content"),children:(0,y.jsx)(a.Table,{...M,sticky:!!c&&{getContainer:r},dataSource:g,rowKey:_,columns:K,scroll:Object.assign({},{x:Math.max(C,T)},j),pagination:p,summary:"function"===typeof x?function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return x(Object.assign({},{pageData:e},{columns:K}),...n)}:null})})})};ve.defaultProps={controllerOpen:!0,rowKey:"id",getScrollEl:c.R,columnRenderProps:{},sticky:!1,stickyOffset:"var(--nav-height)",pagination:!1};const ye=ve;var fe=n(41767);const xe=e=>({"en-US":()=>n.e(9354).then(n.bind(n,29354)),"zh-CN":()=>n.e(1177).then(n.bind(n,1177))}[e]());var je=n(91602),be=n(20471);const Me=e=>{let{id:t,columns:n,children:s}=e;return t?(0,y.jsx)(fe.default,{id:t,children:e=>{let{options:t}=e;return s({columns:n.filter((e=>!e.name||(!Array.isArray(I()(t,"hiddenColumns"))||-1===t.hiddenColumns.indexOf(e.name))))})}}):s({columns:n})},Ce=(0,M.withFetch)((e=>{let{data:t,refresh:n,reload:a,requestParams:r,fetchProps:o,isComplete:d,setData:u,loadMore:p,send:h,dataFormat:_,className:g,featureId:v,columns:f,getColumns:x,pagination:j,columnRenderProps:b,summary:M,...C}=e;const N=m()(_),w=(0,l.useMemo)((()=>N(t)),[t,N]),k={dataSource:w.list,pagination:!!j.open&&{total:w.total,showTotal:e=>(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(je.FormattedMessage,{id:"Page_Total",moduleName:"Table",defaultMessage:"\u5171"}),(0,y.jsx)("span",{className:s.total_text,children:e}),(0,y.jsx)(je.FormattedMessage,{id:"Page_TotalCount",moduleName:"Table",defaultMessage:"\u6761"})]}),current:I()(r,[j.paramsType,j.currentName],1),pageSize:j.pageSize,onChange:j.onChange?j.onChange:(e,t)=>{e!==I()(r,[j.paramsType,j.currentName],1)?("refresh"===j.requestType?n:a)({[j.paramsType]:{[j.currentName]:e,[j.pageSizeName]:t}}):j.onShowSizeChange&&j.onShowSizeChange(e,t),(0,c.R)().scrollTop=0},size:j.size,showSizeChanger:j.showSizeChanger,showQuickJumper:j.showQuickJumper}};return(0,y.jsx)(je.IntlProvider,{importMessages:xe,moduleName:"Table",children:(0,y.jsx)(Me,{id:v,columns:f,children:e=>{let{columns:s}=e;return(0,y.jsx)(ye,{...Object.assign({},C,k),className:i()(g,"loading-container",{"is-loading":!d}),columns:s,columnRenderProps:{...b,requestParams:r,fetchProps:o,data:t},summary:"function"===typeof M?function(){for(var e=arguments.length,s=new Array(e),l=0;l<e;l++)s[l]=arguments[l];return M(Object.assign({},{data:t,fetchProps:o,requestParams:r,refresh:n,reload:a,loadMore:p,send:h,dataFormat:_,pagination:j},...s))}:null})}})})}));Ce.defaultProps={pagination:{},columnRenderProps:{},sticky:!0,dataFormat:e=>({list:e.pageData,total:e.totalCount})};const Ne=(0,l.forwardRef)(((e,t)=>{let{pagination:n,...s}=e;n=Object.assign({},{showSizeChanger:!0,showQuickJumper:!0,open:!0,paramsType:"data",requestType:"reload",currentName:"currentPage",pageSizeName:"perPage",pageSize:20},n);const a="".concat((s.name||"common").toUpperCase(),"_TABLE_PAGE_SIZE"),[r,i]=(0,l.useState)(be.Z.getItem(a)||n.pageSize),o=(0,l.useMemo)((()=>{const e={};return s.params&&Object.keys(s.params).length>0&&(e.params={...s.params,[n.pageSizeName]:r}),s.data&&Object.keys(s.data).length>0&&(e.data={...s.data,[n.pageSizeName]:r}),e}),[s.params,s.data,n.pageSizeName,r]);return(0,y.jsx)(Ce,{...s,...o,pagination:Object.assign({},n,{pageSize:r,onShowSizeChange:(e,t)=>{be.Z.setItem(a,t),i(t)}}),ref:t})}))}}]);
//# sourceMappingURL=579.208dc5bf.chunk.js.map