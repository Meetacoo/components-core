"use strict";(self.webpackChunk_kne_components_components_core=self.webpackChunk_kne_components_components_core||[]).push([[2999],{25644:(e,t,n)=>{n.d(t,{A:()=>s});const s={getItem:e=>{const t=window.localStorage.getItem(e);try{const{dataType:e,value:n}=JSON.parse(t);if("object"===e&&"null"===n)return null;if("undefined"===e)return;return"number"===e?Number(n):"boolean"===e?Boolean(n):n}catch(n){return null}},setItem:(e,t)=>{const n=typeof t;window.localStorage.setItem(e,JSON.stringify({dataType:n,value:t}))}}},58407:(e,t,n)=>{n.r(t),n.d(t,{ConfirmLink:()=>y,ConfirmText:()=>f,default:()=>j,withConfirm:()=>g});n(73884);var s=n(55199);const a=e=>({"en-US":()=>n.e(3275).then(n.bind(n,63275)),"zh-CN":()=>n.e(5181).then(n.bind(n,25181))}[e]());var l=n(64671),r=n(58609),i=n(3382),o=n(83136),c=n.n(o);const d="style_overlay__99t5t__ujG5g",u="style_is-danger__gxyAB__ujG5g",m="style_title__EEPu2__ujG5g",p="style_content__mZZg5__ujG5g",h="style_has-title__5+PEt__ujG5g";var _=n(70579);const g=e=>{const t=(0,r.createWithIntl)({moduleName:"ConfirmButton",importMessages:a})((t=>{let{title:n,message:a,isDelete:o=!0,onClick:g,onCancel:y,disabled:f,showCancel:j,cancelText:x,isModal:v,okText:b,placement:C,getContainer:N,...w}=t;const{formatMessage:G}=(0,r.useIntl)({moduleName:"ConfirmButton"}),k=(0,i.useModal)();return v?(0,_.jsx)(e,{...w,onClick:e=>{const t={children:x||G({id:"cancel"}),onClick:y},r={type:"primary",children:b||G(o?{id:"delete"}:{id:"confirm"}),onClick:()=>g(e),danger:o};k({title:n&&(0,_.jsxs)(s.Space,{size:0,className:m,children:[(0,_.jsx)(l.default,{className:"title-icon",type:"icon-tishi-tianchong"}),n]}),getContainer:N,wrapClassName:c()(d,{[u]:o}),children:(0,_.jsxs)(s.Space,{size:0,className:c()(p,{[h]:n}),children:[!n&&(0,_.jsx)(l.default,{className:"title-icon",type:"icon-tishi-tianchong"}),a||G({id:"message"})]}),footerButtons:j?[t,r]:[r]})}}):(0,_.jsx)(s.Popconfirm,{title:(0,_.jsxs)(s.Space,{direction:"vertical",onClick:e=>{e.stopPropagation()},children:[n&&(0,_.jsxs)(s.Space,{size:0,align:"start",className:m,children:[(0,_.jsx)(l.default,{className:"title-icon",type:"icon-tishi-tianchong"}),n]}),(0,_.jsxs)(s.Space,{size:0,align:"start",className:c()(p,{[h]:n}),children:[!n&&(0,_.jsx)(l.default,{className:"title-icon",type:"icon-tishi-tianchong"}),a||G({id:"message"})]})]}),placement:C,onConfirm:g,okButtonProps:{danger:o},onCancel:y,overlayClassName:c()(d,{[u]:o}),getPopupContainer:N,disabled:f,showCancel:j,cancelText:x,okText:b||G(o?{id:"delete"}:{id:"confirm"}),children:(0,_.jsx)(e,{...w,disabled:f})})}));return t.defaultProps={isModal:!1},t},y=g(s.Typography.Link),f=g(s.Typography.Text),j=g(s.Button)},48731:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var s=n(73884),a=n(87558),l=n(76329),r=n(15797),i=n.n(r),o=n(79686),c=n.n(o),d=n(70579);const u=[["gender",()=>[{value:"M",description:"\u7537"},{value:"F",description:"\u5973"}]],["marital",()=>[{description:"\u5df2\u5a5a",value:"Y"},{description:"\u672a\u5a5a",value:"N"}]],["confirm",()=>[{description:"\u662f",value:"Y"},{description:"\u5426",value:"N"}]],["political",()=>[{description:"\u4e2d\u5171\u515a\u5458",value:"\u4e2d\u5171\u515a\u5458"},{description:"\u5171\u9752\u56e2\u5458",value:"\u5171\u9752\u56e2\u5458"},{description:"\u7fa4\u4f17",value:"\u7fa4\u4f17"},{description:"\u5176\u4ed6\u515a\u6d3e",value:"\u5176\u4ed6\u515a\u6d3e"}]],["phoneStateEnum",()=>[{value:0,description:"\u7a7a\u53f7"},{value:1,description:"\u5b9e\u53f7"},{value:2,description:"\u505c\u673a"},{value:3,description:"\u5e93\u65e0"},{value:4,description:"\u6c89\u9ed8\u53f7"},{value:5,description:"\u98ce\u9669\u53f7"}]],["degreeEnum",()=>[{description:"\u521d\u4e2d",value:10},{description:"\u4e2d\u4e13",value:20},{description:"\u9ad8\u4e2d",value:30},{description:"\u5927\u4e13",value:40},{description:"\u672c\u79d1",value:50},{description:"\u7855\u58eb\u7814\u7a76\u751f",value:60},{description:"\u535a\u58eb\u7814\u7a76\u751f",value:70},{description:"\u535a\u58eb\u540e",value:75},{description:"\u5b66\u5386\u4e0d\u9650",value:999}]]],m=(0,a.withFetch)((e=>{let{data:t,children:n}=e;return"function"===typeof n?n(t):n||(null===t||void 0===t?void 0:t.description)})),p=i()((e=>new Map(u.concat(Object.keys(Object.assign({},e)).map((t=>[t,e[t]])))))),h=e=>{let{loader:t,...n}=e;const{global:{enumsRef:a}}=(0,l.useGlobalContext)(),r=(0,s.useRef)(null);return(0,d.jsx)(m,{...n,loader:async function(){const e=p(await t(...arguments)),{params:n}=arguments.length<=0?void 0:arguments[0],{moduleName:s,name:l,force:i,locale:o}=n,d=async t=>!0!==i&&r.current===o&&a.current.get(t)||await(async()=>{const n=e.get(t),s=await(async()=>"function"===typeof n?new Map((await n({locale:o})).map((e=>[e.value.toString(),e]))):Array.isArray(n)?new Map(n.map((e=>[e.value.toString(),e]))):"object"===typeof n?new Map(Object.keys(n).map((e=>[e.toString(),n[e]]))):(console.warn("\u679a\u4e3e\u503cloader\u7684\u8bbe\u7f6e\u53ef\u80fd\u4e0d\u6b63\u786e"),new Map))();return a.current.set(t,s),r.current=o,s})();if(Array.isArray(s))return await Promise.all(s.map((e=>d(e).then((e=>Array.from(e.values()))))));const u=await d(s);return c()(l)?Array.from(u.values()):u.get(l.toString())}})},_=e=>{let{moduleName:t,name:n,force:s,children:a,...r}=e;const i=(0,l.usePreset)();return(0,d.jsx)(h,{...r,params:{moduleName:t,locale:null===i||void 0===i?void 0:i.locale,enums:null===i||void 0===i?void 0:i.enums,name:n,force:s},loader:e=>{let{params:t}=e;return t.enums},children:a})};_.defaultProps={force:!1};const g=_},78016:(e,t,n)=>{n.r(t),n.d(t,{AdvancedSelectFilterItem:()=>ae,CascaderFilterItem:()=>ce,CityFilterItem:()=>oe,DatePickerFilterItem:()=>ee,DateRangePickerFilterItem:()=>te,FilterItem:()=>h,FilterItemContainer:()=>E,FilterLines:()=>b,FilterValueDisplay:()=>m,FunctionSelectFilterItem:()=>re,IndustrySelectFilterItem:()=>ie,InputFilterItem:()=>ue,PopoverItem:()=>w,TreeFilterItem:()=>de,TypeDateRangePickerFilterItem:()=>se,UserFilterItem:()=>le,default:()=>xe,fields:()=>s,getFilterValue:()=>F,withFieldItem:()=>G});var s={};n.r(s),n.d(s,{AdvancedSelectFilterItem:()=>ae,CascaderFilterItem:()=>ce,CityFilterItem:()=>oe,DatePickerFilterItem:()=>ee,DateRangePickerFilterItem:()=>te,FunctionSelectFilterItem:()=>re,IndustrySelectFilterItem:()=>ie,InputFilterItem:()=>ue,TreeFilterItem:()=>de,TypeDateRangePickerFilterItem:()=>se,UserFilterItem:()=>le});var a=n(55199),l=n(62716),r=n(58609);const i={filter:"style_filter__Xml45__ujG5g","filter-item-icon":"style_filter-item-icon__kVCRK__ujG5g","filter-item-option-icon":"style_filter-item-option-icon__q1fz3__ujG5g","filter-title":"style_filter-title__PlIpS__ujG5g","filter-title-hidden":"style_filter-title-hidden__NJ1ZB__ujG5g","ad-filter-title":"style_ad-filter-title__5-OzD__ujG5g","ad-filter-line":"style_ad-filter-line__ga6UH__ujG5g","filter-line":"style_filter-line__E+cRh__ujG5g","clean-btn":"style_clean-btn__oSEvm__ujG5g","filter-item":"style_filter-item__Q2ncE__ujG5g","un-expand":"style_un-expand__4PFY8__ujG5g","ad-filter-selected":"style_ad-filter-selected__KbLfG__ujG5g","filter-label":"style_filter-label__qu26i__ujG5g","filter-item-wrap":"style_filter-item-wrap__rOq7H__ujG5g",option:"style_option__rd5Qo__ujG5g","is-active":"style_is-active__OArQI__ujG5g","is-visited":"style_is-visited__gZ5ni__ujG5g","un-expand-shadow":"style_un-expand-shadow__fj92e__ujG5g","filter-item-label":"style_filter-item-label__C781J__ujG5g","filter-item-field":"style_filter-item-field__Ltfr8__ujG5g","filter-drop-tag":"style_filter-drop-tag__DD-2P__ujG5g","filter-list-tag":"style_filter-list-tag__Qt5hA__ujG5g","filter-tag":"style_filter-tag__dUGfu__ujG5g","filter-tag-value":"style_filter-tag-value__p-SFv__ujG5g","pop-util-content":"style_pop-util-content__bx5zP__ujG5g","pop-util-overlay":"style_pop-util-overlay__LEASt__ujG5g","pop-util-footer":"style_pop-util-footer__Xat1s__ujG5g","pop-util-text":"style_pop-util-text__pzeUy__ujG5g","filter-item-inner":"style_filter-item-inner__LVXgh__ujG5g","filter-item-text":"style_filter-item-text__MA8tU__ujG5g","filter-item-custom":"style_filter-item-custom__UusRa__ujG5g","filter-item-custom-active":"style_filter-item-custom-active__uFtny__ujG5g","filter-item-number-range-split":"style_filter-item-number-range-split__fVt8E__ujG5g","filter-item-number-input":"style_filter-item-number-input__YPO6K__ujG5g","range-picker":"style_range-picker__c6ngq__ujG5g","cascader-select-wrap":"style_cascader-select-wrap__z5hu7__ujG5g","cascader-dropdown-menu":"style_cascader-dropdown-menu__nhAH5__ujG5g"};var o=n(83136),c=n.n(o);const d=e=>({"en-US":()=>n.e(8869).then(n.bind(n,18869)),"zh-CN":()=>n.e(2363).then(n.bind(n,92363))}[e]());var u=n(70579);const m=e=>{let{value:t,extraExpand:n,onChange:s}=e;return(0,u.jsx)(r.IntlProvider,{importMessages:d,moduleName:"Filter",children:(0,u.jsxs)(a.Space,{className:i["filter-title"],align:"top",size:16,children:[(0,u.jsx)("span",{className:i["filter-label"],children:(0,u.jsx)(r.FormattedMessage,{id:"selectedText",moduleName:"Filter",defaultMessage:"\u60a8\u5df2\u9009\u62e9"})}),(0,u.jsxs)("div",{className:i["filter-line"],children:[t.map(((e,n)=>{let{name:a,label:r,value:i}=e;return(0,u.jsx)(l.default,{type:"filterResult",filterName:r,text:Array.isArray(i)?i.map((e=>e.label)).join("\uff0c"):i.label,closable:!0,onClose:()=>{const e=t.slice(0);e.splice(n,1),s(e)}},a)})),(0,u.jsxs)(a.Space,{size:4,className:c()(i["un-expand-shadow"]),children:[n,(0,u.jsx)(a.Button,{size:"small",children:(0,u.jsx)(r.FormattedMessage,{id:"clearAllText",moduleName:"Filter",defaultMessage:"\u6e05\u7a7a\u5168\u90e8"})})]}),(0,u.jsxs)(a.Space,{size:4,className:c()(i["un-expand"]),children:[n,(0,u.jsx)(a.Button,{size:"small",onClick:()=>{s([])},children:(0,u.jsx)(r.FormattedMessage,{id:"clearAllText",moduleName:"Filter",defaultMessage:"\u6e05\u7a7a\u5168\u90e8"})})]})]})]})})};var p=n(64671);const h=e=>{let{open:t,active:n,label:s,children:l}=e;return(0,u.jsx)(a.Space,{className:i["filter-item-wrap"],children:(0,u.jsxs)("div",{className:c()(i["filter-item"],{[i["is-active"]]:n,[i["is-visited"]]:t}),children:[(0,u.jsxs)(a.Space,{className:i["filter-item-label"],size:4,children:[(0,u.jsx)("div",{children:s}),(0,u.jsx)(p.default,{className:i["filter-item-icon"],type:"icon-triangle-down"})]}),(0,u.jsx)("div",{className:i["filter-item-field"],children:l})]})})};var _=n(73884);const g=(0,_.createContext)({}),{Provider:y}=g;var f=n(33097),j=n.n(f);const x=e=>{let{list:t,children:n}=e;const{value:s,onChange:a}=(0,_.useContext)(g);return(0,u.jsxs)("div",{className:i["filter-line"],children:[t.map(((e,t)=>{const n=e.type;return(0,_.createElement)(n,{...e.props,key:e.key||e.props.name||t,value:s?j()(s.get(e.props.name),"value"):e.props.value,onChange:a?t=>a({name:e.props.name,label:e.props.label,value:t}):e.props.onChange})})),n]})},v=e=>{let{list:t,displayLine:n,label:s,extra:l,children:o}=e;const m=t.length>n,[h,g]=(0,_.useState)(!1);return(0,u.jsxs)(r.IntlProvider,{importMessages:d,moduleName:"Filter",children:[(0,u.jsxs)(a.Space,{className:c()(i["filter-title"]),align:"top",size:16,children:[(0,u.jsx)("span",{className:i["filter-label"],children:s||(0,u.jsx)(r.FormattedMessage,{id:"filterText",moduleName:"Filter",defaultMessage:"\u7b5b\u9009"})}),(0,u.jsxs)(a.Row,{justify:"space-between",wrap:!1,align:"middle",children:[(0,u.jsx)(a.Col,{className:i["filter-list"],flex:1,children:t.slice(0,n).map(((e,t)=>(0,u.jsx)(x,{list:e,children:m&&!1===h&&t===n-1?(0,u.jsxs)(a.Space,{size:4,className:c()(i["filter-item"],i.option),onClick:()=>{g((e=>!e))},children:[(0,u.jsx)(r.FormattedMessage,{id:"moreText",moduleName:"Filter",defaultMessage:"\u66f4\u591a"}),(0,u.jsx)(p.default,{className:i["filter-item-option-icon"],type:"icon-arrow-thin-down"})]}):null},t)))}),(0,u.jsx)(a.Col,{children:l})]})]}),(0,u.jsx)(a.Space,{className:c()(i["filter-title"],"filter-title-wrap"),align:"center",size:16,children:o}),(0,u.jsxs)(a.Space,{className:c()(i["filter-title"],"filter-title-wrap",{[i["filter-title-hidden"]]:!(m&&h)}),align:"top",size:16,children:[(0,u.jsx)("span",{className:i["filter-label"],children:(0,u.jsx)(r.FormattedMessage,{id:"moreText",moduleName:"Filter",defaultMessage:"\u66f4\u591a"})}),(0,u.jsx)("div",{className:i["filter-list"],children:t.slice(n).map(((e,s)=>(0,u.jsx)(x,{list:e,children:s===t.length-n-1&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(a.Space,{size:4,className:c()(i["un-expand-shadow"]),children:(0,u.jsxs)(a.Space,{size:4,className:c()(i.option,i["filter-item"]),children:[(0,u.jsx)(r.FormattedMessage,{id:"toggleUpText",moduleName:"Filter",defaultMessage:"\u6536\u8d77"}),(0,u.jsx)(p.default,{className:i["filter-item-option-icon"],type:"icon-arrow-thin-up"})]})}),(0,u.jsx)(a.Space,{size:4,className:c()(i["un-expand"]),onClick:()=>{g((e=>!e))},children:(0,u.jsxs)(a.Space,{size:4,className:c()(i.option,i["filter-item"]),children:[(0,u.jsx)(r.FormattedMessage,{id:"toggleUpText",moduleName:"Filter",defaultMessage:"\u6536\u8d77"}),(0,u.jsx)(p.default,{className:i["filter-item-option-icon"],type:"icon-arrow-thin-up"})]})})]})},s)))})]})]})};v.defaultProps={displayLine:1};const b=v;var C=n(55490);const N=e=>{let{value:t,label:n,onValidate:s,overlayClassName:l,placement:o,onOpenChange:d,onChange:m,children:p}=e;const[g,y]=(0,_.useState)(t),[f,j]=(0,_.useState)(!1),x=(0,_.useMemo)((()=>s&&!s(g)),[s,g]);return(0,u.jsx)(a.Popover,{open:f,trigger:"click",placement:o,overlayClassName:c()(i["pop-util-overlay"],l),onOpenChange:e=>{j(e),y(t),d&&d(e)},content:(0,u.jsxs)("span",{onClick:e=>{e.stopPropagation()},children:[(0,u.jsx)("div",{className:i["pop-util-content"],children:p({value:g,onChange:y})}),(0,u.jsxs)(a.Row,{className:i["pop-util-footer"],justify:"end",gutter:8,children:[(0,u.jsx)(a.Col,{children:(0,u.jsx)(a.Button,{size:"small",onClick:()=>{j(!1),d&&d(!1)},children:(0,u.jsx)(r.FormattedMessage,{id:"cancelText",moduleName:"Filter",defaultMessage:"\u53d6\u6d88"})})}),(0,u.jsx)(a.Col,{children:(0,u.jsx)(a.Button,{size:"small",type:"primary",disabled:x,onClick:()=>{j(!1),d&&d(!1),m&&m(g)},children:(0,u.jsx)(r.FormattedMessage,{id:"determineText",moduleName:"Filter",defaultMessage:"\u786e\u5b9a"})})})]})]}),children:(0,u.jsx)("span",{children:(0,u.jsx)(h,{open:f,active:(0,C.A)(t),label:n})})})};N.defaultProps={placeholder:"\u8bf7\u9009\u62e9",placement:"bottomLeft"};const w=N,G=e=>t=>{let{value:n,onChange:s,label:a,...l}=t;const[r,o]=(0,_.useState)(!1);return(0,u.jsx)(h,{label:a,open:r,active:(0,C.A)(n),children:(0,u.jsx)(e,{...l,className:i["filter-item-inner"],value:n,onChange:s,valueType:"all",onOpenChange:o})})};var k=n(22717),S=n.n(k);const F=e=>S()(e,((e,t)=>{let{name:n,value:s}=t;e[n]=Array.isArray(s)?s.map((e=>{let{value:t}=e;return t})):s.value}),{}),E=e=>{let{children:t,...n}=e;return t(n)};var O=n(12392),P=n(41654),R=n(93761),M=n(53392),A=n(45776),I=n(30509),T=n(96418),z=n.n(T);const L="style_scroll-loader__Rcuti__ujG5g",K="style_is-popup__pCRv2__ujG5g";var D=n(17342),H=n(1488),B=n.n(H),Y=n(15797),U=n.n(Y);const q=I.A.useContext,V=e=>{let{value:t,setValue:n,size:s}=e;const{fetchApi:l,props:r}=q(),i=z()(r.dataFormat),{single:o,isPopup:d,searchPlaceholder:m,...p}=r,h=(0,_.useRef)(r.fieldNames);h.current=r.fieldNames;const g=l.data,{treeData:y}=(0,_.useMemo)((()=>i(g,{fieldNames:h.current})),[i,g]);return(0,u.jsx)(a.Space,{direction:"vertical",size:16,children:(0,u.jsx)(D.A,{className:c()(L,{[K]:r.isPopup}),children:(0,u.jsx)(a.Tree,{...B()(p,["value","valueType","children","dataFormat"]),size:s,checkable:!o,treeData:y,onCheck:n,checkedKeys:t,onSelect:o?n:e=>{const t=e[0];void 0!==t&&n((e=>{const n=e.slice(0),s=n.indexOf(t);return s>-1?n.splice(s,1):n.push(t),n}))},selectedKeys:o?t:void 0})})})},W=e=>{let{maxLength:t,dataFormat:n,...s}=e;return(0,u.jsx)(I.A,{...s,dataFormat:e=>n(e,{fieldNames:s.fieldNames}),children:e=>{let{value:n,setValue:s}=e;return(0,u.jsx)(V,{size:t,value:n,setValue:s})}})};W.defaultProps={searchPlaceholder:"\u641c\u7d22",maxLength:Number.MAX_VALUE,size:"middle",isPopup:!0,checkStrictly:!1,dataFormat:(e,t)=>{let{fieldNames:n}=t;const s=U()(((e,t)=>{let{fieldNames:n}=t;const s=[],a=e=>{Array.isArray(e)&&e.length>0&&e.forEach((e=>{const t=e[j()(n,"key","key")],l=e[j()(n,"title","title")],r=e[j()(n,"children","children")];s.push({id:t,value:t,label:l}),a(r)}))};return a(e),s}));return{treeData:e,list:s(e,{fieldNames:n})}}};const J=W,Q=e=>{let{label:t,value:n,onChange:s,placeholder:l,onValidate:r,overlayClassName:o,placement:c,onOpenChange:d,...m}=e;return(0,u.jsx)(w,{label:t,value:n,onChange:s,onValidate:r,overlayClassName:o,placement:c,onOpenChange:d,children:e=>{let{value:n,onChange:s}=e;return(0,u.jsx)(a.Input,{...m,placeholder:l||"\u8bf7\u8f93\u5165".concat(t),className:i["filter-item-text"],value:j()(n,"value",""),onChange:e=>s(e.target.value?{label:e.target.value,value:e.target.value}:null)})}})};var Z=n(57469),X=n.n(Z);const $=G((e=>{let{value:t,onChange:n,picker:s,...l}=e;return(0,u.jsx)(a.DatePicker,{...l,picker:s,value:t&&X()(t.value),onChange:e=>{const{format:t}=Object.assign({format:"YYYY-MM-DD"},l);e&&n({label:"date"!==s?"".concat(e.startOf(s).format(t),"~").concat(e.endOf(s).format(t)):e.format(t),value:new Date(e.startOf(s).valueOf())})}})}));$.defaultProps="date";const ee=$,te=G((e=>{let{value:t,onChange:n,...s}=e;return(0,u.jsx)(a.DatePicker.RangePicker,{...s,allowEmpty:[!1,!1],value:t&&Array.isArray(t.value)&&2===t.value.length&&t.value.map((e=>X()(e))),onChange:e=>{const{format:t}=Object.assign({format:"YYYY-MM-DD"},s);n({label:e.map((e=>e.format(t))).join("~"),value:e.map((e=>new Date(e.valueOf())))})}})}));var ne=n(89319);const se=e=>{let{label:t,value:n,onChange:s,...a}=e;return(0,u.jsx)(w,{label:t,value:n,onChange:s,onValidate:e=>{const t=null===e||void 0===e?void 0:e.value;return(null===t||void 0===t?void 0:t.type)&&Array.isArray(null===t||void 0===t?void 0:t.value)&&2===t.value.length},children:e=>{let{value:t,onChange:n}=e;return(0,u.jsx)(ne.A,{...a,className:i["filter-item-text"],value:j()(t,"value"),onChange:e=>{const{format:t}=Object.assign({format:"YYYY-MM-DD"},a),s=(null===e||void 0===e?void 0:e.value)||[];n({label:s[0]&&!s[1]?"".concat(X()(s[0]).format(t),"\u4ee5\u540e"):!s[0]&&s[1]?"".concat(X()(s[1]).format(t),"\u4ee5\u524d"):s[0]&&s[1]?"".concat(X()(s[0]).format(t),"~").concat(X()(s[1]).format(t)):"",value:e})}})}})},ae=G(O.Ay),le=G(O.Eo),re=G(P.A),ie=G(M.A),oe=G(R.Ay),ce=G(A.Ay),de=G(J),ue=(me=Q,e=>{let{placeholder:t,label:n,...s}=e;return(0,u.jsx)(r.FormattedMessage,{id:"defaultInputPlaceholder",moduleName:"Filter",values:{label:n},children:e=>(0,u.jsx)(me,{...s,label:n,placeholder:t||e})})});var me,pe=n(10986),he=n.n(pe),_e=n(41740),ge=n.n(_e),ye=n(36),fe=n(55431);const je=e=>{const{extraExpand:t,className:n,...s}=e,[a,l]=he()(e),o=(0,_.useMemo)((()=>a.filter((e=>(0,ye.isNotEmpty)(e.value)))),[a]),d=(0,_.useMemo)((()=>new Map(o.map((e=>[e.name,e])))),[o]);return(0,u.jsx)(r.IntlProvider,{moduleName:"Filter",importMessages:fe.A,children:(0,u.jsx)(y,{value:{value:d,onChange:e=>{const t=ge()(d);e.value?t.set(e.name,e):t.delete(e.name),null===l||void 0===l||l(Array.from(t.values()))}},children:(0,u.jsxs)("div",{className:c()(i.filter,n),children:[(0,u.jsx)(b,{...s}),o&&o.length>0&&(0,u.jsx)(m,{value:o,onChange:l,extraExpand:t})]})})})};je.defaultProps={defaultValue:[]};const xe=je},55431:(e,t,n)=>{n.d(t,{A:()=>s});const s=e=>({"en-US":()=>n.e(1649).then(n.bind(n,21649)),"zh-CN":()=>n.e(711).then(n.bind(n,80711))}[e]())},75363:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_});const s=e=>({"en-US":()=>n.e(9431).then(n.bind(n,9431)),"zh-CN":()=>n.e(1065).then(n.bind(n,81065))}[e]());var a=n(58609),l=n(64671),r=n(55199),i=n(83136),o=n.n(i);const c="style_helper-guide__K5xFw__ujG5g",d="style_inner__bMKeU__ujG5g",u="style_content__xTfWZ__ujG5g",m="style_link__93j7O__ujG5g";var p=n(48731),h=n(70579);const _=e=>{let{name:t,className:n}=e;return(0,h.jsx)(a.IntlProvider,{importMessages:s,moduleName:"HelperGuide",children:(0,h.jsx)(p.default,{moduleName:"helperGuide",name:t,children:e=>e&&e.value&&(0,h.jsx)("div",{className:o()(c,n),children:(0,h.jsxs)(r.Space,{className:d,children:[(0,h.jsx)(l.default,{colorful:!0,type:"icon-color-bangzhuyindao"}),(0,h.jsx)("span",{className:u,children:e.content}),e.url&&(0,h.jsxs)(r.Typography.Link,{className:m,href:e.url,target:"_blank",children:["\u67e5\u770b\u5e2e\u52a9",(0,h.jsx)(l.default,{type:"icon-shuangjiantou-right"})]})]})})})})}},51516:(e,t,n)=>{n.r(t),n.d(t,{Affix:()=>R,Menu:()=>W.default,Page:()=>P,PermissionsPage:()=>V,StateBarPage:()=>X,TablePage:()=>Q,default:()=>U});var s=n(55199),a=n(73884);const l={menu:null,filter:null,menuOpen:!0,menuWidth:"240px",menuFixed:!0,menuCloseButton:!0,backgroundColor:null,header:null,headerHeight:0,headerFixed:!0,headerInfo:null,backUrl:null,title:null,titleExtra:null,titleLeftExtra:null,noMargin:!1,noPadding:!1,optionFooterHeight:0,option:null,optionWidth:"400px",optionNoPadding:!1,optionFixed:!0,optionFooter:null},r=(0,a.createContext)({}),{Provider:i,Consumer:o}=r,c=()=>(0,a.useContext)(r);var d=n(79329),u=n(76801),m=n(36755),p=n(19853),h=n.n(p),_=n(63361),g=n(83136),y=n.n(g);const f={layout:"style_layout__k+lxR__ujG5g","page-content":"style_page-content__4XeN8__ujG5g","page-main":"style_page-main__P0yEF__ujG5g","page-main-content":"style_page-main-content__1OVPN__ujG5g","table-page":"style_table-page__JkbLf__ujG5g","helper-guide":"style_helper-guide__vzw4z__ujG5g","page-outer":"style_page-outer__2a6iH__ujG5g","no-margin":"style_no-margin__S6caT__ujG5g","page-menu":"style_page-menu__CZSa9__ujG5g",closed:"style_closed__hmnft__ujG5g","page-menu-inner":"style_page-menu-inner__rmKpu__ujG5g","page-menu-main":"style_page-menu-main__OXg2M__ujG5g","page-option-main":"style_page-option-main__LyfT3__ujG5g","page-menu-main-outer":"style_page-menu-main-outer__yY+-Q__ujG5g","page-option":"style_page-option__diS2S__ujG5g","page-option-inner":"style_page-option-inner__Fj1JH__ujG5g","page-option-footer":"style_page-option-footer__d7xE0__ujG5g","fixed-container":"style_fixed-container__1VZwY__ujG5g","is-fixed":"style_is-fixed__1aQhp__ujG5g","page-menu-btn-outer":"style_page-menu-btn-outer__iVJiW__ujG5g","page-menu-btn":"style_page-menu-btn__BiTy8__ujG5g","page-title":"style_page-title__zw-Fd__ujG5g","page-title-text":"style_page-title-text__Rj4RC__ujG5g","no-padding":"style_no-padding__V7Dwy__ujG5g","page-header":"style_page-header__a813p__ujG5g","page-header-info":"style_page-header-info__cMrZR__ujG5g","layout-menu":"style_layout-menu__yiab0__ujG5g","sub-menu":"style_sub-menu__dyqK7__ujG5g","no-collapsed":"style_no-collapsed__76h8W__ujG5g","has-not-children":"style_has-not-children__fnjRK__ujG5g","table-page-top":"style_table-page-top__bt1l9__ujG5g","error-component":"style_error-component__HvghB__ujG5g","state-bar-page":"style_state-bar-page__+aUM4__ujG5g","back-icon":"style_back-icon__79v2G__ujG5g"};var j=n(70579);const x=e=>{let{className:t,isFixed:n,children:s}=e;return n?(0,j.jsx)("div",{className:y()(t,"fixed-container",f["fixed-container"],{[f["is-fixed"]]:n}),children:s}):(0,j.jsx)("div",{className:y()(t,"fixed-container",f["fixed-container"]),children:s})};var v=n(64671),b=n(17342),C=n(94679),N=n(33097),w=n.n(N),G=n(55490),k=n(25644);const S="CORE_PAGE_MENU_OPEN_KEY",F=()=>{const{pageProps:e,setPageProps:t}=c(),{menu:n,menuOpen:a,menuWidth:l,menuFixed:r,menuCloseButton:i}=e,o=(0,C.useLocation)().pathname.split("/")[1];return n?(0,j.jsxs)(s.Col,{className:y()(f["page-menu"],{[f.closed]:!a}),style:{"--width":l},children:[(0,j.jsx)(x,{className:f["page-menu-inner"],isFixed:r,children:(0,j.jsx)("div",{className:f["page-menu-main-outer"],children:(0,j.jsx)(b.A,{className:f["page-menu-main"],children:n})})}),i?(0,j.jsx)(x,{className:y()(f["page-menu-btn-outer"],{[f["is-fixed"]]:r}),isFixed:r,children:(0,j.jsx)(s.Button,{className:y()(f["page-menu-btn"],{[f.closed]:!a}),icon:a?(0,j.jsx)(v.default,{type:"icon-arrow-bold-left"}):(0,j.jsx)(v.default,{type:"icon-arrow-bold-right"}),onClick:()=>{t({menuOpen:!e.menuOpen});const n=k.A.getItem(S)||{};n[o]=!e.menuOpen,k.A.setItem(S,n),t({menuOpen:!e.menuOpen})}})}):null]}):null},E=e=>{let{children:t,isPass:n,...r}=e;const{setPageProps:i}=c(),o=(0,a.useRef)(null),d=(()=>{const e=(0,C.useLocation)().pathname.split("/")[1];return(0,a.useMemo)((()=>{const t=k.A.getItem(S)||{};return!(0,G.A)(w()(t,e))||w()(t,e)}),[e])})(),u=(0,a.useRef)(d);return u.current=d,(0,a.useEffect)((()=>{if(!h()(o.current,r)){o.current=r;const e=Object.assign({},l,r,"boolean"===typeof u.current?{menuOpen:u.current}:{});e.header&&0===e.headerHeight&&delete e.headerHeight,e.optionFooter&&0===e.optionFooterHeight&&delete e.optionFooter,i(e)}}),[r,i]),!1===n?(0,j.jsx)(s.Result,{status:"403",subTitle:"\u6682\u672a\u5f00\u653e\u6b64\u529f\u80fd"}):t},O=e=>{let{featureId:t,name:n,openFeatures:s,...l}=e;return!0===s?(0,j.jsx)(_.default,{id:n,children:e=>{let{isPass:t}=e;return(0,a.createElement)(E,{...l,key:n,isPass:t})}}):(0,a.createElement)(E,{...l,key:n})};O.defaultProps=l;const P=O,R=e=>{let{isFixed:t,offsetTop:n,offsetBottom:a,onChange:l,...r}=e;return t?(0,j.jsx)(s.Affix,{...r,offsetTop:Number.isInteger(n)?n-.1:n,offsetBottom:a,onChange:l}):(0,j.jsx)("div",{...r})},M=e=>{let{targetKey:t,...n}=e;const s=(e=>{let{targetKey:t}=e;const{setPageProps:n}=c(),s=(0,a.useRef)(null);return(0,a.useLayoutEffect)((()=>{const e=()=>{n({[t]:s.current.offsetHeight})};e();const a=new MutationObserver(e);return a.observe(s.current,{subtree:!0,childList:!0}),()=>{a.disconnect()}}),[n,t]),s})({targetKey:t});return(0,j.jsx)("div",{...n,ref:s})},A=()=>{const{pageProps:e}=c(),{header:t,headerFixed:n}=e;return t?(0,j.jsx)(R,{isFixed:n,className:f["page-header"],offsetTop:d.navigationHeight,children:(0,j.jsx)(M,{targetKey:"headerHeight",children:t})}):null},I=()=>{const{pageProps:e}=c(),{headerInfo:t}=e,n=(0,a.useRef)(null);return t?(0,j.jsx)("div",{ref:n,className:y()(f["page-header-info"],"page-header-info"),children:t}):null};var T=n(78016);const z=e=>{let{title:t,filter:n,titleExtra:a,titleLeftExtra:l,backUrl:r}=e;const i=(0,C.useNavigate)();return n?(0,j.jsx)(T.default,{className:f["page-title"],...n,extra:a}):t||l||a?(0,j.jsxs)(s.Row,{justify:"space-between",align:"middle",className:f["page-title"],children:[(0,j.jsx)(s.Col,{children:(0,j.jsxs)(s.Space,{children:[t?(0,j.jsx)("div",{className:f["page-title-text"],children:r?(0,j.jsxs)(s.Space,{children:[(0,j.jsx)("span",{className:f["back-icon"],onClick:()=>{i(r)},children:(0,j.jsx)(v.default,{type:"icon-arrow-thin-left"})}),(0,j.jsx)("span",{children:t})]}):t}):null,l||null]})}),(0,j.jsx)(s.Col,{children:a})]}):null},L=()=>{const{pageProps:e}=c(),{option:t,optionWidth:n,optionFixed:a,optionFooter:l,optionFooterHeight:r,optionNoPadding:i}=e;return t?(0,j.jsx)(s.Col,{className:y()(f["page-option"],"page-option"),style:{"--width":n,"--foot-height":r+"px"},children:(0,j.jsxs)(x,{className:f["page-option-inner"],isFixed:a,children:[(0,j.jsx)(b.A,{className:y()(f["page-option-main"],"page-option-main"),style:{padding:i?"0px":"var(--padding-width)"},children:t}),l?(0,j.jsx)(M,{className:f["page-option-footer"],targetKey:"optionFooterHeight",children:(0,j.jsx)(s.Space,{align:"center",children:l})}):null]})}):null};var K=n(75363);const{Content:D}=s.Layout,H=()=>(0,j.jsx)(s.Alert,{message:"\u7cfb\u7edf\u51fa\u4e86\u70b9\u5c0f\u95ee\u9898\uff0c\u53ef\u5237\u65b0\u9875\u9762\u8fdb\u884c\u89e3\u51b3",showIcon:!0,type:"error",action:(0,j.jsx)(s.Button,{size:"small",danger:!0,onClick:()=>window.location.reload(),children:"\u5237\u65b0"})}),B=e=>(0,j.jsx)(m.A,{...e,errorComponent:H}),Y=e=>{let{children:t,theme:n,navigation:r}=e;const[o,c]=(0,a.useState)(0),[m,p]=(0,a.useState)(Object.assign({},l)),h=(0,a.useCallback)((e=>p((t=>Object.assign({},t,e)))),[]);return(0,a.useEffect)((()=>{const e=(0,u.h)(),t=()=>{c(e.scrollLeft)};return e.addEventListener("scroll",t),()=>{e.removeEventListener("scroll",t)}}),[]),(0,j.jsxs)(s.Layout,{className:f.layout,style:Object.assign({},{"--nav-height":d.navigationHeight+"px","--nav-height-base":"var(--nav-height)","--scroll-left":-o+"px"},n),children:[r&&(0,j.jsx)(B,{children:(0,j.jsx)(d.default,{...r,onChange:e=>{(null===r||void 0===r?void 0:r.onChange)&&r.onChange(e)}})}),(0,j.jsx)(B,{children:(0,j.jsx)(D,{className:f["layout-content-wrap"],children:(0,j.jsxs)(i,{value:{pageProps:m,setPageProps:h},children:[(0,j.jsx)(B,{children:(0,j.jsx)(A,{})}),(0,j.jsx)(B,{children:(0,j.jsx)(I,{})}),(0,j.jsx)(B,{children:(0,j.jsxs)(s.Row,{className:y()(m.className,f["page-outer"]),wrap:!1,style:{"--nav-height":"calc(".concat(m.headerHeight,"px + var(--nav-height-base))"),"--nav-only-height":"var(--nav-height-base)"},children:[(0,j.jsx)(B,{children:(0,j.jsx)(F,{})}),(0,j.jsx)(s.Col,{className:y()(f["page-content"],{[f["no-margin"]]:m.noMargin}),flex:1,style:{"--background-color":m.backgroundColor},children:(0,j.jsxs)("div",{className:f["page-main"],children:[(0,j.jsx)(B,{children:(0,j.jsx)(z,{title:m.title,backUrl:m.backUrl,filter:m.filter,titleExtra:m.titleExtra,titleLeftExtra:m.titleLeftExtra})}),(0,j.jsx)("div",{className:y()(f["page-main-content"],{[f["no-padding"]]:m.noPadding}),children:(0,j.jsxs)(B,{children:[m.helperGuideName&&(0,j.jsx)(K.default,{className:f["helper-guide-page"],name:m.helperGuideName}),t]})})]})}),(0,j.jsx)(B,{children:(0,j.jsx)(L,{})})]})})]})})})]})};Y.defaultProps={navigation:{}};const U=Y;var q=n(29053);const V=e=>{let{permissions:t,...n}=e;return(0,j.jsx)(q.default,{...Object.assign({},t,{type:"error"}),children:(0,j.jsx)(P,{...n})})};var W=n(28148),J=n(75698);const Q=(0,a.forwardRef)(((e,t)=>{let{helperGuideName:n,permissions:s,page:l,openFeatures:r,name:i,topArea:o,...c}=e;const[d,u]=(0,a.useState)(null);return(0,j.jsxs)(V,{name:i,openFeatures:r,permissions:s,...l,children:[o?(0,j.jsx)("div",{className:f["table-page-top"],children:"function"===typeof o?o(d):o}):null,(0,j.jsxs)("div",{className:f["table-page"],children:[n&&(0,j.jsx)(K.default,{className:y()("helper-guide",f["helper-guide"]),name:n}),(0,j.jsx)(J.TablePage,{...c,ref:t,name:i,onRequestSuccess:e=>{u(e)}})]})]})}));var Z=n(87227);const X=e=>{let{helperGuideName:t,permissions:n,page:s,stateBar:a,children:l,...r}=e;return(0,j.jsxs)(V,{...s,permissions:n,...r,children:[(0,j.jsx)("div",{className:f["state-bar-page"],children:(0,j.jsx)(Z.default,{...a})}),t&&(0,j.jsx)(K.default,{className:f["helper-guide"],name:t}),l]})}},28148:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});const s={menu:"style_menu__gvIvn__ujG5g","all-no-start-icon":"style_all-no-start-icon__CA+zR__ujG5g","no-start-icon":"style_no-start-icon__LnC1S__ujG5g","has-children":"style_has-children__m9tce__ujG5g","has-children-node":"style_has-children-node__2bhEB__ujG5g","is-root":"style_is-root__4hhOc__ujG5g",title:"style_title__+Hcar__ujG5g",active:"style_active__WU49K__ujG5g","no-collapse":"style_no-collapse__aIZBM__ujG5g","title-content":"style_title-content__cQXpK__ujG5g",loading:"style_loading__1pU4P__ujG5g"};var a=n(83136),l=n.n(a),r=n(55199),i=n(94679),o=n(29053),c=n(10986),d=n.n(c),u=n(64671),m=n(73884),p=n(18081),h=n.n(p),_=n(87558),g=n(70579);const y=e=>{const t=(0,i.useNavigate)(),{id:n,className:a,label:c,iconType:d,path:m,request:p,onClick:h,isOpen:y,isSelected:f,onOpenChange:j,children:x,fetchOptions:v,depth:b,onLoad:C,allowCollapsed:N}=e,w=Array.isArray(x)&&x.length>0||v,{refresh:G,isLoading:k}=(0,_.useFetch)(Object.assign({},v,{auto:!N&&v,onRequestSuccess:e=>{C(e)}}));return(0,g.jsx)(o.default,{request:p,children:(0,g.jsxs)("div",{className:l()(a,s["menu-item"]),children:[(0,g.jsxs)("div",{className:l()(s.title,{[s.active]:f,[s["has-children"]]:w,[s["no-collapse"]]:w&&!N,[s["no-start-icon"]]:!d,[s["is-root"]]:0===b}),onClick:s=>{s.stopPropagation(),w||!m?w||v?N&&(v&&G({}),j(!y)):null===h||void 0===h||h(n,e):t(m)},children:[d&&(0,g.jsx)(u.default,{type:d}),(0,g.jsx)("span",{className:s["title-content"],children:c}),w&&N&&(0,g.jsx)(u.default,{type:y?"icon-arrow-bold-down":"icon-arrow-bold-right"})]}),w?!N||y&&x?(0,g.jsx)("div",{className:s["children-list"],children:x}):!N||y&&k?(0,g.jsx)("div",{className:s["children-list"],children:(0,g.jsx)(r.Spin,{className:s.loading,size:"small"})}):void 0:null]})})},f=e=>{let{className:t,allowCollapsed:n,...a}=e;const{pathname:r,search:o}=(0,i.useLocation)(),[c,u]=d()(a,{value:"currentKey",defaultValue:"defaultCurrentKey"}),[p,_]=d()(a,{defaultValue:"defaultItems",value:"items",onChange:"onItemsChange"}),{items:f,defaultOpenKeys:j,links:x,childrenKeys:v,hasStartIcon:b,hasChildren:C}=(0,m.useMemo)((()=>{var e;const{items:t,childrenKeys:n,nodeMapping:s}=(e=>{const t={},n=[],s=(e,a)=>{const{parentKey:l,depth:r}=Object.assign({parentKey:"root",depth:0,paths:[]},a);return Array.isArray(e)&&e.length>0?e.map(((e,a)=>{const i="".concat(e.key||"".concat("root"!==l?"".concat(l,"-"):"","node-").concat(a));t[l]||(t[l]=[]),t[l].push(i);const o=s(e.children,{parentKey:i,depth:r+1});t[i]&&t[l].push(...t[i]);const c=Object.assign({},e,{key:i,parentKey:l,depth:r,children:o,originItem:e});return n[i]=c,c})):null};return{items:s(e),childrenKeys:t,nodeMapping:n}})(p);let a=!1,l=!1;const r=[],i=[];return null===n||void 0===n||null===(e=n.root)||void 0===e||e.forEach((e=>{const t=s[e];t.iconType&&(a=!0),t.path&&r.push({path:t.path,key:e}),Array.isArray(t.children)&&t.children.length>0&&(l=!0,i.push(t.key))})),{defaultOpenKeys:i,links:r,items:t,childrenKeys:n,hasStartIcon:a,hasChildren:l}}),[p]);(0,m.useEffect)((()=>{const e=x.find((e=>{let{path:t}=e;return h()(r.replace(/[#,?].*/,""))===h()(t)||h()(r+o)===h()(t)}));e&&u(e.key)}),[x,r,o,u]);const[N,w]=d()(Object.assign({},a,{defaultOpenKeys:a.defaultOpenKeys||j}),{value:"openKeys",defaultValue:"defaultOpenKeys",onChange:"onOpenChange"}),G=(0,m.useCallback)(((e,t)=>{const{parentKey:s,depth:a,selectedKey:l,openKeys:r,paths:i}=Object.assign({parentKey:null,depth:0,paths:[]},t);return Array.isArray(e)&&e.length>0?e.map((e=>{let{children:t,key:o,originItem:c,...d}=e;return(0,m.createElement)(y,{...Object.assign({},d),id:o,parentId:s,depth:a,allowCollapsed:n,isSelected:o===l||v[o]&&v[o].indexOf(l)>-1,onClick:u,onLoad:e=>{_((t=>{const n=t=>Array.isArray(t)&&t.length>0?t.map((t=>Object.assign({},t,{children:c===t?e:n(t.children)}))):null;return n(t)}))},isOpen:(r||[]).indexOf(o)>-1,key:o,onOpenChange:()=>{w((e=>{const t=e.slice(0);return e.indexOf(o)>-1?t.splice(e.indexOf(o),1):t.push(o),t}))}},G(t,{parentKey:s,depth:a+1,selectedKey:l,openKeys:r,paths:[...i,o]}))})):null}),[_,w,u,v,n]);return(0,g.jsx)("div",{className:l()(t,s.menu,{[s["all-no-start-icon"]]:!b,[s["has-children-node"]]:C}),children:G(f,{selectedKey:c,openKeys:N})})};f.defaultProps={defaultItems:[],allowCollapsed:!0};const j=f},79329:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S,navigationHeight:()=>w});var s=n(55199),a=n(94679),l=n(33097),r=n.n(l),i=n(73884),o=n(83136),c=n.n(o);const d=n.p+"static/media/favicon.477a5bb996fd5b367fe0dddc29f67824.svg";var u=n(40438);const m=e=>({"en-US":()=>n.e(257).then(n.bind(n,30257)),"zh-CN":()=>n.e(5671).then(n.bind(n,5671))}[e]());var p=n(58609),h=n(64671);const _="style_navigation-wrap__VF8x2__ujG5g",g="style_navigation__60RrS__ujG5g",y="style_is-fixed__kHFWj__ujG5g",f="style_navigation-logo__q9qHu__ujG5g",j="style_logo__lB9RC__ujG5g",x="style_navigation-list__EYtkg__ujG5g",v="style_navigation-options__0BdJU__ujG5g",b="style_more-icon__gNMnt__ujG5g";var C=n(70579);const{Header:N}=s.Layout,w=48,G=e=>{let{name:t,mapping:n,defaultTitle:s}=e;const a=(0,i.useRef)({mapping:n,defaultTitle:s});return(0,i.useEffect)((()=>{const e=r()(a.current.mapping.get(t),"title");document.title=(e?e+"-":"")+a.current.defaultTitle}),[t]),null},k=e=>{let{permissions:t,list:n,headerLogo:l,rightOptions:o,isFixed:w,showIndex:k,indexLabel:S,defaultTitle:F,overflowedIndicator:E,base:O,onChange:P,className:R}=e;const M=(0,i.useMemo)((()=>new Map(n.map((e=>{let{key:t,...n}=e;return[t,n]})))),[n]),A=(0,a.useNavigate)(),I=(0,a.useLocation)(),T=(0,i.useRef)(),z=(0,i.useRef)(null),[L,K]=(0,i.useState)("\u66f4\u591a"),D=I.pathname.replace(new RegExp("^".concat(O)),"").split("/")[1],H=D?r()(Array.from(M.entries()).find((e=>{let[n,{path:s,permission:a}]=e;return-1!==("function"===typeof s?s(a,t):s).indexOf("/"+D)})),"[0]"):"home";(0,i.useEffect)((()=>{const e=()=>{if(T.current){const e=T.current.querySelectorAll("li[data-menu-id]");let t=!1;for(let s=0;s<e.length;s++){if(-1!==e[s].getAttribute("data-menu-id").indexOf(H)){t=!0;break}}let n=M.get(H)&&!t?r()(M.get(H),"title"):"";K(n)}},t={attributes:!0,childList:!0,subtree:!0};return T&&T.current&&(e(),z.current&&z.current.disconnect(),z.current=new MutationObserver(e),z.current.observe(T.current,t)),()=>{z.current&&z.current.disconnect()}}),[H,M]);const B=!!k&&{label:S||(0,C.jsx)(p.FormattedMessage,{id:"indexLabel",moduleName:"Navigation"}),key:"home",onClick:()=>{P&&P("/"),setTimeout((()=>{A("/")}),0)}};return(0,C.jsxs)(p.IntlProvider,{importMessages:m,moduleName:"Navigation",children:[(0,C.jsx)(p.FormattedMessage,{id:"defaultTitle",moduleName:"Navigation",children:e=>(0,C.jsx)(G,{defaultTitle:F||e,mapping:M,name:H})}),(0,C.jsx)("div",{className:c()(_,R),children:(0,C.jsx)(N,{className:c()("navigation",g,{[y]:w}),children:(0,C.jsxs)(s.Row,{justify:"space-around",wrap:!1,children:[(0,C.jsx)(s.Col,{className:c()("navigation-logo",f),children:(0,C.jsx)(u.default,{className:c()(j),src:d,alt:"logo",...l})}),(0,C.jsx)(s.Col,{ref:T,flex:1,className:c()("navigation-list",x),children:(0,C.jsx)(s.Menu,{selectedKeys:[H],mode:"horizontal",overflowedIndicator:E||(0,C.jsxs)(s.Space,{size:4,children:[(0,C.jsx)("span",{children:L||(0,C.jsx)(p.FormattedMessage,{id:"overflowedIndicator",moduleName:"Navigation"})}),(0,C.jsx)("span",{className:b,children:(0,C.jsx)(h.default,{type:"icon-arrow-thin-down"})})]}),items:[B,...Array.from(M.entries()).filter((e=>{let[n,{permission:s}]=e;if("string"===typeof s)return t.indexOf(s)>-1;if("function"===typeof s)return s(t);if(Array.isArray(s)){for(let e of s)if(t.indexOf(e)>-1)return!0;return!1}return!0})).map((e=>{let[n,{title:s,path:a,permission:l}]=e;const r="function"===typeof a?a(l,t):a;return{label:s,key:n,onClick:()=>{P&&P(r),setTimeout((()=>{A(r)}),0)}}}))]})}),(0,C.jsx)(s.Col,{className:v,children:o})]})})})]})};k.defaultProps={isFixed:!0,permissions:[],list:[],showIndex:!0,base:""};const S=k},29053:(e,t,n)=>{n.r(t),n.d(t,{computedIsPass:()=>m,default:()=>g,usePermissions:()=>p,usePermissionsPass:()=>h});var s=n(73884),a=n(55199),l=n(33097),r=n.n(l),i=n(83136),o=n.n(i);const c="style_outer__vbHB9__ujG5g";var d=n(83694),u=n(70579);const m=e=>{let{permissions:t,request:n}=e;return!(Array.isArray(n)&&n.length>0)||n.some((e=>(t||[]).indexOf(e)>-1))},p=()=>{const e=(0,d.useGlobalContext)();return{permissions:r()(e,"global.accountInfo.permissions",[])}},h=e=>{let{request:t}=e;const{permissions:n}=p();return m({permissions:n,request:t})},_=e=>{let{type:t,className:n,tagName:l,message:r,request:i,children:d,...m}=e;const p=h({request:i});return"function"===typeof d?d({isPass:p,type:t,request:i}):!0===p?d:"error"===t?(0,u.jsx)(a.Result,{status:"403",subTitle:r}):"tooltip"===t?(0,u.jsx)(a.Tooltip,{title:r,children:(0,s.createElement)(l,{...m,className:o()(c,n)},d)}):null};_.defaultProps={type:"hidden",tagName:"span",message:"\u60a8\u6682\u65e0\u6743\u9650\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458"};const g=_},87227:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});var s=n(55199),a=n(83136),l=n.n(a);const r={"state-bar":"style_state-bar__3jfis__ujG5g","has-children":"style_has-children__oQDqU__ujG5g","tab-tab-control":"style_tab-tab-control__SopeO__ujG5g","tab-radio-control":"style_tab-radio-control__R8X6-__ujG5g","tab-step-control":"style_tab-step-control__EQaCl__ujG5g","inner-state-bar":"style_inner-state-bar__lWmOz__ujG5g"};var i=n(70579);const o=e=>{let{className:t,type:n="tab",stateOption:a=[],isInner:o,...c}=e;return(0,i.jsx)(s.Tabs,{...c,"data-testid":"components-core-state-bar",className:l()(r["state-bar"],r["tab-".concat(n,"-control")],t,{[r["inner-state-bar"]]:o,[r["has-children"]]:a.some((e=>!!e.children))}),style:{"--total-count":a.length},animated:!1,items:a.map((e=>{let{tab:t,label:n,key:s,...a}=e;return{label:t||n,key:s,...a}}))})}},62716:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var s=n(73884),a=n(83136),l=n.n(a);const r={"state-tag":"style_state-tag__Kx27z__ujG5g","state-result-tag":"style_state-result-tag__CssDz__ujG5g","state-skill-tag":"style_state-skill-tag__k0bQE__ujG5g","state-tag-filter-result-wrapper":"style_state-tag-filter-result-wrapper__QYS5z__ujG5g","state-tag-filter-name":"style_state-tag-filter-name__iJaJd__ujG5g","state-tag-filterResult":"style_state-tag-filterResult__KTkot__ujG5g","show-bg":"style_show-bg__OcL+R__ujG5g","tag-text":"style_tag-text__JHCt+__ujG5g","state-tag-wrapper":"style_state-tag-wrapper__A-gTE__ujG5g"};var i=n(55199),o=n(70579);const c={default:"#666666",skill:{color:"#666666",borderColor:"#EEEEEE"},result:"#666666",filterResult:"#5CB8B2",success:"#027A48",progress:"#F09700",danger:"#D14343",info:"#155ACF",other:"#6740C3"},d=e=>{let{showBorder:t,text:n,type:a,showBackground:d,className:u,filterName:m,...p}=e;const h=(0,s.useMemo)((()=>{var e,t;return{color:(null===c||void 0===c||null===(e=c[a])||void 0===e?void 0:e.color)||c[a],borderColor:(null===c||void 0===c||null===(t=c[a])||void 0===t?void 0:t.borderColor)||c[a]}}),[a]);return(0,o.jsxs)(i.Space,{"data-testid":"components-core-state-tag",className:l()(r["state-tag-wrapper"],"filterResult"===a?r["state-tag-filter-result-wrapper"]:""),align:"center",size:4,children:[m?(0,o.jsxs)("span",{className:r["state-tag-filter-name"],children:[m,":"]}):null,(0,o.jsx)(i.Tag,{color:h.color,...p,style:{background:d?h.color+"0F":"none",color:h.color,border:t?"1px solid ".concat(h.borderColor):"none"},className:l()(r["state-tag"],u,"result"===a?r["state-result-tag"]:"","skill"===a?r["state-skill-tag"]:"",r["state-tag-".concat(a)],d?r["show-bg"]:"",t?r["show-border"]:""),children:(0,o.jsx)("span",{className:r["tag-text"],children:n})})]})};d.defaultProps={color:"#666666",type:"default",showBorder:!1,showBackground:!0,text:"",className:""};const u=d},75698:(e,t,n)=>{n.r(t),n.d(t,{TablePage:()=>Se,default:()=>ve});const s={table:"style_table__z7kfz__ujG5g","is-resize":"style_is-resize__ut6RW__ujG5g","is-moving":"style_is-moving__BJ9wR__ujG5g","cell-resize-bar":"style_cell-resize-bar__-mlUF__ujG5g","is-computed":"style_is-computed__B9rIF__ujG5g","options-btn":"style_options-btn__U3uoy__ujG5g","options-width-container":"style_options-width-container__vYglB__ujG5g","options-hidden-container":"style_options-hidden-container__AUoRo__ujG5g","options-hidden-inner":"style_options-hidden-inner__xf-uk__ujG5g",tooltip:"style_tooltip__vJlkv__ujG5g","table-changer-setting":"style_table-changer-setting__HcrwR__ujG5g","width-changer-sign":"style_width-changer-sign__Aflyl__ujG5g","columns-control":"style_columns-control__5-5ZF__ujG5g","columns-control-content":"style_columns-control-content__MoeUI__ujG5g","columns-control-content-title":"style_columns-control-content-title__P5sXV__ujG5g","columns-control-content-scroller":"style_columns-control-content-scroller__CeYRV__ujG5g","columns-control-content-footer":"style_columns-control-content-footer__0bQWm__ujG5g","columns-control-content-input":"style_columns-control-content-input__G6yKq__ujG5g","columns-control-content-list":"style_columns-control-content-list__aXvTs__ujG5g","columns-control-content-item":"style_columns-control-content-item__jbyyE__ujG5g","is-drag":"style_is-drag__U68aw__ujG5g","columns-control-content-item-icon":"style_columns-control-content-item-icon__yJqZf__ujG5g","sortable-drag":"style_sortable-drag__K5hWd__ujG5g","sortable-ghost":"style_sortable-ghost__lKTd2__ujG5g","columns-control-overlay":"style_columns-control-overlay__OxCIz__ujG5g","sort-btn":"style_sort-btn__KvNLr__ujG5g","sort-active-desc":"style_sort-active-desc__TIhMC__ujG5g","sort-icon":"style_sort-icon__dB85I__ujG5g","sort-active-asc":"style_sort-active-asc__RUBup__ujG5g"};var a=n(55199),l=n(73884),r=n(83136),i=n.n(r),o=n(42787),c=n(76801),d=n(77964),u=n(96418),m=n.n(u);const p={"col-item":"columns_col-item__Ym1Ec__ujG5g",tag:"columns_tag__bQZLG__ujG5g",avatar:"columns_avatar__SLPI+__ujG5g",hover:"columns_hover__oAwHg__ujG5g",primary:"columns_primary__6KtaA__ujG5g",loading:"columns_loading__gtBay__ujG5g",options:"columns_options__WvDZD__ujG5g"};var h=n(57469),_=n.n(h),g=n(64671),y=n(81014),f=n(58407),j=n(3382),x=n(70579);const v=e=>{let{className:t,list:n,width:r}=e;const[o,c]=(0,l.useState)(n.length),u=(0,j.useConfirmModal)(),m=()=>{const e=h.current;if(!e)return;const t=e.querySelectorAll(".option-item");if(!t)return;const n=t.length;if(0===t.length)return;const s=p.current.clientWidth;let a=0,r=0,i=[].map.call(t,(e=>e.offsetWidth));for(;s>=r+i[a]+8*a&&a<n;)r+=i[a],a+=1;for(;s<r+8*(a-1)+(a<n?40:0)&&a>0;)r-=i[a-1],a-=1;(0,l.startTransition)((()=>{c(a)}))},p=(0,d.A)(m),h=(0,d.A)(m),_=n.slice(o),v=(e,t)=>{let{className:n,confirm:a,...r}=e;const o=a||r.message,c=o?f.default:y.default;return(0,l.createElement)(c,{danger:o&&!1!==r.isDelete,...r,key:t,className:i()("option-item","btn-no-padding",s["options-btn"],n),type:"link"})};return(0,x.jsxs)("div",{className:i()(t),style:{"--max-width":r+"px"},children:[(0,x.jsx)("div",{className:s["options-width-container"],ref:p}),(0,x.jsx)("div",{className:s["options-hidden-container"],children:(0,x.jsx)("div",{className:s["options-hidden-inner"],ref:h,children:(0,x.jsx)(a.Space,{children:n.map(v)})})}),(0,x.jsxs)(a.Space,{children:[n.slice(0,o).map(v),_.length>0&&(0,x.jsx)(a.Dropdown,{menu:{items:_.map(((e,t)=>{let{children:n,confirm:s,message:a,onClick:l,title:r,isDelete:i,okText:o,...c}=e;return{...c,key:t,label:n,onClick:()=>{u({danger:!1!==i,type:"confirm",title:r,message:a||"\u786e\u5b9a\u8981\u5220\u9664\u5417?",onOk:l,okText:o||!1!==i&&"\u5220\u9664"})}}}))},children:(0,x.jsx)(a.Button,{icon:(0,x.jsx)(g.default,{type:"icon-gengduo2"}),className:"btn-no-padding",type:"link"})})]})]})};var b=n(62716),C=n(40438),N=n(48731),w=n(87558);const G=e=>{let{children:t,ellipsis:n}=e;return(0,x.jsx)(a.Typography.Text,{ellipsis:n&&Object.assign({},{tooltip:{overlayClassName:s.tooltip,children:t}}),children:t})},k=e=>{let{type:t,item:n,isEmpty:s,emptyRender:a,hover:r,primary:o,children:c,width:d,style:u,onClick:m,colValue:h}=e;const[_,g]=(0,l.useState)(!1);return(0,x.jsx)("div",{style:Object.assign({},u,{"--max-width":d+"px"}),className:i()(p["col-item"],p[t],s?null:{[p.hover]:r,[p.primary]:o,[p.loading]:_}),onClick:e=>{"function"!==typeof m||s||_||(g(!0),Promise.resolve(m({item:n,colItem:h,event:e})).finally((()=>{g(!1)})))},children:s?a({type:t,item:n,hover:r,primary:o,children:c}):c})};k.defaultProps={emptyRender:()=>"-"};const S=k,F=(0,w.createWithFetch)({loading:null})((e=>{let{data:t,children:n}=e;return n(t)})),E=e=>{let{api:t,expand:n,onExpand:s,ellipsis:l,hover:r,primary:i,emptyRender:o,isEmpty:c}=e;return n?(0,x.jsx)(F,{...t,children:e=>(0,x.jsx)(S,{type:"hide-info-expand",item:e,hover:r,primary:i,emptyRender:o,isEmpty:c,children:(0,x.jsx)(G,{ellipsis:l,children:"function"===typeof t.children?t.children(e):e})})}):(0,x.jsx)(S,{type:"hide-info",primary:!0,isEmpty:c,emptyRender:o,children:(0,x.jsx)(a.Button,{className:"btn-no-padding",type:"link",onClick:s,children:"\u67e5\u770b"})})};var O=n(1488),P=n.n(O);const R=(e,t)=>{let{hover:n,primary:s,ellipsis:a,emptyRender:l,isEmpty:r,...i}=t;return(0,x.jsx)(S,{...i,type:"other",item:e,hover:n,primary:s,emptyRender:l,isEmpty:r,children:(0,x.jsx)(G,{ellipsis:a,children:e})})},M={date:{render:(e,t)=>{let{hover:n,primary:s,isEmpty:a,emptyRender:l,...r}=t;return(0,x.jsx)(S,{...r,type:"date",item:e,primary:s,hover:n,emptyRender:l,isEmpty:a||!_()(e).isValid(),children:_()(e).format("YYYY-MM-DD")})},width:160,min:120,max:400},dateShort:{render:(e,t)=>{let{hover:n,primary:s,isEmpty:a,emptyRender:l,...r}=t;return(0,x.jsx)(S,{...r,type:"date-short",item:e,primary:s,hover:n,emptyRender:l,isEmpty:a||!_()(e).isValid(),children:_()(e).format("YYYY-MM")})},width:120,min:100,max:400},dateRange:{render:(e,t)=>{let{hover:n,primary:s,isEmpty:a,emptyRender:l,...r}=t;return(0,x.jsx)(S,{...r,type:"date-range",item:e,primary:s,hover:n,emptyRender:l,isEmpty:a,children:_()(null===e||void 0===e?void 0:e[0]).format("YYYY-MM-DD HH:mm")+"-"+_()(null===e||void 0===e?void 0:e[1]).format("HH:mm")})},width:240,min:120,max:400},datetime:{render:(e,t)=>{let{hover:n,primary:s,emptyRender:a,isEmpty:l,hideSecond:r,...i}=t;return(0,x.jsx)(S,{...i,item:e,primary:s,hover:n,emptyRender:a,isEmpty:l||!_()(e).isValid(),children:_()(e).format(r?"YYYY-MM-DD HH:mm":"YYYY-MM-DD HH:mm:ss")})},width:190,min:190,max:400},serialNumber:{render:(e,t)=>{let{hover:n,primary:s,emptyRender:a,isEmpty:l,...r}=t;return(0,x.jsx)(S,{...r,type:"serial-number",item:e,primary:s,hover:n,emptyRender:a,isEmpty:l,children:e})},width:190,min:100,max:400},serialNumberShort:{render:(e,t)=>{let{hover:n,primary:s,emptyRender:a,isEmpty:l,...r}=t;return(0,x.jsx)(S,{...r,type:"serial-number-short",item:e,primary:s,hover:n,emptyRender:a,isEmpty:l,children:e})},width:120,min:100,max:400},user:{render:(e,t)=>{let{hover:n,primary:s,ellipsis:a,emptyRender:l,isEmpty:r,...i}=t;return(0,x.jsx)(S,{...i,type:"user",item:e,primary:s,hover:n,emptyRender:l,isEmpty:r,children:(0,x.jsx)(G,{ellipsis:a,children:e})})},width:200,min:120,max:400},userName:{render:(e,t)=>{let{hover:n,primary:s,ellipsis:a,emptyRender:l,isEmpty:r,...i}=t;return(0,x.jsx)(S,{...i,type:"user-name",item:e,primary:s,hover:n,emptyRender:l,isEmpty:r,children:(0,x.jsx)(G,{ellipsis:a,children:e})})},width:100,min:100,max:400},contacts:{render:(e,t)=>{let{hover:n,primary:s,ellipsis:a,emptyRender:l,isEmpty:r,...i}=t;return(0,x.jsx)(S,{...i,type:"contacts",item:e,primary:s,hover:n,emptyRender:l,isEmpty:r,children:(0,x.jsx)(G,{ellipsis:a,children:e})})},width:240,min:160,max:400},tag:{render:(e,t)=>{let{emptyRender:n,isEmpty:s,...a}=t;return(0,x.jsx)(S,{...a,type:"tag",item:e,emptyRender:n,isEmpty:s,children:e&&(e.isEnum?(0,x.jsx)(N.default,{name:e.name,moduleName:e.moduleName,force:e.force,children:t=>{let{type:n,description:s}=t;return(0,x.jsx)(b.default,{type:n,...Object.assign({},P()(e,["name","isEnum","moduleName","force"])),text:s})}}):(0,x.jsx)(b.default,{...Object.assign({},e)}))})},width:140,min:100,max:400},avatar:{render:(e,t)=>{let{emptyRender:n,isEmpty:s,...a}=t;return(0,x.jsx)(S,{...a,type:"avatar",item:e,emptyRender:n,isEmpty:s,children:(0,x.jsx)(C.default.Avatar,{...Object.assign({},e),size:32})})},width:80,min:64,max:200},singleRow:{render:(e,t)=>{let{hover:n,primary:s,ellipsis:a,emptyRender:l,isEmpty:r,...i}=t;return(0,x.jsx)(S,{...i,type:"single-row",item:e,hover:n,primary:s,emptyRender:l,isEmpty:r,children:(0,x.jsx)(G,{ellipsis:a,children:e})})},width:70,min:70,max:400},hideInfo:{render:(e,t)=>(0,x.jsx)(E,{api:e,...t}),width:120,min:80,max:400},mainInfo:{render:(e,t)=>{let{ellipsis:n,hover:s=!0,primary:a=!0,emptyRender:l,isEmpty:r,...i}=t;return(0,x.jsx)(S,{...i,type:"main-info",item:e,hover:s,primary:a,emptyRender:l,isEmpty:r,children:(0,x.jsx)(G,{ellipsis:n,children:e})})},width:300,min:160,max:500},description:{render:(e,t)=>{let{hover:n,primary:s,ellipsis:a,emptyRender:l,isEmpty:r,...i}=t;return(0,x.jsx)(S,{...i,type:"description",item:e,hover:n,primary:s,emptyRender:l,isEmpty:r,children:(0,x.jsx)(G,{ellipsis:a,children:e})})},width:400,min:160,max:600},options:{render:(e,t)=>{let{width:n}=t;return(0,x.jsx)(v,{className:i()(p["col-item"],p.options),list:e,width:n})},width:180,min:120,max:400},sensitiveInfo:{render:(e,t)=>{let{hover:n,primary:s,ellipsis:a,emptyRender:l,isEmpty:r,...i}=t;return(0,x.jsx)(S,{...i,type:"sensitiveInfo",item:e,hover:n,primary:s,emptyRender:l,isEmpty:r,children:(0,x.jsx)(G,{ellipsis:a,children:e})})},width:200,min:100,max:400},other:{render:R,width:200,min:120,max:400},otherSmall:{render:R,width:100,min:70,max:400},otherLarge:{render:R,width:300,min:120,max:500}},A=M;var I=n(33097),T=n.n(I),z=n(42907),L=n.n(z),K=n(22717),D=n.n(K),H=n(22616),B=n.n(H),Y=n(76329),U=n(39835),q=n.n(U),V=n(36),W=n(76441),J=n(69613),Q=n.n(J),Z=n(56434),X=n.n(Z);const{Panel:$}=a.Collapse,ee=e=>{let{close:t,onConfirm:n,columns:r,config:o}=e;const[c,d]=(0,l.useState)(o||{}),[u,m]=(0,l.useState)(""),{leftFixedColumns:p,rightFixedColumns:h,visibleColumns:_,hiddenColumns:f}=(0,l.useMemo)((()=>D()(Object.assign({leftFixedColumns:[],rightFixedColumns:[],visibleColumns:[],hiddenColumns:[]},q()(r,(e=>"right"===e.fixed?"rightFixedColumns":!0===e.fixed||"left"===e.fixed?"leftFixedColumns":!0!==T()(c,"".concat(e.name,".visible"))&&e.hidden||!1===T()(c,"".concat(e.name,".visible"))?"hiddenColumns":"visibleColumns"))),((e,t,n)=>{e[n]=t.sort(((e,t)=>T()(c,"".concat(e.name,".rank"),0)-T()(c,"".concat(t.name,".rank"),0)))}),{})),[r,c]),j=e=>(0,x.jsxs)(x.Fragment,{children:[e.titleText||e.title||"\u672a\u547d\u540d\u5217",e.groupHeader&&e.groupHeader.length>0?"(".concat(e.groupHeader.map((e=>{let{title:t}=e;return t})).join("-"),")"):""]});return(0,x.jsxs)("div",{className:s["columns-control-content"],children:[(0,x.jsx)("div",{className:s["columns-control-content-title"],children:(0,x.jsxs)(a.Row,{align:"middle",justify:"space-between",children:[(0,x.jsx)(a.Col,{children:"\u7f16\u8f91\u8868\u683c"}),(0,x.jsx)(a.Col,{children:(0,x.jsx)(a.Tooltip,{title:"\u6062\u590d\u9ed8\u8ba4",children:(0,x.jsx)(y.default,{type:"text",icon:(0,x.jsx)(g.default,{type:"icon-huifumorenshezhi"}),onClick:async()=>{n&&await n({}),t()}})})})]})}),(0,x.jsx)("div",{className:s["columns-control-content-scroller"],children:(0,x.jsxs)(a.Collapse,{defaultActiveKey:["active","un-active"],ghost:!0,bordered:!0,children:[(0,x.jsx)($,{header:"\u663e\u793a\u7684\u4fe1\u606f",children:(0,x.jsxs)(a.List,{className:s["columns-control-content-list"],children:[p.map(((e,t)=>(0,x.jsx)(a.List.Item,{className:s["columns-control-content-item"],children:(0,x.jsx)(a.Checkbox,{checked:!0,disabled:!0,children:j(e)})},e.name||"left-".concat(t)))),(0,x.jsx)(W.ReactSortable,{list:_,filter:".ignore-elements",dragClass:s["sortable-drag"],ghostClass:s["sortable-ghost"],forceFallback:!0,setList:e=>{(e=>{const t=X()(c),n=[].concat(e.leftFixedColumns,e.visibleColumns,e.rightFixedColumns);(e.hiddenColumns||[]).forEach((e=>{Q()(t,"".concat(e.name,".visible"),!1)})),n.forEach(((e,n)=>{Q()(t,"".concat(e.name,".rank"),n+1)})),d(t)})({leftFixedColumns:p,visibleColumns:e,hiddenColumns:f,rightFixedColumns:h})},animation:300,delayOnTouchStart:!0,delay:2,children:_.map(((e,t)=>(0,x.jsxs)(a.List.Item,{className:i()(s["columns-control-content-item"],s["is-drag"]),children:[(0,x.jsx)(g.default,{type:"icon-paixu",className:s["columns-control-content-item-icon"]}),(0,x.jsx)(a.Checkbox,{checked:!0,disabled:e.fixed||p.length+_.length+h.length<=1,onChange:t=>{t.stopPropagation(),t.preventDefault();const n=Object.assign({},c);n[e.name]=Object.assign({},n[e.name],{visible:!1}),d(n)},children:j(e)})]},e.name||"visible-".concat(t))))}),h.map(((e,t)=>(0,x.jsx)(a.List.Item,{className:s["columns-control-content-item"],children:(0,x.jsx)(a.Checkbox,{checked:!0,disabled:!0,children:e.titleText||e.title||"\u672a\u547d\u540d\u5217"})},e.name||"right-".concat(t))))]})},"active"),(0,x.jsx)($,{header:(0,x.jsxs)(a.Row,{wrap:!1,justify:"space-between",children:[(0,x.jsx)(a.Col,{children:"\u9690\u85cf\u7684\u4fe1\u606f"}),(0,x.jsx)(a.Col,{onClick:e=>{e.stopPropagation(),e.preventDefault()},children:(0,x.jsx)(V.SearchInput,{prefix:(0,x.jsx)(g.default,{type:"icon-sousuo",size:12}),placeholder:"\u641c\u7d22",onSearch:e=>{m(e)},className:s["columns-control-content-input"],size:"small"})})]}),children:(0,x.jsx)(a.List,{dataSource:f.filter((e=>"string"===typeof(e.titleText||e.title)&&(e.titleText||e.title).indexOf(u)>-1)),renderItem:e=>(0,x.jsx)(a.List.Item,{className:s["columns-control-content-item"],children:(0,x.jsx)(a.Checkbox,{checked:!1,onChange:t=>{t.stopPropagation(),t.preventDefault();const n=Object.assign({},c);n[e.name]=Object.assign({},n[e.name],{visible:!0}),d(n)},children:e.titleText||e.title||"\u672a\u547d\u540d\u5217"})},e.key)})},"un-active")]})}),(0,x.jsxs)(a.Row,{className:s["columns-control-content-footer"],justify:"end",gutter:10,children:[(0,x.jsx)(a.Col,{children:(0,x.jsx)(a.Button,{size:"small",onClick:()=>{d(o||{}),t()},children:"\u53d6\u6d88"})}),(0,x.jsx)(a.Col,{children:(0,x.jsx)(y.default,{type:"primary",size:"small",onClick:async()=>{n&&await n(c),t()},children:"\u786e\u5b9a"})})]})]})};var te=n(51941),ne=n(19853),se=n.n(ne),ae=n(21844),le=n.n(ae);const re=e=>{let{title:t,columns:n,config:r,setConfig:i}=e;const[o,c]=(0,l.useState)(!1);return(0,x.jsxs)(a.Row,{wrap:!1,children:[(0,x.jsx)(a.Col,{flex:1,children:t}),(0,x.jsx)(a.Col,{children:(0,x.jsx)(a.Popover,{open:o,onOpenChange:c,trigger:"click",placement:"bottomLeft",overlayClassName:s["columns-control-overlay"],content:(0,x.jsx)(ee,{columns:n,config:r,close:()=>{c(!1)},onConfirm:e=>{i((t=>D()(e,((e,n,s)=>{e[s]=Object.assign({},t[s],B()(n,["visible","rank"]))}),{})))}}),children:(0,x.jsx)("span",{className:s["table-changer-setting"],children:(0,x.jsx)(g.default,{type:"icon-shezhi"})})})})]})},ie=e=>{let{columns:t,name:n,controllerOpen:a,tableWidth:r}=e;const[o,c]=(0,l.useState)(null),d=(0,l.useRef)(o);d.current=o;const u=(0,l.useRef)(null),p=(0,l.useRef)(null),[h,_]=(0,l.useState)({}),{tableServerApis:y}=(0,Y.usePreset)(),f=null===y||void 0===y?void 0:y.getDataApi(n),j=(0,te.useDebouncedCallback)(((e,t)=>{null===y||void 0===y||y.setDataFunc(e,t)}),500),v=m()((e=>{(0,l.startTransition)((()=>{_((t=>{const s="function"===typeof e?e(t):e;return n&&a&&j(n,s),s}))}))})),{send:b}=(0,w.useFetch)(Object.assign({...Object.assign({},f),auto:!1,cache:"TABLE_CONFIG_".concat(n),isLocal:!0,onRequestSuccess:e=>{_(Object.assign({},e))}})),C=m()((()=>{n&&a&&f&&b({force:!1})}));(0,l.useEffect)((()=>{C()}),[C]);const N=(0,l.useMemo)((()=>t.filter((e=>!(!1===T()(h,"".concat(e.name,".visible"))||!0!==T()(h,"".concat(e.name,".visible"))&&!0===e.hidden))).sort(((e,t)=>{const n=e=>T()(h,"".concat(e.name,".rank"),0)+("left"===e.fixed?-1e4:0)+("right"===e.fixed?1e4:0);return n(e)-n(t)}))),[t,h]),G=(0,l.useMemo)((()=>le()(N,(e=>{let{type:t}=e;return"options"!==t}))),[N]),k=(0,l.useMemo)((()=>L()(N,(e=>{let{type:t,name:n}=e;return T()(h,"".concat(n,".width"))||A[t].width}))),[N,h]),S=e=>{let{width:t,index:n}=e;return G===n?t+Math.max(r-k-2,0):t},F=m()(((e,t)=>(0,x.jsx)("span",{className:i()(s["cell-resize-bar"]),onMouseDown:n=>{u.current=Object.assign({},e,{index:t}),p.current=n.clientX,c(t)},children:(0,x.jsx)(g.default,{type:"icon-paixu"})}))),E=m()((e=>{if(null===o)return;if(!u.current)return;const{name:t,width:n,min:s,max:a,index:l}=u.current,r=Math.min(Math.max(n+e,s),a);r<S({width:s,index:l})||v((e=>Object.assign({},e,{[t]:Object.assign({},e[t],{width:r})})))})),O=m()(((e,n)=>{const{name:a,width:l,min:r,max:o}=e;let c=e;n===N.length-1&&(c=Object.assign({},e,{className:"has-config-btn",title:(0,x.jsx)(re,{title:null===e||void 0===e?void 0:e.title,columns:t,config:h,setConfig:v})}));const u=()=>({className:i()({[s["is-moving"]]:d.current===n})}),m=Math.min(Math.max(T()(h,"".concat(a,".width"))||l,r),o),p=S({width:m,index:n});return Object.assign({},c,{onHeaderCell:u,onCell:u,width:p,shouldCellUpdate:(t,s)=>null===d.current||d.current===n||"hideInfo"===e.type||!se()(t[e.name],s[e.name]),title:(0,x.jsxs)(x.Fragment,{children:[c.title,!(p>m&&p>o)&&F(Object.assign({},c,{width:p}),n)]})})}));return(0,l.useEffect)((()=>{const e=()=>{c(null),p.current=null,u.current=null},t=e=>{null!==d.current&&null!==u.current&&(null!==p.current?E(e.clientX-p.current):p.current=e.clientX)};return document.documentElement.addEventListener("mouseup",e,!0),document.documentElement.addEventListener("mousemove",t,!0),()=>{document.documentElement.removeEventListener("mouseup",e,!0),document.documentElement.removeEventListener("mousemove",t,!0)}}),[E]),{visibleColumns:N,currentMoveColumnIndex:o,resizeBarRender:F,columnsConfig:h,totalWidth:k,computedColumnProps:O}};var oe=n(79686),ce=n.n(oe),de=n(15797),ue=n.n(de);const me=e=>{let{rowKey:t,renderProps:n}=e;const[s,a]=(0,l.useState)(null),r=(0,l.useRef)(n);r.current=n;const i=m()(((e,n,l)=>{let{columnsConfig:i}=l;const{name:o,type:c,expandType:d,title:u,titleRender:m,fixed:p,emptyOf:h,emptyRender:_,groupHeader:g,sort:y,disableColItem:f,...j}=e,{render:x,width:v,min:b,max:C}=Object.assign({},A[c],"hideInfo"===c&&!ce()(s)&&B()(A[d||"other"],["width","min","max"])),N=ue()(x);return{name:o,title:"function"===typeof m?m(u):u,min:b,max:C,width:v,fixed:p,groupHeader:g,sort:y,type:c,render:n=>{const l="function"===typeof t?t(n):n[t],c=Object.assign({},e,"function"===typeof e.render?e.render({...r.current,name:o,target:n}):{}),d=e=>{const t=(h||(e=>""===e||void 0===e||null===e))(e);return N(e,{...j,name:o,width:T()(i,"".concat(o,".width"))||v,min:b,max:C,isEmpty:t,emptyRender:_,hover:c.hover,colValue:n,renderProps:r.current,primary:c.primary,ellipsis:c.ellipsis,expand:s===l,onExpand:()=>a(l)})},u=c.hasOwnProperty("valueOf")&&"function"===typeof c.valueOf?c.valueOf(n,Object.assign({},r.current,{name:o},f?{targetRender:d}:{})):T()(n,o);return f?u:d(u)}}}));return{expandInfo:s,computedColumnProps:i}},pe=e=>(0,l.useMemo)((()=>{const t=e.filter((e=>e.groupHeader&&e.groupHeader.length>0));if(t.length>0){const n=e.slice(0),s=[],a=e=>{const{groupHeader:t}=e;if(!(t&&t.length>0))return;const a=n.indexOf(e),l=(t,n)=>{const[s,...r]=t;let i=n.find((e=>e.name===s.name));i||(i=Object.assign({startIndex:a},s,{children:[]}),n.push(i)),r.length>0?l(r,i.children):i.children.push(e)};l(t,s),n.splice(a,1)};return t.forEach(a),s.forEach(((e,t)=>{n.splice(e.startIndex+t,0,e)})),{columns:n,hasGroupHeader:!0}}return{columns:e,hasGroupHeader:!1}}),[e]);var he=n(10986),_e=n.n(he),ge=n(41740),ye=n.n(ge);const fe=e=>new Map((e||[]).map((e=>{let{name:t,sort:n}=e;return[t,n]}))),je=e=>{const[t,n]=_e()(e,{value:"sort",defaultValue:"defaultSort",onChange:"onSortChange"}),a=(0,l.useMemo)((()=>fe(t)),[t]),r=(0,l.useCallback)((e=>n((t=>{const n=e(fe(t));return Array.from(n).map((e=>{let[t,n]=e;return{name:t,sort:n}}))}))),[n]);return(0,l.useCallback)((e=>{let{single:t,name:n}=e;return(0,x.jsxs)("div",{className:i()(s["sort-btn"],{[s["sort-active-desc"]]:"DESC"===a.get(n),[s["sort-active-asc"]]:"ASC"===a.get(n)}),onClick:()=>{r((e=>{const s=e.get(n),a="DESC"===s?"ASC":"ASC"===s?null:"DESC";if(t)return new Map(a?[[n,a]]:[]);const l=ye()(e);return a?l.set(n,a):l.delete(n),l}))},children:[(0,x.jsx)(g.default,{type:"icon-triangle-up",className:s["sort-icon"]}),(0,x.jsx)(g.default,{type:"icon-triangle-down",className:s["sort-icon"]})]})}),[a,r])},xe=e=>{let{columns:t,className:n,getScrollEl:r,sticky:c,stickyOffset:u,pagination:p,columnRenderProps:h,rowKey:_,dataSource:g,controllerOpen:y,name:f,summary:j,scroll:v,onTablePropsReady:b,...C}=e;const[N,w]=(0,l.useState)(0),[G,k]=(0,l.useState)(!0);(0,l.useEffect)((()=>{N&&setTimeout((()=>{k(!1)}),0)}),[N]);(0,l.useRef)(h).current=h;const S=(0,d.A)((e=>{w(e.clientWidth)}),{isDebounce:!0}),{expandInfo:F,computedColumnProps:E}=me({rowKey:_,renderProps:h}),{columnsConfig:O,visibleColumns:P,computedColumnProps:R,currentMoveColumnIndex:M,totalWidth:A}=ie({columns:t,controllerOpen:y,name:f,computedColumnProps:E,tableWidth:N}),I=je(C),T=(0,l.useMemo)((()=>P.map(((e,t)=>{let n=E(e,t,{rowKey:_,expandInfo:F,columnsConfig:O});return n.sort&&"options"!==e.type&&(n=Object.assign({},n,{title:(0,x.jsxs)(x.Fragment,{children:[n.title,I({name:e.name,single:"object"!==typeof n.sort||n.sort.single})]})})),y&&(n=R(n,t,{tableWidth:N,columnsConfig:O})),n}))),[P,N,O,F,_,y,E,R,I]),{columns:z,hasGroupHeader:L}=pe(T),K=m()(b);return(0,l.useEffect)((()=>{K&&K({columns:t,groupColumns:z,dataSource:g,visibleColumns:P})}),[K,z,g,t,P]),(0,x.jsx)("div",{className:i()(n,s.table,{[s["is-resize"]]:null!==M,[s["is-computed"]]:G,[s["has-group-header"]]:L}),ref:S,style:{"--sticky-offset":u},children:!G&&(0,x.jsx)(o.A,{className:"table-page-scroller",scroller:{getContainer:r},getScrollTarget:e=>e.querySelector(".ant-table-body")||e.querySelector(".ant-table-content"),children:(0,x.jsx)(a.Table,{...C,sticky:!!c&&{getContainer:r},dataSource:g,rowKey:_,columns:z,scroll:Object.assign({},{x:Math.max(N,A)},v),pagination:p,summary:"function"===typeof j?function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return j(Object.assign({},{pageData:e},{columns:z}),...n)}:null})})})};xe.defaultProps={controllerOpen:!0,rowKey:"id",getScrollEl:c.h,columnRenderProps:{},sticky:!1,stickyOffset:"var(--nav-height)",pagination:!1};const ve=xe;var be=n(63361);const Ce=e=>({"en-US":()=>n.e(399).then(n.bind(n,80399)),"zh-CN":()=>n.e(9809).then(n.bind(n,59809))}[e]());var Ne=n(58609),we=n(25644);const Ge=e=>{let{id:t,columns:n,children:s}=e;return t?(0,x.jsx)(be.default,{id:t,children:e=>{let{options:t}=e;return s({columns:n.filter((e=>!e.name||(!Array.isArray(T()(t,"hiddenColumns"))||-1===t.hiddenColumns.indexOf(e.name))))})}}):s({columns:n})},ke=(0,w.withFetch)((e=>{let{data:t,refresh:n,reload:a,requestParams:r,fetchProps:o,isComplete:d,setData:u,loadMore:p,send:h,dataFormat:_,className:g,featureId:y,columns:f,getColumns:j,pagination:v,columnRenderProps:b,summary:C,...N}=e;const w=m()(_),G=(0,l.useMemo)((()=>w(t)),[t,w]),k={dataSource:G.list,pagination:!!v.open&&{total:G.total,showTotal:e=>(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(Ne.FormattedMessage,{id:"Page_Total",moduleName:"Table",defaultMessage:"\u5171"}),(0,x.jsx)("span",{className:s.total_text,children:e}),(0,x.jsx)(Ne.FormattedMessage,{id:"Page_TotalCount",moduleName:"Table",defaultMessage:"\u6761"})]}),current:T()(r,[v.paramsType,v.currentName],1),pageSize:v.pageSize,onChange:v.onChange?v.onChange:(e,t)=>{e!==T()(r,[v.paramsType,v.currentName],1)?("refresh"===v.requestType?n:a)({[v.paramsType]:{[v.currentName]:e,[v.pageSizeName]:t}}):v.onShowSizeChange&&v.onShowSizeChange(e,t),(0,c.h)().scrollTop=0},size:v.size,showSizeChanger:v.showSizeChanger,showQuickJumper:v.showQuickJumper}};return(0,x.jsx)(Ne.IntlProvider,{importMessages:Ce,moduleName:"Table",children:(0,x.jsx)(Ge,{id:y,columns:f,children:e=>{let{columns:s}=e;return(0,x.jsx)(ve,{...Object.assign({},N,k),className:i()(g,"loading-container",{"is-loading":!d}),columns:s,columnRenderProps:{...b,requestParams:r,fetchProps:o,data:t},summary:"function"===typeof C?function(){for(var e=arguments.length,s=new Array(e),l=0;l<e;l++)s[l]=arguments[l];return C(Object.assign({},{data:t,fetchProps:o,requestParams:r,refresh:n,reload:a,loadMore:p,send:h,dataFormat:_,pagination:v},...s))}:null})}})})}));ke.defaultProps={pagination:{},columnRenderProps:{},sticky:!0,dataFormat:e=>({list:e.pageData,total:e.totalCount})};const Se=(0,l.forwardRef)(((e,t)=>{let{pagination:n,...s}=e;n=Object.assign({},{showSizeChanger:!0,showQuickJumper:!0,open:!0,paramsType:"data",requestType:"reload",currentName:"currentPage",pageSizeName:"perPage",pageSize:20},n);const a="".concat((s.name||"common").toUpperCase(),"_TABLE_PAGE_SIZE"),[r,i]=(0,l.useState)(we.A.getItem(a)||n.pageSize),o=(0,l.useMemo)((()=>{const e={};return s.params&&Object.keys(s.params).length>0&&(e.params={...s.params,[n.pageSizeName]:r}),s.data&&Object.keys(s.data).length>0&&(e.data={...s.data,[n.pageSizeName]:r}),e}),[s.params,s.data,n.pageSizeName,r]);return(0,x.jsx)(ke,{...s,...o,pagination:Object.assign({},n,{pageSize:r,onShowSizeChange:(e,t)=>{we.A.setItem(a,t),i(t)}}),ref:t})}))}}]);
//# sourceMappingURL=2999.eb34e825.chunk.js.map