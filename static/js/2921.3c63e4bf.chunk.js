(self.webpackChunk_kne_components_components_core=self.webpackChunk_kne_components_components_core||[]).push([[2921,9034,1664],{42787:(e,t,n)=>{"use strict";n.d(t,{A:()=>_});var s=n(10486),r=n(73884),a=n(96418),l=n.n(a),o=n(83136),i=n.n(o);const c={scroller:"style_scroller__EfuqR__Mq2HC","scroller-inner":"style_scroller-inner__NJSE0__Mq2HC","is-moving":"style_is-moving__jGuy0__Mq2HC"};var u=n(70579);const d=e=>{let{onScroll:t,getContainer:n,...a}=e;const l=(0,r.useRef)(0),[o,d]=(0,r.useState)(!1),p=(0,r.useRef)(o);p.current=o;const _=(0,r.useRef)(t);_.current=t;const h=(0,r.useRef)(1);return h.current=a.width/a.innerWidth,(0,r.useEffect)((()=>{const e=e=>{p.current&&_.current(h.current*(e.clientX-l.current)),l.current=e.clientX},t=()=>{d(!1)};return document.addEventListener("mousemove",e,!0),document.addEventListener("mouseup",t,!0),()=>{document.removeEventListener("mousemove",e,!0),document.removeEventListener("mouseup",t,!0)}}),[]),(0,s.createPortal)(a.hasScroller?(0,u.jsx)("div",{className:c.scroller,style:{left:a.left,width:a.width,height:15},children:(0,u.jsx)("div",{className:i()(c["scroller-inner"],{[c["is-moving"]]:o}),style:{width:a.innerWidth,left:a.innerLeft},onMouseDown:e=>{e.preventDefault(),l.current=e.clientX,d(!0)}})}):null,n()||document.body)},p=e=>{let{className:t,scroller:n,getScrollTarget:s,children:a}=e;const[o,p]=(0,r.useState)({left:0,width:0,innerLeft:0,innerWidth:0,height:0,hasScroller:!1}),_=(0,r.useRef)(null),h=l()((()=>_.current&&s(_.current))),g=(0,r.useRef)();return g.current="object"===typeof n&&"function"===typeof n.getContainer?n.getContainer:()=>null,(0,r.useEffect)((()=>{const e=g.current()||document.documentElement;let t;const n=()=>{if(!t)return;const{left:n,width:s,top:r,height:a}=t.getBoundingClientRect(),l=t.offsetHeight-t.clientHeight||15,o=s*t.clientWidth/t.scrollWidth-6,i=t.scrollLeft*t.clientWidth/t.scrollWidth+2,c=e.getBoundingClientRect();p((u=>Object.assign({},u,{left:n,width:s,innerLeft:i,innerWidth:o,height:l,hasScroller:t.scrollWidth-t.clientWidth>0&&(e===document.documentElement?r+a-e.offsetHeight>0&&r<e.offsetHeight:r<c.top+c.height&&r+a>c.top+c.height)})))},s=new ResizeObserver(n);return new ResizeObserver((()=>{t=h(),t&&(s.disconnect(),n(),Array.from(t.children).forEach((e=>{s.observe(e)})),t.addEventListener("scroll",n))})).observe(_.current),window.addEventListener("scroll",n),e.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n),e.removeEventListener("scroll",n)}}),[h]),n?(0,u.jsxs)("div",{className:i()(c["scroller-outer"],t),ref:_,style:{"--scroller-bar-height":null!==o&&void 0!==o&&o.hasScroller?"15px":"0px"},children:[a,(0,u.jsx)(d,{...o,getContainer:g.current,onScroll:e=>{h().scrollLeft+=e}})]}):a};p.defaultProps={scroller:!0,getScrollTarget:()=>document.querySelector(".simplebar-content-wrapper")};const _=p},63361:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y,useFeatureCall:()=>f});var s=n(73884),r=n(76329),a=n(33097),l=n.n(a),o=n(15797),i=n.n(o),c=n(1488),u=n.n(c),d=n(70579);const p=(e,t,n)=>{e&&(Array.isArray(e)?e.forEach((e=>{p(e,t,n)})):(t(Object.assign({},u()(e,["children"]),{parentId:n})),p(e.children,t,n?n+":"+e.id:e.id)))},_=i()((e=>{const t=(()=>{const t=new Map;return p(e,(e=>{t.set(e.parentId?e.parentId+":"+e.id:e.id,e)})),t})(),n=(e=>Array.from(e.keys()).filter((t=>{const n=e.get(t);return!(Array.isArray(n.dependencies)&&n.dependencies.length>0&&n.dependencies.some((n=>!e.get(t))))})))(t);return{profile:e,features:n,profileMap:t}})),h=(e,t)=>{let{profileMap:n,features:s}=t;const r=n.get(e);return-1!==s.indexOf(e)&&!0!==r.close&&l()(r,"dependencies",[]).every((t=>{const r=n.get(e);return s.indexOf(t)>-1&&!0!==r.close}))},g=(0,s.createContext)(null),{Provider:m}=g,f=e=>{const{features:t,profile:n,profileMap:a,debug:o}=(()=>{const e=(0,r.usePreset)(),{profile:t,debug:n}=l()(e,"features",{debug:!1,profile:{}});return Object.assign({},_(t),{debug:n})})(),i="system"===n.type?n.id:"root",c=(0,s.useContext)(g),u=c?c+":"+e:i+":"+e;return(0,s.useEffect)((()=>{t&&t.length>0&&o&&console.log("[featureId] ".concat(u,",[state] ").concat(h(u,{features:t,profileMap:a})),a.get(u))}),[t,a,o,u]),{isPass:!(e&&t&&t.length>0)||h(u,{features:t,profileMap:a}),currentId:u,feature:a.get(u)}},y=e=>{let{id:t,children:n}=e;const{isPass:s,feature:r,currentId:a}=f(t);return(0,d.jsx)(m,{value:a,children:"function"===typeof n?n({isPass:s,options:s?l()(r,"options"):l()(r,"rejectedOptions"),currentId:a}):s&&n})}},75363:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});const s=e=>({"en-US":()=>n.e(9431).then(n.bind(n,9431)),"zh-CN":()=>n.e(1065).then(n.bind(n,81065))}[e]());var r=n(58609),a=n(64671),l=n(55199),o=n(83136),i=n.n(o);const c="style_helper-guide__K5xFw__Mq2HC",u="style_inner__bMKeU__Mq2HC",d="style_content__xTfWZ__Mq2HC",p="style_link__93j7O__Mq2HC";var _=n(48731),h=n(70579);const g=e=>{let{name:t,className:n}=e;return(0,h.jsx)(r.IntlProvider,{importMessages:s,moduleName:"HelperGuide",children:(0,h.jsx)(_.default,{moduleName:"helperGuide",name:t,children:e=>e&&e.value&&(0,h.jsx)("div",{className:i()(c,n),children:(0,h.jsxs)(l.Space,{className:u,children:[(0,h.jsx)(a.default,{colorful:!0,type:"icon-color-bangzhuyindao"}),(0,h.jsx)("span",{className:d,children:e.content}),e.url&&(0,h.jsxs)(l.Typography.Link,{className:p,href:e.url,target:"_blank",children:["\u67e5\u770b\u5e2e\u52a9",(0,h.jsx)(a.default,{type:"icon-shuangjiantou-right"})]})]})})})})}},51516:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Affix:()=>L,Menu:()=>J.default,Page:()=>E,PermissionsPage:()=>X,StateBarPage:()=>Y,TablePage:()=>Z,default:()=>G});var s=n(55199),r=n(73884);const a={menu:null,filter:null,menuOpen:!0,menuWidth:"240px",menuFixed:!0,menuCloseButton:!0,backgroundColor:null,header:null,headerHeight:0,headerFixed:!0,headerInfo:null,backUrl:null,title:null,titleExtra:null,titleLeftExtra:null,noMargin:!1,noPadding:!1,optionFooterHeight:0,option:null,optionWidth:"400px",optionNoPadding:!1,optionFixed:!0,optionFooter:null},l=(0,r.createContext)({}),{Provider:o,Consumer:i}=l,c=()=>(0,r.useContext)(l);var u=n(79329),d=n(99182),p=n(36755),_=n(19853),h=n.n(_),g=n(63361),m=n(83136),f=n.n(m);const y={layout:"style_layout__k+lxR__Mq2HC","page-content":"style_page-content__4XeN8__Mq2HC","page-main":"style_page-main__P0yEF__Mq2HC","page-main-content":"style_page-main-content__1OVPN__Mq2HC","table-page":"style_table-page__JkbLf__Mq2HC","helper-guide":"style_helper-guide__vzw4z__Mq2HC","page-outer":"style_page-outer__2a6iH__Mq2HC","no-margin":"style_no-margin__S6caT__Mq2HC","page-menu":"style_page-menu__CZSa9__Mq2HC",closed:"style_closed__hmnft__Mq2HC","page-menu-inner":"style_page-menu-inner__rmKpu__Mq2HC","page-menu-main":"style_page-menu-main__OXg2M__Mq2HC","page-option-main":"style_page-option-main__LyfT3__Mq2HC","page-menu-main-outer":"style_page-menu-main-outer__yY+-Q__Mq2HC","page-option":"style_page-option__diS2S__Mq2HC","page-option-inner":"style_page-option-inner__Fj1JH__Mq2HC","page-option-footer":"style_page-option-footer__d7xE0__Mq2HC","fixed-container":"style_fixed-container__1VZwY__Mq2HC","is-fixed":"style_is-fixed__1aQhp__Mq2HC","page-menu-btn-outer":"style_page-menu-btn-outer__iVJiW__Mq2HC","page-menu-btn":"style_page-menu-btn__BiTy8__Mq2HC","page-title":"style_page-title__zw-Fd__Mq2HC","page-title-text":"style_page-title-text__Rj4RC__Mq2HC","no-padding":"style_no-padding__V7Dwy__Mq2HC","page-header":"style_page-header__a813p__Mq2HC","page-header-info":"style_page-header-info__cMrZR__Mq2HC","layout-menu":"style_layout-menu__yiab0__Mq2HC","sub-menu":"style_sub-menu__dyqK7__Mq2HC","no-collapsed":"style_no-collapsed__76h8W__Mq2HC","has-not-children":"style_has-not-children__fnjRK__Mq2HC","table-page-top":"style_table-page-top__bt1l9__Mq2HC","error-component":"style_error-component__HvghB__Mq2HC","state-bar-page":"style_state-bar-page__+aUM4__Mq2HC","back-icon":"style_back-icon__79v2G__Mq2HC"};var x=n(70579);const v=e=>{let{className:t,isFixed:n,children:s}=e;return n?(0,x.jsx)("div",{className:f()(t,"fixed-container",y["fixed-container"],{[y["is-fixed"]]:n}),children:s}):(0,x.jsx)("div",{className:f()(t,"fixed-container",y["fixed-container"]),children:s})};var j=n(64671),C=n(17342),b=n(94679),M=n(33097),H=n.n(M),N=n(55490),q=n(25644);const O="CORE_PAGE_MENU_OPEN_KEY",w=()=>{const{pageProps:e,setPageProps:t}=c(),{menu:n,menuOpen:r,menuWidth:a,menuFixed:l,menuCloseButton:o}=e,i=(0,b.useLocation)().pathname.split("/")[1];return n?(0,x.jsxs)(s.Col,{className:f()(y["page-menu"],{[y.closed]:!r}),style:{"--width":a},children:[(0,x.jsx)(v,{className:y["page-menu-inner"],isFixed:l,children:(0,x.jsx)("div",{className:y["page-menu-main-outer"],children:(0,x.jsx)(C.A,{className:y["page-menu-main"],children:n})})}),o?(0,x.jsx)(v,{className:f()(y["page-menu-btn-outer"],y["page-menu-btn-outer"]),isFixed:l,children:(0,x.jsx)(s.Button,{className:f()(y["page-menu-btn"],{[y.closed]:!r}),icon:r?(0,x.jsx)(j.default,{type:"icon-arrow-bold-left"}):(0,x.jsx)(j.default,{type:"icon-arrow-bold-right"}),onClick:()=>{t({menuOpen:!e.menuOpen});const n=q.A.getItem(O)||{};n[i]=!e.menuOpen,q.A.setItem(O,n),t({menuOpen:!e.menuOpen})}})}):null]}):null},P=e=>{let{children:t,isPass:n,...a}=e;const{setPageProps:l}=c(),o=(0,r.useRef)(null),i=(()=>{const e=(0,b.useLocation)().pathname.split("/")[1];return(0,r.useMemo)((()=>{const t=q.A.getItem(O)||{};return!(0,N.A)(H()(t,e))||H()(t,e)}),[e])})(),u=(0,r.useRef)(i);return u.current=i,(0,r.useEffect)((()=>{if(!h()(o.current,a)){o.current=a;const e=Object.assign({},a,"boolean"===typeof u.current?{menuOpen:u.current}:{});e.header&&0===e.headerHeight&&delete e.headerHeight,e.optionFooter&&0===e.optionFooterHeight&&delete e.optionFooter,l(e)}}),[a,l]),!1===n?(0,x.jsx)(s.Result,{status:"403",subTitle:"\u6682\u672a\u5f00\u653e\u6b64\u529f\u80fd"}):t},k=e=>{let{featureId:t,name:n,openFeatures:s,...a}=e;return!0===s?(0,x.jsx)(g.default,{id:n,children:e=>{let{isPass:t}=e;return(0,r.createElement)(P,{...a,key:n,isPass:t})}}):(0,r.createElement)(P,{...a,key:n})};k.defaultProps=a;const E=k,L=e=>{let{isFixed:t,offsetTop:n,offsetBottom:r,onChange:a,...l}=e;return t?(0,x.jsx)(s.Affix,{...l,offsetTop:Number.isInteger(n)?n-.1:n,offsetBottom:r,onChange:a}):(0,x.jsx)("div",{...l})},K=e=>{let{targetKey:t,...n}=e;const s=(e=>{let{targetKey:t}=e;const{setPageProps:n}=c(),s=(0,r.useRef)(null);return(0,r.useLayoutEffect)((()=>{const e=()=>{n({[t]:s.current.offsetHeight})};e();const r=new MutationObserver(e);return r.observe(s.current,{subtree:!0,childList:!0}),()=>{r.disconnect()}}),[n,t]),s})({targetKey:t});return(0,x.jsx)("div",{...n,ref:s})},S=()=>{const{pageProps:e}=c(),{header:t,headerFixed:n}=e;return t?(0,x.jsx)(L,{isFixed:n,className:y["page-header"],offsetTop:u.navigationHeight,children:(0,x.jsx)(K,{targetKey:"headerHeight",children:t})}):null},A=()=>{const{pageProps:e}=c(),{headerInfo:t}=e,n=(0,r.useRef)(null);return t?(0,x.jsx)("div",{ref:n,className:f()(y["page-header-info"],"page-header-info"),children:t}):null};var R=n(78016);const F=e=>{let{title:t,filter:n,titleExtra:r,titleLeftExtra:a,backUrl:l}=e;const o=(0,b.useNavigate)();return n?(0,x.jsx)(R.default,{className:y["page-title"],...n,extra:r}):t||a||r?(0,x.jsxs)(s.Row,{justify:"space-between",align:"middle",className:y["page-title"],children:[(0,x.jsx)(s.Col,{children:(0,x.jsxs)(s.Space,{children:[t?(0,x.jsx)("div",{className:y["page-title-text"],children:l?(0,x.jsxs)(s.Space,{children:[(0,x.jsx)("span",{className:y["back-icon"],onClick:()=>{o(l)},children:(0,x.jsx)(j.default,{type:"icon-arrow-thin-left"})}),(0,x.jsx)("span",{children:t})]}):t}):null,a||null]})}),(0,x.jsx)(s.Col,{children:r})]}):null},I=()=>{const{pageProps:e}=c(),{option:t,optionWidth:n,optionFixed:r,optionFooter:a,optionFooterHeight:l,optionNoPadding:o}=e;return t?(0,x.jsx)(s.Col,{className:f()(y["page-option"],"page-option"),style:{"--width":n,"--foot-height":l+"px"},children:(0,x.jsxs)(v,{className:y["page-option-inner"],isFixed:r,children:[(0,x.jsx)(C.A,{className:f()(y["page-option-main"],"page-option-main"),style:{padding:o?"0px":"var(--padding-width)"},children:t}),a?(0,x.jsx)(K,{className:y["page-option-footer"],targetKey:"optionFooterHeight",children:(0,x.jsx)(s.Space,{align:"center",children:a})}):null]})}):null};var T=n(75363);const{Content:W}=s.Layout,B=()=>(0,x.jsx)(s.Alert,{message:"\u7cfb\u7edf\u51fa\u4e86\u70b9\u5c0f\u95ee\u9898\uff0c\u53ef\u5237\u65b0\u9875\u9762\u8fdb\u884c\u89e3\u51b3",showIcon:!0,type:"error",action:(0,x.jsx)(s.Button,{size:"small",danger:!0,onClick:()=>window.location.reload(),children:"\u5237\u65b0"})}),z=e=>(0,x.jsx)(p.A,{...e,errorComponent:B}),U=e=>{let{children:t,theme:n,navigation:l}=e;const[i,c]=(0,r.useState)(0),[p,_]=(0,r.useState)(Object.assign({},a)),h=(0,r.useCallback)((e=>_((t=>Object.assign({},t,e)))),[]);return(0,r.useEffect)((()=>{const e=(0,d.h)(),t=()=>{c(e.scrollLeft)};return e.addEventListener("scroll",t),()=>{e.removeEventListener("scroll",t)}}),[]),(0,x.jsxs)(s.Layout,{className:y.layout,style:Object.assign({},{"--nav-height":u.navigationHeight+"px","--nav-height-base":"var(--nav-height)","--scroll-left":-i+"px"},n),children:[l&&(0,x.jsx)(z,{children:(0,x.jsx)(u.default,{...l,onChange:e=>{(null===l||void 0===l?void 0:l.onChange)&&l.onChange(e)}})}),(0,x.jsx)(z,{children:(0,x.jsx)(W,{className:y["layout-content-wrap"],children:(0,x.jsxs)(o,{value:{pageProps:p,setPageProps:h},children:[(0,x.jsx)(z,{children:(0,x.jsx)(S,{})}),(0,x.jsx)(z,{children:(0,x.jsx)(A,{})}),(0,x.jsx)(z,{children:(0,x.jsxs)(s.Row,{className:f()(p.className,y["page-outer"]),wrap:!1,style:{"--nav-height":"calc(".concat(p.headerHeight,"px + var(--nav-height-base))"),"--nav-only-height":"var(--nav-height-base)"},children:[(0,x.jsx)(z,{children:(0,x.jsx)(w,{})}),(0,x.jsx)(s.Col,{className:f()(y["page-content"],{[y["no-margin"]]:p.noMargin}),flex:1,style:{"--background-color":p.backgroundColor},children:(0,x.jsxs)("div",{className:y["page-main"],children:[(0,x.jsx)(z,{children:(0,x.jsx)(F,{title:p.title,backUrl:p.backUrl,filter:p.filter,titleExtra:p.titleExtra,titleLeftExtra:p.titleLeftExtra})}),(0,x.jsx)("div",{className:f()(y["page-main-content"],{[y["no-padding"]]:p.noPadding}),children:(0,x.jsxs)(z,{children:[p.helperGuideName&&(0,x.jsx)(T.default,{className:y["helper-guide-page"],name:p.helperGuideName}),t]})})]})}),(0,x.jsx)(z,{children:(0,x.jsx)(I,{})})]})})]})})})]})};U.defaultProps={navigation:{}};const G=U;var V=n(29053);const X=e=>{let{permissions:t,...n}=e;return(0,x.jsx)(V.default,{...Object.assign({},t,{type:"error"}),children:(0,x.jsx)(E,{...n})})};var J=n(28148),Q=n(75698);const Z=(0,r.forwardRef)(((e,t)=>{let{helperGuideName:n,permissions:s,page:a,openFeatures:l,name:o,topArea:i,...c}=e;const[u,d]=(0,r.useState)(null);return(0,x.jsxs)(X,{name:o,openFeatures:l,permissions:s,...a,children:[i?(0,x.jsx)("div",{className:y["table-page-top"],children:"function"===typeof i?i(u):i}):null,(0,x.jsxs)("div",{className:y["table-page"],children:[n&&(0,x.jsx)(T.default,{className:f()("helper-guide",y["helper-guide"]),name:n}),(0,x.jsx)(Q.TablePage,{...c,ref:t,name:o,onRequestSuccess:e=>{d(e)}})]})]})}));var D=n(87227);const Y=e=>{let{helperGuideName:t,permissions:n,page:s,stateBar:r,children:a,...l}=e;return(0,x.jsxs)(X,{...s,permissions:n,...l,children:[(0,x.jsx)("div",{className:y["state-bar-page"],children:(0,x.jsx)(D.default,{...r})}),t&&(0,x.jsx)(T.default,{className:y["helper-guide"],name:t}),a]})}},28148:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x});const s={menu:"style_menu__gvIvn__Mq2HC","all-no-start-icon":"style_all-no-start-icon__CA+zR__Mq2HC","no-start-icon":"style_no-start-icon__LnC1S__Mq2HC","has-children":"style_has-children__m9tce__Mq2HC","has-children-node":"style_has-children-node__2bhEB__Mq2HC","is-root":"style_is-root__4hhOc__Mq2HC",title:"style_title__+Hcar__Mq2HC",active:"style_active__WU49K__Mq2HC","no-collapse":"style_no-collapse__aIZBM__Mq2HC","title-content":"style_title-content__cQXpK__Mq2HC",loading:"style_loading__1pU4P__Mq2HC"};var r=n(83136),a=n.n(r),l=n(55199),o=n(94679),i=n(29053),c=n(10986),u=n.n(c),d=n(64671),p=n(73884),_=n(18081),h=n.n(_),g=n(87558),m=n(70579);const f=e=>{const t=(0,o.useNavigate)(),{id:n,className:r,label:c,iconType:u,path:p,request:_,onClick:h,isOpen:f,isSelected:y,onOpenChange:x,children:v,fetchOptions:j,depth:C,onLoad:b,allowCollapsed:M}=e,H=Array.isArray(v)&&v.length>0||j,{refresh:N,isLoading:q}=(0,g.useFetch)(Object.assign({},j,{auto:!M&&j,onRequestSuccess:e=>{b(e)}}));return(0,m.jsx)(i.default,{request:_,children:(0,m.jsxs)("div",{className:a()(r,s["menu-item"]),children:[(0,m.jsxs)("div",{className:a()(s.title,{[s.active]:y,[s["has-children"]]:H,[s["no-collapse"]]:H&&!M,[s["no-start-icon"]]:!u,[s["is-root"]]:0===C}),onClick:s=>{s.stopPropagation(),H||!p?H||j?M&&(j&&N({}),x(!f)):null===h||void 0===h||h(n,e):t(p)},children:[u&&(0,m.jsx)(d.default,{type:u}),(0,m.jsx)("span",{className:s["title-content"],children:c}),H&&M&&(0,m.jsx)(d.default,{type:f?"icon-arrow-bold-down":"icon-arrow-bold-right"})]}),H?!M||f&&v?(0,m.jsx)("div",{className:s["children-list"],children:v}):!M||f&&q?(0,m.jsx)("div",{className:s["children-list"],children:(0,m.jsx)(l.Spin,{className:s.loading,size:"small"})}):void 0:null]})})},y=e=>{let{className:t,allowCollapsed:n,...r}=e;const{pathname:l,search:i}=(0,o.useLocation)(),[c,d]=u()(r,{value:"currentKey",defaultValue:"defaultCurrentKey"}),[_,g]=u()(r,{defaultValue:"defaultItems",value:"items",onChange:"onItemsChange"}),{items:y,defaultOpenKeys:x,links:v,childrenKeys:j,hasStartIcon:C,hasChildren:b}=(0,p.useMemo)((()=>{var e;const{items:t,childrenKeys:n,nodeMapping:s}=(e=>{const t={},n=[],s=(e,r)=>{const{parentKey:a,depth:l}=Object.assign({parentKey:"root",depth:0,paths:[]},r);return Array.isArray(e)&&e.length>0?e.map(((e,r)=>{const o="".concat(e.key||"".concat("root"!==a?"".concat(a,"-"):"","node-").concat(r));t[a]||(t[a]=[]),t[a].push(o);const i=s(e.children,{parentKey:o,depth:l+1});t[o]&&t[a].push(...t[o]);const c=Object.assign({},e,{key:o,parentKey:a,depth:l,children:i,originItem:e});return n[o]=c,c})):null};return{items:s(e),childrenKeys:t,nodeMapping:n}})(_);let r=!1,a=!1;const l=[],o=[];return null===n||void 0===n||null===(e=n.root)||void 0===e||e.forEach((e=>{const t=s[e];t.iconType&&(r=!0),t.path&&l.push({path:t.path,key:e}),Array.isArray(t.children)&&t.children.length>0&&(a=!0,o.push(t.key))})),{defaultOpenKeys:o,links:l,items:t,childrenKeys:n,hasStartIcon:r,hasChildren:a}}),[_]);(0,p.useEffect)((()=>{const e=v.find((e=>{let{path:t}=e;return h()(l.replace(/[#,?].*/,""))===h()(t)||h()(l+i)===h()(t)}));e&&d(e.key)}),[v,l,i,d]);const[M,H]=u()(Object.assign({},r,{defaultOpenKeys:r.defaultOpenKeys||x}),{value:"openKeys",defaultValue:"defaultOpenKeys",onChange:"onOpenChange"}),N=(0,p.useCallback)(((e,t)=>{const{parentKey:s,depth:r,selectedKey:a,openKeys:l,paths:o}=Object.assign({parentKey:null,depth:0,paths:[]},t);return Array.isArray(e)&&e.length>0?e.map((e=>{let{children:t,key:i,originItem:c,...u}=e;return(0,p.createElement)(f,{...Object.assign({},u),id:i,parentId:s,depth:r,allowCollapsed:n,isSelected:i===a||j[i]&&j[i].indexOf(a)>-1,onClick:d,onLoad:e=>{g((t=>{const n=t=>Array.isArray(t)&&t.length>0?t.map((t=>Object.assign({},t,{children:c===t?e:n(t.children)}))):null;return n(t)}))},isOpen:(l||[]).indexOf(i)>-1,key:i,onOpenChange:()=>{H((e=>{const t=e.slice(0);return e.indexOf(i)>-1?t.splice(e.indexOf(i),1):t.push(i),t}))}},N(t,{parentKey:s,depth:r+1,selectedKey:a,openKeys:l,paths:[...o,i]}))})):null}),[g,H,d,j,n]);return(0,m.jsx)("div",{className:a()(t,s.menu,{[s["all-no-start-icon"]]:!C,[s["has-children-node"]]:b}),children:N(y,{selectedKey:c,openKeys:M})})};y.defaultProps={defaultItems:[],allowCollapsed:!0};const x=y},79329:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>O,navigationHeight:()=>H});var s=n(55199),r=n(94679),a=n(33097),l=n.n(a),o=n(73884),i=n(83136),c=n.n(i);const u=n.p+"static/media/favicon.477a5bb996fd5b367fe0dddc29f67824.svg";var d=n(40438);const p=e=>({"en-US":()=>n.e(257).then(n.bind(n,30257)),"zh-CN":()=>n.e(5671).then(n.bind(n,5671))}[e]());var _=n(58609),h=n(64671);const g="style_navigation-wrap__VF8x2__Mq2HC",m="style_navigation__60RrS__Mq2HC",f="style_is-fixed__kHFWj__Mq2HC",y="style_navigation-logo__q9qHu__Mq2HC",x="style_logo__lB9RC__Mq2HC",v="style_navigation-list__EYtkg__Mq2HC",j="style_navigation-options__0BdJU__Mq2HC",C="style_more-icon__gNMnt__Mq2HC";var b=n(70579);const{Header:M}=s.Layout,H=48,N=e=>{let{name:t,mapping:n,defaultTitle:s}=e;const r=(0,o.useRef)({mapping:n,defaultTitle:s});return(0,o.useEffect)((()=>{const e=l()(r.current.mapping.get(t),"title");document.title=(e?e+"-":"")+r.current.defaultTitle}),[t]),null},q=e=>{let{permissions:t,list:n,headerLogo:a,rightOptions:i,isFixed:H,showIndex:q,indexLabel:O,defaultTitle:w,overflowedIndicator:P,base:k,onChange:E,className:L}=e;const K=(0,o.useMemo)((()=>new Map(n.map((e=>{let{key:t,...n}=e;return[t,n]})))),[n]),S=(0,r.useNavigate)(),A=(0,r.useLocation)(),R=(0,o.useRef)(),F=(0,o.useRef)(null),[I,T]=(0,o.useState)("\u66f4\u591a"),W=A.pathname.replace(new RegExp("^".concat(k)),"").split("/")[1],B=W?l()(Array.from(K.entries()).find((e=>{let[n,{path:s,permission:r}]=e;return-1!==("function"===typeof s?s(r,t):s).indexOf("/"+W)})),"[0]"):"home";(0,o.useEffect)((()=>{const e=()=>{if(R.current){const e=R.current.querySelectorAll("li[data-menu-id]");let t=!1;for(let s=0;s<e.length;s++){if(-1!==e[s].getAttribute("data-menu-id").indexOf(B)){t=!0;break}}let n=K.get(B)&&!t?l()(K.get(B),"title"):"";T(n)}},t={attributes:!0,childList:!0,subtree:!0};return R&&R.current&&(e(),F.current&&F.current.disconnect(),F.current=new MutationObserver(e),F.current.observe(R.current,t)),()=>{F.current&&F.current.disconnect()}}),[B,K]);const z=!!q&&{label:O||(0,b.jsx)(_.FormattedMessage,{id:"indexLabel",moduleName:"Navigation"}),key:"home",onClick:()=>{E&&E("/"),setTimeout((()=>{S("/")}),0)}};return(0,b.jsxs)(_.IntlProvider,{importMessages:p,moduleName:"Navigation",children:[(0,b.jsx)(_.FormattedMessage,{id:"defaultTitle",moduleName:"Navigation",children:e=>(0,b.jsx)(N,{defaultTitle:w||e,mapping:K,name:B})}),(0,b.jsx)("div",{className:c()(g,L),children:(0,b.jsx)(M,{className:c()("navigation",m,{[f]:H}),children:(0,b.jsxs)(s.Row,{justify:"space-around",wrap:!1,children:[(0,b.jsx)(s.Col,{className:c()("navigation-logo",y),children:(0,b.jsx)(d.default,{className:c()(x),src:u,alt:"logo",...a})}),(0,b.jsx)(s.Col,{ref:R,flex:1,className:c()("navigation-list",v),children:(0,b.jsx)(s.Menu,{selectedKeys:[B],mode:"horizontal",overflowedIndicator:P||(0,b.jsxs)(s.Space,{size:4,children:[(0,b.jsx)("span",{children:I||(0,b.jsx)(_.FormattedMessage,{id:"overflowedIndicator",moduleName:"Navigation"})}),(0,b.jsx)("span",{className:C,children:(0,b.jsx)(h.default,{type:"icon-arrow-thin-down"})})]}),items:[z,...Array.from(K.entries()).filter((e=>{let[n,{permission:s}]=e;if("string"===typeof s)return t.indexOf(s)>-1;if("function"===typeof s)return s(t);if(Array.isArray(s)){for(let e of s)if(t.indexOf(e)>-1)return!0;return!1}return!0})).map((e=>{let[n,{title:s,path:r,permission:a}]=e;const l="function"===typeof r?r(a,t):r;return{label:s,key:n,onClick:()=>{E&&E(l),setTimeout((()=>{S(l)}),0)}}}))]})}),(0,b.jsx)(s.Col,{className:j,children:i})]})})})]})};q.defaultProps={isFixed:!0,permissions:[],list:[],showIndex:!0,base:""};const O=q},29053:(e,t,n)=>{"use strict";n.r(t),n.d(t,{computedIsPass:()=>p,default:()=>m,usePermissions:()=>_,usePermissionsPass:()=>h});var s=n(73884),r=n(55199),a=n(33097),l=n.n(a),o=n(83136),i=n.n(o);const c="style_outer__vbHB9__Mq2HC";var u=n(83694),d=n(70579);const p=e=>{let{permissions:t,request:n}=e;return!(Array.isArray(n)&&n.length>0)||n.some((e=>(t||[]).indexOf(e)>-1))},_=()=>{const e=(0,u.useGlobalContext)();return{permissions:l()(e,"global.accountInfo.permissions",[])}},h=e=>{let{request:t}=e;const{permissions:n}=_();return p({permissions:n,request:t})},g=e=>{let{type:t,className:n,tagName:a,message:l,request:o,children:u,...p}=e;const _=h({request:o});return"function"===typeof u?u({isPass:_,type:t,request:o}):!0===_?u:"error"===t?(0,d.jsx)(r.Result,{status:"403",subTitle:l}):"tooltip"===t?(0,d.jsx)(r.Tooltip,{title:l,children:(0,s.createElement)(a,{...p,className:i()(c,n)},u)}):null};g.defaultProps={type:"hidden",tagName:"span",message:"\u60a8\u6682\u65e0\u6743\u9650\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458"};const m=g},87227:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var s=n(55199),r=n(83136),a=n.n(r);const l={"state-bar":"style_state-bar__3jfis__Mq2HC","has-children":"style_has-children__oQDqU__Mq2HC","tab-tab-control":"style_tab-tab-control__SopeO__Mq2HC","tab-radio-control":"style_tab-radio-control__R8X6-__Mq2HC","tab-step-control":"style_tab-step-control__EQaCl__Mq2HC","inner-state-bar":"style_inner-state-bar__lWmOz__Mq2HC"};var o=n(70579);const i=e=>{let{className:t,type:n="tab",stateOption:r=[],isInner:i,...c}=e;return(0,o.jsx)(s.Tabs,{...c,"data-testid":"components-core-state-bar",className:a()(l["state-bar"],l["tab-".concat(n,"-control")],t,{[l["inner-state-bar"]]:i,[l["has-children"]]:r.some((e=>!!e.children))}),style:{"--total-count":r.length},animated:!1,items:r.map((e=>{let{tab:t,label:n,key:s,...r}=e;return{label:t||n,key:s,...r}}))})}},94710:e=>{e.exports=function(e,t,n,s){for(var r=-1,a=null==e?0:e.length;++r<a;){var l=e[r];t(s,l,n(l),e)}return s}},32952:(e,t,n)=>{var s=n(45652);e.exports=function(e,t,n,r){return s(e,(function(e,s,a){t(r,e,n(e),a)})),r}},45652:(e,t,n)=>{var s=n(94664),r=n(76516)(s);e.exports=r},75816:e=>{e.exports=function(e,t,n,s){for(var r=e.length,a=n+(s?1:-1);s?a--:++a<r;)if(t(e[a],a,e))return a;return-1}},99910:e=>{e.exports=function(e,t){for(var n,s=-1,r=e.length;++s<r;){var a=t(e[s]);void 0!==a&&(n=void 0===n?a:n+a)}return n}},19449:(e,t,n)=>{var s=n(94710),r=n(32952),a=n(9096),l=n(54052);e.exports=function(e,t){return function(n,o){var i=l(n)?s:r,c=t?t():{};return i(n,e,a(o,2),c)}}},76516:(e,t,n)=>{var s=n(6571);e.exports=function(e,t){return function(n,r){if(null==n)return n;if(!s(n))return e(n,r);for(var a=n.length,l=t?a:-1,o=Object(n);(t?l--:++l<a)&&!1!==r(o[l],l,o););return n}}},21844:(e,t,n)=>{var s=n(75816),r=n(9096),a=n(76759),l=Math.max,o=Math.min;e.exports=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var c=i-1;return void 0!==n&&(c=a(n),c=n<0?l(i+c,0):o(c,i-1)),s(e,r(t,3),c,!0)}},39835:(e,t,n)=>{var s=n(71775),r=n(19449),a=Object.prototype.hasOwnProperty,l=r((function(e,t,n){a.call(e,n)?e[n].push(t):s(e,n,[t])}));e.exports=l},69613:(e,t,n)=>{var s=n(9261);e.exports=function(e,t,n){return null==e?e:s(e,t,n)}},42907:(e,t,n)=>{var s=n(9096),r=n(99910);e.exports=function(e,t){return e&&e.length?r(e,s(t,2)):0}},76759:(e,t,n)=>{var s=n(37303);e.exports=function(e){var t=s(e),n=t%1;return t===t?n?t-n:t:0}}}]);
//# sourceMappingURL=2921.3c63e4bf.chunk.js.map