{"version":3,"file":"static/js/1718.54754e85.chunk.js","mappings":"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","sources":["defaultAvatar.svg","common/hocs/withOSSFile.js","components/Image/loadImage.js","webpack://@kne/components-core/./src/components/Image/style.module.scss?65a6","components/Image/index.js"],"sourcesContent":["var _defs, _g;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgDefaultAvatar(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"56px\",\n    height: \"56px\",\n    viewBox: \"0 0 56 56\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"\\u7F16\\u7EC4 10\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    x1: \"50%\",\n    y1: \"0%\",\n    x2: \"50%\",\n    y2: \"100%\",\n    id: \"linearGradient-1\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#F5F5F5\",\n    offset: \"0%\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#E0E0E0\",\n    offset: \"100%\"\n  })))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"PC\\\\u7AEF\",\n    stroke: \"none\",\n    strokeWidth: 1,\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"\\\\u56FE\\\\u6807Icon\",\n    transform: \"translate(-760.000000, -2364.000000)\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"\\\\u7F16\\\\u7EC4-10\",\n    transform: \"translate(760.000000, 2364.000000)\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"\\\\u5934\\\\u50CF-\\\\u65E0\\\\u6027\\\\u522B\",\n    fill: \"url(#linearGradient-1)\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    id: \"Mask\\\\u5907\\\\u4EFD\",\n    x: 0,\n    y: 0,\n    width: 56,\n    height: 56\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"\\\\u5934\\\\u50CF_avatar-(1)\\\\u5907\\\\u4EFD\",\n    transform: \"translate(8.000000, 12.000000)\",\n    fill: \"#FFFFFF\",\n    fillRule: \"nonzero\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M40,41.3851428 C40,40.9828571 40,35.6022857 39,33.792 C38.4,32.5851428 37.4,31.7805714 36.2,30.976 C34.8,30.1714285 33,29.3668572 30.8,28.9645714 C30.6,28.9645714 29.2,28.7634285 28,28.3611428 C26.6,27.9588571 26,27.7577143 25.8,27.5565714 L25.8,26.3497143 C26,23.7348571 27.4,22.3268572 28.6,21.12 C29,20.7177143 29.4,20.3154285 29.8,19.712 C31.2,17.7005714 31.4,15.6891429 31.4,15.2868571 C31.4,14.8845714 31.4,14.6834286 31.2,14.2811429 C31,13.8788572 30.8,13.4765714 30.6,13.2754286 C30.6,12.672 30.8,12.0685714 30.8,11.6662857 C30.8,10.6605715 31,9.05142856 30.6,7.44228572 C30.6,7.24114285 30.6,6.83885715 30.4,6.43657145 C30,5.22971431 29.6,4.22400004 28.8,3.4194286 C28.4,3.4194286 25.6,0.603428618 18,0 L15,0 C14.6,0 14.2,0 13.8,0.201142873 C12.4,0.603428571 12.2,1.60914289 12,2.01142859 L12,3.21828573 L11.8,3.4194286 C11.6,3.62057147 9.60000004,5.43085719 9.40000002,7.84457142 C9.20000001,9.45371426 9.20000001,11.8674285 9.40000002,13.6777143 C9.20000001,14.08 8.80000002,14.4822858 8.80000002,15.488 C8.80000002,15.8902857 9,17.9017143 10.4,19.712 C10.8,20.1142857 11,20.5165715 11.6,21.12 C12.8,22.528 14.2,23.936 14.4,26.3497143 L14.4,27.5565714 C14,27.7577143 13.4,28.16 12,28.5622857 C10.6,28.9645714 9.20000001,29.1657143 9,29.1657143 C7,29.568 5.19999998,30.1714285 3.80000001,30.976 C2.60000001,31.7805714 1.60000003,32.7862857 1,33.792 C0,35.6022857 0,40.9828571 0,41.3851428 L0,42.3908571 C0,43.1954286 0.800000015,44 1.8,44 L38.2,44 C39.2,44 40,43.1954286 40,42.1897143 L40,41.3851428 Z\",\n    id: \"\\\\u8DEF\\\\u5F84\"\n  })))))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgDefaultAvatar);\nexport default __webpack_public_path__ + \"static/media/defaultAvatar.b1f2a8046cc7bee36d9a404ce6a0a1d7.svg\";\nexport { ForwardRef as ReactComponent };","import Fetch from \"@kne/react-fetch\";\nimport { usePreset } from \"@components/Global\";\nimport merge from \"lodash/merge\";\n\nconst withOSSFile = (WrappedComponent) => {\n  const OSSFile = ({\n    id,\n    url,\n    error,\n    apis: currentApis,\n    loading,\n    ...props\n  }) => {\n    const { apis: baseApis } = usePreset();\n    const apis = merge({}, baseApis, currentApis);\n    if (!id) {\n      return null;\n    }\n    if (!apis.oss) {\n      throw new Error(\"请在Global组件设置preset.apis.oss参数\");\n    }\n    return (\n      <Fetch\n        {...apis.oss}\n        updateType=\"refresh\"\n        error={error}\n        loading={loading}\n        params={{ id }}\n        cache=\"oss-file\"\n        ttl={1000 * 60 * 100}\n        render={({ data }) => (\n          <WrappedComponent {...props} id={id} data={data} />\n        )}\n      />\n    );\n  };\n  OSSFile.defaultProps = {\n    loading: null,\n  };\n  return OSSFile;\n};\n\nexport default withOSSFile;\n","const loadImage = ({ params }) => {\n  const { data } = params;\n  return new Promise((resolve, reject) => {\n    const image = new window.Image();\n    image.src = data;\n    image.addEventListener(\"load\", () => {\n      resolve(data);\n    });\n    image.addEventListener(\"error\", (e) => {\n      reject(e);\n    });\n  });\n\n};\n\nexport default loadImage;","// extracted by mini-css-extract-plugin\nexport default {\"img-outer\":\"style_img-outer__4QLY5__RY4Bj\",\"img\":\"style_img__PSExq__RY4Bj\",\"loading\":\"style_loading__WCOwA__RY4Bj\",\"error\":\"style_error__+ECgZ__RY4Bj\"};","import Fetch from \"@kne/react-fetch\";\nimport withOSSFile from \"@common/hocs/withOSSFile\";\nimport Icon from \"@components/Icon\";\nimport classnames from \"classnames\";\nimport { Avatar, Skeleton } from \"antd\";\nimport { cloneElement } from \"react\";\nimport loadImage from \"./loadImage\";\nimport style from \"./style.module.scss\";\nimport defaultAvatar from \"../../defaultAvatar.svg\";\n\nconst ImageInner = ({\n  data,\n  className,\n  alt,\n  innerLoading,\n  loading,\n  error,\n  innerError,\n  children,\n}) => {\n  return (\n    <Fetch\n      loader={loadImage}\n      params={{ data }}\n      error={innerError || error}\n      loading={innerLoading || loading}\n      render={({ data }) => {\n        if (typeof children === \"function\") {\n          return children({\n            alt,\n            className: classnames(className, style[\"img\"]),\n            src: data,\n          });\n        }\n        return (\n          <img\n            alt={alt}\n            className={classnames(className, style[\"img\"])}\n            src={data}\n          />\n        );\n      }}\n    />\n  );\n};\n\nconst FetchImageInner = withOSSFile(ImageInner);\n\nconst renderInner = ({\n  loading,\n  error,\n  src,\n  id,\n  alt,\n  className,\n  children,\n  apis,\n}) => {\n  const imageLoading =\n    loading &&\n    cloneElement(loading, {\n      className: style[\"loading\"],\n    });\n  const imageError =\n    error &&\n    cloneElement(error, {\n      className: style[\"error\"],\n    });\n\n  if (src) {\n    return (\n      <ImageInner\n        alt={alt}\n        className={className}\n        data={src}\n        loading={imageLoading}\n        error={imageError}\n      >\n        {children}\n      </ImageInner>\n    );\n  }\n\n  if (id) {\n    return (\n      <FetchImageInner\n        alt={alt}\n        className={className}\n        id={id}\n        loading={imageLoading}\n        innerLoading={imageLoading}\n        error={imageError}\n        innerError={imageError}\n        apis={apis}\n      >\n        {children}\n      </FetchImageInner>\n    );\n  }\n\n  return imageError;\n};\n\nconst Image = ({ id, src, alt, loading, error, className, apis, ...props }) => {\n  return (\n    <div\n      {...props}\n      data-testid=\"components-core-image\"\n      className={classnames(className, style[\"img-outer\"])}\n    >\n      {renderInner({\n        loading,\n        error,\n        src,\n        id,\n        alt,\n        className,\n        apis,\n      })}\n    </div>\n  );\n};\n\nImage.Avatar = ({\n  id,\n  src,\n  alt,\n  gender,\n  loading,\n  error,\n  className,\n  gap,\n  icon,\n  children,\n  shape,\n  size,\n  width,\n  height,\n  defaultAvatar,\n  apis,\n  ...props\n}) => {\n  const inner = (() => {\n    const styleProps =\n      width && height ? { style: { width, height } } : { size };\n    if (width && width !== height) {\n      shape = \"square\";\n    }\n    if (id || src) {\n      return renderInner({\n        loading,\n        error,\n        src,\n        defaultAvatar,\n        id,\n        alt,\n        className,\n        apis,\n        children: (props) => (\n          <Avatar {...props} gap={gap} shape={shape} {...styleProps} />\n        ),\n      });\n    }\n\n    if (gender) {\n      const type =\n        gender && [\"F\", \"female\", \"f\"].indexOf(gender) > -1\n          ? \"icon-color-touxiang-nv\"\n          : \"icon-color-touxiang-nan\";\n      return (\n        <Avatar\n          {...props}\n          src={defaultAvatar || <Icon role=\"touxiang\" colorful type={type} />}\n          gap={gap}\n          shape={shape}\n          {...styleProps}\n        />\n      );\n    }\n\n    return (\n      <Avatar\n        {...props}\n        gap={gap}\n        icon={icon}\n        shape={shape}\n        size={size}\n        src={defaultAvatar}\n        {...styleProps}\n      >\n        {children}\n      </Avatar>\n    );\n  })();\n  return (\n    <div\n      {...props}\n      data-testid=\"components-core-image-avatar\"\n      className={classnames(className, style[\"img-outer\"])}\n      style={{\n        width: width && height ? width : size,\n        height: width && height ? height : size,\n      }}\n    >\n      {inner}\n    </div>\n  );\n};\n\nconst commonDefaultProps = {\n  error: <Icon role=\"error-icon\" colorful type=\"icon-color-touxiang-nan\" />,\n  loading: <Skeleton.Avatar shape=\"square\" active />,\n};\n\nImage.defaultProps = Object.assign({}, commonDefaultProps);\n\nImage.Avatar.defaultProps = Object.assign({}, commonDefaultProps, {\n  size: 100,\n  defaultAvatar,\n});\n\nexport default Image;\n"],"names":["WrappedComponent","OSSFile","_ref","id","url","error","apis","currentApis","loading","props","baseApis","usePreset","merge","oss","Error","_jsx","Fetch","updateType","params","cache","ttl","render","_ref2","data","defaultProps","Promise","resolve","reject","image","window","Image","src","addEventListener","e","ImageInner","className","alt","innerLoading","innerError","children","loader","loadImage","classnames","style","FetchImageInner","withOSSFile","renderInner","_ref3","imageLoading","cloneElement","imageError","_ref4","Avatar","_ref5","gender","gap","icon","shape","size","width","height","defaultAvatar","inner","styleProps","type","indexOf","Icon","role","colorful","commonDefaultProps","Skeleton","active","Object","assign"],"sourceRoot":""}