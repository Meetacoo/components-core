{"version":3,"file":"static/js/1922.e69b6391.chunk.js","mappings":"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","sources":["../node_modules/@fullcalendar/core/index.js"],"sourcesContent":["import { m as mergeProps, g as guid, i as isArraysEqual, T as Theme, a as mapHash, B as BaseComponent, V as ViewContextType, C as ContentContainer, b as buildViewClassNames, c as greatestDurationDenominator, d as createDuration, e as BASE_OPTION_DEFAULTS, f as arrayToHash, h as filterHash, j as buildEventSourceRefiners, p as parseEventSource, k as formatWithOrdinals, u as unpromisify, l as buildRangeApiWithTimeZone, n as identity, r as requestJson, s as subtractDurations, o as intersectRanges, q as startOfDay, t as addDays, v as hashValuesToArray, w as buildEventApis, D as DelayedRunner, x as createFormatter, y as diffWholeDays, z as memoize, A as memoizeObjArg, E as isPropsEqual, F as Emitter, G as getInitialDate, H as rangeContainsMarker, I as createEmptyEventStore, J as reduceCurrentDate, K as reduceEventStore, L as rezoneEventStoreDates, M as mergeRawOptions, N as BASE_OPTION_REFINERS, O as CALENDAR_LISTENER_REFINERS, P as CALENDAR_OPTION_REFINERS, Q as COMPLEX_OPTION_COMPARATORS, R as VIEW_OPTION_REFINERS, S as DateEnv, U as DateProfileGenerator, W as createEventUi, X as parseBusinessHours, Y as setRef, Z as Interaction, _ as getElSeg, $ as elementClosest, a0 as EventImpl, a1 as listenBySelector, a2 as listenToHoverBySelector, a3 as PureComponent, a4 as buildViewContext, a5 as getUniqueDomId, a6 as parseInteractionSettings, a7 as interactionSettingsStore, a8 as getNow, a9 as CalendarImpl, aa as flushSync, ab as CalendarRoot, ac as RenderId, ad as ensureElHasStyles, ae as applyStyleProp, af as sliceEventStore } from './internal-common.js';\nexport { ag as JsonRequestError } from './internal-common.js';\nimport { createElement, createRef, Fragment, render } from 'preact';\nimport 'preact/compat';\n\nconst globalLocales = [];\n\nconst MINIMAL_RAW_EN_LOCALE = {\n    code: 'en',\n    week: {\n        dow: 0,\n        doy: 4, // 4 days need to be within the year to be considered the first week\n    },\n    direction: 'ltr',\n    buttonText: {\n        prev: 'prev',\n        next: 'next',\n        prevYear: 'prev year',\n        nextYear: 'next year',\n        year: 'year',\n        today: 'today',\n        month: 'month',\n        week: 'week',\n        day: 'day',\n        list: 'list',\n    },\n    weekText: 'W',\n    weekTextLong: 'Week',\n    closeHint: 'Close',\n    timeHint: 'Time',\n    eventHint: 'Event',\n    allDayText: 'all-day',\n    moreLinkText: 'more',\n    noEventsText: 'No events to display',\n};\nconst RAW_EN_LOCALE = Object.assign(Object.assign({}, MINIMAL_RAW_EN_LOCALE), { \n    // Includes things we don't want other locales to inherit,\n    // things that derive from other translatable strings.\n    buttonHints: {\n        prev: 'Previous $0',\n        next: 'Next $0',\n        today(buttonText, unit) {\n            return (unit === 'day')\n                ? 'Today'\n                : `This ${buttonText}`;\n        },\n    }, viewHint: '$0 view', navLinkHint: 'Go to $0', moreLinkHint(eventCnt) {\n        return `Show ${eventCnt} more event${eventCnt === 1 ? '' : 's'}`;\n    } });\nfunction organizeRawLocales(explicitRawLocales) {\n    let defaultCode = explicitRawLocales.length > 0 ? explicitRawLocales[0].code : 'en';\n    let allRawLocales = globalLocales.concat(explicitRawLocales);\n    let rawLocaleMap = {\n        en: RAW_EN_LOCALE,\n    };\n    for (let rawLocale of allRawLocales) {\n        rawLocaleMap[rawLocale.code] = rawLocale;\n    }\n    return {\n        map: rawLocaleMap,\n        defaultCode,\n    };\n}\nfunction buildLocale(inputSingular, available) {\n    if (typeof inputSingular === 'object' && !Array.isArray(inputSingular)) {\n        return parseLocale(inputSingular.code, [inputSingular.code], inputSingular);\n    }\n    return queryLocale(inputSingular, available);\n}\nfunction queryLocale(codeArg, available) {\n    let codes = [].concat(codeArg || []); // will convert to array\n    let raw = queryRawLocale(codes, available) || RAW_EN_LOCALE;\n    return parseLocale(codeArg, codes, raw);\n}\nfunction queryRawLocale(codes, available) {\n    for (let i = 0; i < codes.length; i += 1) {\n        let parts = codes[i].toLocaleLowerCase().split('-');\n        for (let j = parts.length; j > 0; j -= 1) {\n            let simpleId = parts.slice(0, j).join('-');\n            if (available[simpleId]) {\n                return available[simpleId];\n            }\n        }\n    }\n    return null;\n}\nfunction parseLocale(codeArg, codes, raw) {\n    let merged = mergeProps([MINIMAL_RAW_EN_LOCALE, raw], ['buttonText']);\n    delete merged.code; // don't want this part of the options\n    let { week } = merged;\n    delete merged.week;\n    return {\n        codeArg,\n        codes,\n        week,\n        simpleNumberFormat: new Intl.NumberFormat(codeArg),\n        options: merged,\n    };\n}\n\n// TODO: easier way to add new hooks? need to update a million things\nfunction createPlugin(input) {\n    return {\n        id: guid(),\n        name: input.name,\n        premiumReleaseDate: input.premiumReleaseDate ? new Date(input.premiumReleaseDate) : undefined,\n        deps: input.deps || [],\n        reducers: input.reducers || [],\n        isLoadingFuncs: input.isLoadingFuncs || [],\n        contextInit: [].concat(input.contextInit || []),\n        eventRefiners: input.eventRefiners || {},\n        eventDefMemberAdders: input.eventDefMemberAdders || [],\n        eventSourceRefiners: input.eventSourceRefiners || {},\n        isDraggableTransformers: input.isDraggableTransformers || [],\n        eventDragMutationMassagers: input.eventDragMutationMassagers || [],\n        eventDefMutationAppliers: input.eventDefMutationAppliers || [],\n        dateSelectionTransformers: input.dateSelectionTransformers || [],\n        datePointTransforms: input.datePointTransforms || [],\n        dateSpanTransforms: input.dateSpanTransforms || [],\n        views: input.views || {},\n        viewPropsTransformers: input.viewPropsTransformers || [],\n        isPropsValid: input.isPropsValid || null,\n        externalDefTransforms: input.externalDefTransforms || [],\n        viewContainerAppends: input.viewContainerAppends || [],\n        eventDropTransformers: input.eventDropTransformers || [],\n        componentInteractions: input.componentInteractions || [],\n        calendarInteractions: input.calendarInteractions || [],\n        themeClasses: input.themeClasses || {},\n        eventSourceDefs: input.eventSourceDefs || [],\n        cmdFormatter: input.cmdFormatter,\n        recurringTypes: input.recurringTypes || [],\n        namedTimeZonedImpl: input.namedTimeZonedImpl,\n        initialView: input.initialView || '',\n        elementDraggingImpl: input.elementDraggingImpl,\n        optionChangeHandlers: input.optionChangeHandlers || {},\n        scrollGridImpl: input.scrollGridImpl || null,\n        listenerRefiners: input.listenerRefiners || {},\n        optionRefiners: input.optionRefiners || {},\n        propSetHandlers: input.propSetHandlers || {},\n    };\n}\nfunction buildPluginHooks(pluginDefs, globalDefs) {\n    let currentPluginIds = {};\n    let hooks = {\n        premiumReleaseDate: undefined,\n        reducers: [],\n        isLoadingFuncs: [],\n        contextInit: [],\n        eventRefiners: {},\n        eventDefMemberAdders: [],\n        eventSourceRefiners: {},\n        isDraggableTransformers: [],\n        eventDragMutationMassagers: [],\n        eventDefMutationAppliers: [],\n        dateSelectionTransformers: [],\n        datePointTransforms: [],\n        dateSpanTransforms: [],\n        views: {},\n        viewPropsTransformers: [],\n        isPropsValid: null,\n        externalDefTransforms: [],\n        viewContainerAppends: [],\n        eventDropTransformers: [],\n        componentInteractions: [],\n        calendarInteractions: [],\n        themeClasses: {},\n        eventSourceDefs: [],\n        cmdFormatter: null,\n        recurringTypes: [],\n        namedTimeZonedImpl: null,\n        initialView: '',\n        elementDraggingImpl: null,\n        optionChangeHandlers: {},\n        scrollGridImpl: null,\n        listenerRefiners: {},\n        optionRefiners: {},\n        propSetHandlers: {},\n    };\n    function addDefs(defs) {\n        for (let def of defs) {\n            const pluginName = def.name;\n            const currentId = currentPluginIds[pluginName];\n            if (currentId === undefined) {\n                currentPluginIds[pluginName] = def.id;\n                addDefs(def.deps);\n                hooks = combineHooks(hooks, def);\n            }\n            else if (currentId !== def.id) {\n                // different ID than the one already added\n                console.warn(`Duplicate plugin '${pluginName}'`);\n            }\n        }\n    }\n    if (pluginDefs) {\n        addDefs(pluginDefs);\n    }\n    addDefs(globalDefs);\n    return hooks;\n}\nfunction buildBuildPluginHooks() {\n    let currentOverrideDefs = [];\n    let currentGlobalDefs = [];\n    let currentHooks;\n    return (overrideDefs, globalDefs) => {\n        if (!currentHooks || !isArraysEqual(overrideDefs, currentOverrideDefs) || !isArraysEqual(globalDefs, currentGlobalDefs)) {\n            currentHooks = buildPluginHooks(overrideDefs, globalDefs);\n        }\n        currentOverrideDefs = overrideDefs;\n        currentGlobalDefs = globalDefs;\n        return currentHooks;\n    };\n}\nfunction combineHooks(hooks0, hooks1) {\n    return {\n        premiumReleaseDate: compareOptionalDates(hooks0.premiumReleaseDate, hooks1.premiumReleaseDate),\n        reducers: hooks0.reducers.concat(hooks1.reducers),\n        isLoadingFuncs: hooks0.isLoadingFuncs.concat(hooks1.isLoadingFuncs),\n        contextInit: hooks0.contextInit.concat(hooks1.contextInit),\n        eventRefiners: Object.assign(Object.assign({}, hooks0.eventRefiners), hooks1.eventRefiners),\n        eventDefMemberAdders: hooks0.eventDefMemberAdders.concat(hooks1.eventDefMemberAdders),\n        eventSourceRefiners: Object.assign(Object.assign({}, hooks0.eventSourceRefiners), hooks1.eventSourceRefiners),\n        isDraggableTransformers: hooks0.isDraggableTransformers.concat(hooks1.isDraggableTransformers),\n        eventDragMutationMassagers: hooks0.eventDragMutationMassagers.concat(hooks1.eventDragMutationMassagers),\n        eventDefMutationAppliers: hooks0.eventDefMutationAppliers.concat(hooks1.eventDefMutationAppliers),\n        dateSelectionTransformers: hooks0.dateSelectionTransformers.concat(hooks1.dateSelectionTransformers),\n        datePointTransforms: hooks0.datePointTransforms.concat(hooks1.datePointTransforms),\n        dateSpanTransforms: hooks0.dateSpanTransforms.concat(hooks1.dateSpanTransforms),\n        views: Object.assign(Object.assign({}, hooks0.views), hooks1.views),\n        viewPropsTransformers: hooks0.viewPropsTransformers.concat(hooks1.viewPropsTransformers),\n        isPropsValid: hooks1.isPropsValid || hooks0.isPropsValid,\n        externalDefTransforms: hooks0.externalDefTransforms.concat(hooks1.externalDefTransforms),\n        viewContainerAppends: hooks0.viewContainerAppends.concat(hooks1.viewContainerAppends),\n        eventDropTransformers: hooks0.eventDropTransformers.concat(hooks1.eventDropTransformers),\n        calendarInteractions: hooks0.calendarInteractions.concat(hooks1.calendarInteractions),\n        componentInteractions: hooks0.componentInteractions.concat(hooks1.componentInteractions),\n        themeClasses: Object.assign(Object.assign({}, hooks0.themeClasses), hooks1.themeClasses),\n        eventSourceDefs: hooks0.eventSourceDefs.concat(hooks1.eventSourceDefs),\n        cmdFormatter: hooks1.cmdFormatter || hooks0.cmdFormatter,\n        recurringTypes: hooks0.recurringTypes.concat(hooks1.recurringTypes),\n        namedTimeZonedImpl: hooks1.namedTimeZonedImpl || hooks0.namedTimeZonedImpl,\n        initialView: hooks0.initialView || hooks1.initialView,\n        elementDraggingImpl: hooks0.elementDraggingImpl || hooks1.elementDraggingImpl,\n        optionChangeHandlers: Object.assign(Object.assign({}, hooks0.optionChangeHandlers), hooks1.optionChangeHandlers),\n        scrollGridImpl: hooks1.scrollGridImpl || hooks0.scrollGridImpl,\n        listenerRefiners: Object.assign(Object.assign({}, hooks0.listenerRefiners), hooks1.listenerRefiners),\n        optionRefiners: Object.assign(Object.assign({}, hooks0.optionRefiners), hooks1.optionRefiners),\n        propSetHandlers: Object.assign(Object.assign({}, hooks0.propSetHandlers), hooks1.propSetHandlers),\n    };\n}\nfunction compareOptionalDates(date0, date1) {\n    if (date0 === undefined) {\n        return date1;\n    }\n    if (date1 === undefined) {\n        return date0;\n    }\n    return new Date(Math.max(date0.valueOf(), date1.valueOf()));\n}\n\nclass StandardTheme extends Theme {\n}\nStandardTheme.prototype.classes = {\n    root: 'fc-theme-standard',\n    tableCellShaded: 'fc-cell-shaded',\n    buttonGroup: 'fc-button-group',\n    button: 'fc-button fc-button-primary',\n    buttonActive: 'fc-button-active',\n};\nStandardTheme.prototype.baseIconClass = 'fc-icon';\nStandardTheme.prototype.iconClasses = {\n    close: 'fc-icon-x',\n    prev: 'fc-icon-chevron-left',\n    next: 'fc-icon-chevron-right',\n    prevYear: 'fc-icon-chevrons-left',\n    nextYear: 'fc-icon-chevrons-right',\n};\nStandardTheme.prototype.rtlIconClasses = {\n    prev: 'fc-icon-chevron-right',\n    next: 'fc-icon-chevron-left',\n    prevYear: 'fc-icon-chevrons-right',\n    nextYear: 'fc-icon-chevrons-left',\n};\nStandardTheme.prototype.iconOverrideOption = 'buttonIcons'; // TODO: make TS-friendly\nStandardTheme.prototype.iconOverrideCustomButtonOption = 'icon';\nStandardTheme.prototype.iconOverridePrefix = 'fc-icon-';\n\nfunction compileViewDefs(defaultConfigs, overrideConfigs) {\n    let hash = {};\n    let viewType;\n    for (viewType in defaultConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    for (viewType in overrideConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    return hash;\n}\nfunction ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    if (hash[viewType]) {\n        return hash[viewType];\n    }\n    let viewDef = buildViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    if (viewDef) {\n        hash[viewType] = viewDef;\n    }\n    return viewDef;\n}\nfunction buildViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    let defaultConfig = defaultConfigs[viewType];\n    let overrideConfig = overrideConfigs[viewType];\n    let queryProp = (name) => ((defaultConfig && defaultConfig[name] !== null) ? defaultConfig[name] :\n        ((overrideConfig && overrideConfig[name] !== null) ? overrideConfig[name] : null));\n    let theComponent = queryProp('component');\n    let superType = queryProp('superType');\n    let superDef = null;\n    if (superType) {\n        if (superType === viewType) {\n            throw new Error('Can\\'t have a custom view type that references itself');\n        }\n        superDef = ensureViewDef(superType, hash, defaultConfigs, overrideConfigs);\n    }\n    if (!theComponent && superDef) {\n        theComponent = superDef.component;\n    }\n    if (!theComponent) {\n        return null; // don't throw a warning, might be settings for a single-unit view\n    }\n    return {\n        type: viewType,\n        component: theComponent,\n        defaults: Object.assign(Object.assign({}, (superDef ? superDef.defaults : {})), (defaultConfig ? defaultConfig.rawOptions : {})),\n        overrides: Object.assign(Object.assign({}, (superDef ? superDef.overrides : {})), (overrideConfig ? overrideConfig.rawOptions : {})),\n    };\n}\n\nfunction parseViewConfigs(inputs) {\n    return mapHash(inputs, parseViewConfig);\n}\nfunction parseViewConfig(input) {\n    let rawOptions = typeof input === 'function' ?\n        { component: input } :\n        input;\n    let { component } = rawOptions;\n    if (rawOptions.content) {\n        // TODO: remove content/classNames/didMount/etc from options?\n        component = createViewHookComponent(rawOptions);\n    }\n    else if (component && !(component.prototype instanceof BaseComponent)) {\n        // WHY?: people were using `component` property for `content`\n        // TODO: converge on one setting name\n        component = createViewHookComponent(Object.assign(Object.assign({}, rawOptions), { content: component }));\n    }\n    return {\n        superType: rawOptions.type,\n        component: component,\n        rawOptions, // includes type and component too :(\n    };\n}\nfunction createViewHookComponent(options) {\n    return (viewProps) => (createElement(ViewContextType.Consumer, null, (context) => (createElement(ContentContainer, { elTag: \"div\", elClasses: buildViewClassNames(context.viewSpec), renderProps: Object.assign(Object.assign({}, viewProps), { nextDayThreshold: context.options.nextDayThreshold }), generatorName: undefined, customGenerator: options.content, classNameGenerator: options.classNames, didMount: options.didMount, willUnmount: options.willUnmount }))));\n}\n\nfunction buildViewSpecs(defaultInputs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    let defaultConfigs = parseViewConfigs(defaultInputs);\n    let overrideConfigs = parseViewConfigs(optionOverrides.views);\n    let viewDefs = compileViewDefs(defaultConfigs, overrideConfigs);\n    return mapHash(viewDefs, (viewDef) => buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults));\n}\nfunction buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    let durationInput = viewDef.overrides.duration ||\n        viewDef.defaults.duration ||\n        dynamicOptionOverrides.duration ||\n        optionOverrides.duration;\n    let duration = null;\n    let durationUnit = '';\n    let singleUnit = '';\n    let singleUnitOverrides = {};\n    if (durationInput) {\n        duration = createDurationCached(durationInput);\n        if (duration) { // valid?\n            let denom = greatestDurationDenominator(duration);\n            durationUnit = denom.unit;\n            if (denom.value === 1) {\n                singleUnit = durationUnit;\n                singleUnitOverrides = overrideConfigs[durationUnit] ? overrideConfigs[durationUnit].rawOptions : {};\n            }\n        }\n    }\n    let queryButtonText = (optionsSubset) => {\n        let buttonTextMap = optionsSubset.buttonText || {};\n        let buttonTextKey = viewDef.defaults.buttonTextKey;\n        if (buttonTextKey != null && buttonTextMap[buttonTextKey] != null) {\n            return buttonTextMap[buttonTextKey];\n        }\n        if (buttonTextMap[viewDef.type] != null) {\n            return buttonTextMap[viewDef.type];\n        }\n        if (buttonTextMap[singleUnit] != null) {\n            return buttonTextMap[singleUnit];\n        }\n        return null;\n    };\n    let queryButtonTitle = (optionsSubset) => {\n        let buttonHints = optionsSubset.buttonHints || {};\n        let buttonKey = viewDef.defaults.buttonTextKey; // use same key as text\n        if (buttonKey != null && buttonHints[buttonKey] != null) {\n            return buttonHints[buttonKey];\n        }\n        if (buttonHints[viewDef.type] != null) {\n            return buttonHints[viewDef.type];\n        }\n        if (buttonHints[singleUnit] != null) {\n            return buttonHints[singleUnit];\n        }\n        return null;\n    };\n    return {\n        type: viewDef.type,\n        component: viewDef.component,\n        duration,\n        durationUnit,\n        singleUnit,\n        optionDefaults: viewDef.defaults,\n        optionOverrides: Object.assign(Object.assign({}, singleUnitOverrides), viewDef.overrides),\n        buttonTextOverride: queryButtonText(dynamicOptionOverrides) ||\n            queryButtonText(optionOverrides) || // constructor-specified buttonText lookup hash takes precedence\n            viewDef.overrides.buttonText,\n        buttonTextDefault: queryButtonText(localeDefaults) ||\n            viewDef.defaults.buttonText ||\n            queryButtonText(BASE_OPTION_DEFAULTS) ||\n            viewDef.type,\n        // not DRY\n        buttonTitleOverride: queryButtonTitle(dynamicOptionOverrides) ||\n            queryButtonTitle(optionOverrides) ||\n            viewDef.overrides.buttonHint,\n        buttonTitleDefault: queryButtonTitle(localeDefaults) ||\n            viewDef.defaults.buttonHint ||\n            queryButtonTitle(BASE_OPTION_DEFAULTS),\n        // will eventually fall back to buttonText\n    };\n}\n// hack to get memoization working\nlet durationInputMap = {};\nfunction createDurationCached(durationInput) {\n    let json = JSON.stringify(durationInput);\n    let res = durationInputMap[json];\n    if (res === undefined) {\n        res = createDuration(durationInput);\n        durationInputMap[json] = res;\n    }\n    return res;\n}\n\nfunction reduceViewType(viewType, action) {\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            viewType = action.viewType;\n    }\n    return viewType;\n}\n\nfunction reduceDynamicOptionOverrides(dynamicOptionOverrides, action) {\n    switch (action.type) {\n        case 'SET_OPTION':\n            return Object.assign(Object.assign({}, dynamicOptionOverrides), { [action.optionName]: action.rawOptionValue });\n        default:\n            return dynamicOptionOverrides;\n    }\n}\n\nfunction reduceDateProfile(currentDateProfile, action, currentDate, dateProfileGenerator) {\n    let dp;\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            return dateProfileGenerator.build(action.dateMarker || currentDate);\n        case 'CHANGE_DATE':\n            return dateProfileGenerator.build(action.dateMarker);\n        case 'PREV':\n            dp = dateProfileGenerator.buildPrev(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n        case 'NEXT':\n            dp = dateProfileGenerator.buildNext(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n    }\n    return currentDateProfile;\n}\n\nfunction initEventSources(calendarOptions, dateProfile, context) {\n    let activeRange = dateProfile ? dateProfile.activeRange : null;\n    return addSources({}, parseInitialSources(calendarOptions, context), activeRange, context);\n}\nfunction reduceEventSources(eventSources, action, dateProfile, context) {\n    let activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    switch (action.type) {\n        case 'ADD_EVENT_SOURCES': // already parsed\n            return addSources(eventSources, action.sources, activeRange, context);\n        case 'REMOVE_EVENT_SOURCE':\n            return removeSource(eventSources, action.sourceId);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return fetchDirtySources(eventSources, activeRange, context);\n            }\n            return eventSources;\n        case 'FETCH_EVENT_SOURCES':\n            return fetchSourcesByIds(eventSources, action.sourceIds ? // why no type?\n                arrayToHash(action.sourceIds) :\n                excludeStaticSources(eventSources, context), activeRange, action.isRefetch || false, context);\n        case 'RECEIVE_EVENTS':\n        case 'RECEIVE_EVENT_ERROR':\n            return receiveResponse(eventSources, action.sourceId, action.fetchId, action.fetchRange);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return {};\n        default:\n            return eventSources;\n    }\n}\nfunction reduceEventSourcesNewTimeZone(eventSources, dateProfile, context) {\n    let activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    return fetchSourcesByIds(eventSources, excludeStaticSources(eventSources, context), activeRange, true, context);\n}\nfunction computeEventSourcesLoading(eventSources) {\n    for (let sourceId in eventSources) {\n        if (eventSources[sourceId].isFetching) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction addSources(eventSourceHash, sources, fetchRange, context) {\n    let hash = {};\n    for (let source of sources) {\n        hash[source.sourceId] = source;\n    }\n    if (fetchRange) {\n        hash = fetchDirtySources(hash, fetchRange, context);\n    }\n    return Object.assign(Object.assign({}, eventSourceHash), hash);\n}\nfunction removeSource(eventSourceHash, sourceId) {\n    return filterHash(eventSourceHash, (eventSource) => eventSource.sourceId !== sourceId);\n}\nfunction fetchDirtySources(sourceHash, fetchRange, context) {\n    return fetchSourcesByIds(sourceHash, filterHash(sourceHash, (eventSource) => isSourceDirty(eventSource, fetchRange, context)), fetchRange, false, context);\n}\nfunction isSourceDirty(eventSource, fetchRange, context) {\n    if (!doesSourceNeedRange(eventSource, context)) {\n        return !eventSource.latestFetchId;\n    }\n    return !context.options.lazyFetching ||\n        !eventSource.fetchRange ||\n        eventSource.isFetching || // always cancel outdated in-progress fetches\n        fetchRange.start < eventSource.fetchRange.start ||\n        fetchRange.end > eventSource.fetchRange.end;\n}\nfunction fetchSourcesByIds(prevSources, sourceIdHash, fetchRange, isRefetch, context) {\n    let nextSources = {};\n    for (let sourceId in prevSources) {\n        let source = prevSources[sourceId];\n        if (sourceIdHash[sourceId]) {\n            nextSources[sourceId] = fetchSource(source, fetchRange, isRefetch, context);\n        }\n        else {\n            nextSources[sourceId] = source;\n        }\n    }\n    return nextSources;\n}\nfunction fetchSource(eventSource, fetchRange, isRefetch, context) {\n    let { options, calendarApi } = context;\n    let sourceDef = context.pluginHooks.eventSourceDefs[eventSource.sourceDefId];\n    let fetchId = guid();\n    sourceDef.fetch({\n        eventSource,\n        range: fetchRange,\n        isRefetch,\n        context,\n    }, (res) => {\n        let { rawEvents } = res;\n        if (options.eventSourceSuccess) {\n            rawEvents = options.eventSourceSuccess.call(calendarApi, rawEvents, res.response) || rawEvents;\n        }\n        if (eventSource.success) {\n            rawEvents = eventSource.success.call(calendarApi, rawEvents, res.response) || rawEvents;\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENTS',\n            sourceId: eventSource.sourceId,\n            fetchId,\n            fetchRange,\n            rawEvents,\n        });\n    }, (error) => {\n        let errorHandled = false;\n        if (options.eventSourceFailure) {\n            options.eventSourceFailure.call(calendarApi, error);\n            errorHandled = true;\n        }\n        if (eventSource.failure) {\n            eventSource.failure(error);\n            errorHandled = true;\n        }\n        if (!errorHandled) {\n            console.warn(error.message, error);\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENT_ERROR',\n            sourceId: eventSource.sourceId,\n            fetchId,\n            fetchRange,\n            error,\n        });\n    });\n    return Object.assign(Object.assign({}, eventSource), { isFetching: true, latestFetchId: fetchId });\n}\nfunction receiveResponse(sourceHash, sourceId, fetchId, fetchRange) {\n    let eventSource = sourceHash[sourceId];\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId) {\n        return Object.assign(Object.assign({}, sourceHash), { [sourceId]: Object.assign(Object.assign({}, eventSource), { isFetching: false, fetchRange }) });\n    }\n    return sourceHash;\n}\nfunction excludeStaticSources(eventSources, context) {\n    return filterHash(eventSources, (eventSource) => doesSourceNeedRange(eventSource, context));\n}\nfunction parseInitialSources(rawOptions, context) {\n    let refiners = buildEventSourceRefiners(context);\n    let rawSources = [].concat(rawOptions.eventSources || []);\n    let sources = []; // parsed\n    if (rawOptions.initialEvents) {\n        rawSources.unshift(rawOptions.initialEvents);\n    }\n    if (rawOptions.events) {\n        rawSources.unshift(rawOptions.events);\n    }\n    for (let rawSource of rawSources) {\n        let source = parseEventSource(rawSource, context, refiners);\n        if (source) {\n            sources.push(source);\n        }\n    }\n    return sources;\n}\nfunction doesSourceNeedRange(eventSource, context) {\n    let defs = context.pluginHooks.eventSourceDefs;\n    return !defs[eventSource.sourceDefId].ignoreRange;\n}\n\nfunction reduceDateSelection(currentSelection, action) {\n    switch (action.type) {\n        case 'UNSELECT_DATES':\n            return null;\n        case 'SELECT_DATES':\n            return action.selection;\n        default:\n            return currentSelection;\n    }\n}\n\nfunction reduceSelectedEvent(currentInstanceId, action) {\n    switch (action.type) {\n        case 'UNSELECT_EVENT':\n            return '';\n        case 'SELECT_EVENT':\n            return action.eventInstanceId;\n        default:\n            return currentInstanceId;\n    }\n}\n\nfunction reduceEventDrag(currentDrag, action) {\n    let newDrag;\n    switch (action.type) {\n        case 'UNSET_EVENT_DRAG':\n            return null;\n        case 'SET_EVENT_DRAG':\n            newDrag = action.state;\n            return {\n                affectedEvents: newDrag.affectedEvents,\n                mutatedEvents: newDrag.mutatedEvents,\n                isEvent: newDrag.isEvent,\n            };\n        default:\n            return currentDrag;\n    }\n}\n\nfunction reduceEventResize(currentResize, action) {\n    let newResize;\n    switch (action.type) {\n        case 'UNSET_EVENT_RESIZE':\n            return null;\n        case 'SET_EVENT_RESIZE':\n            newResize = action.state;\n            return {\n                affectedEvents: newResize.affectedEvents,\n                mutatedEvents: newResize.mutatedEvents,\n                isEvent: newResize.isEvent,\n            };\n        default:\n            return currentResize;\n    }\n}\n\nfunction parseToolbars(calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    let header = calendarOptions.headerToolbar ? parseToolbar(calendarOptions.headerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;\n    let footer = calendarOptions.footerToolbar ? parseToolbar(calendarOptions.footerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;\n    return { header, footer };\n}\nfunction parseToolbar(sectionStrHash, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    let sectionWidgets = {};\n    let viewsWithButtons = [];\n    let hasTitle = false;\n    for (let sectionName in sectionStrHash) {\n        let sectionStr = sectionStrHash[sectionName];\n        let sectionRes = parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi);\n        sectionWidgets[sectionName] = sectionRes.widgets;\n        viewsWithButtons.push(...sectionRes.viewsWithButtons);\n        hasTitle = hasTitle || sectionRes.hasTitle;\n    }\n    return { sectionWidgets, viewsWithButtons, hasTitle };\n}\n/*\nBAD: querying icons and text here. should be done at render time\n*/\nfunction parseSection(sectionStr, calendarOptions, // defaults+overrides, then refined\ncalendarOptionOverrides, // overrides only!, unrefined :(\ntheme, viewSpecs, calendarApi) {\n    let isRtl = calendarOptions.direction === 'rtl';\n    let calendarCustomButtons = calendarOptions.customButtons || {};\n    let calendarButtonTextOverrides = calendarOptionOverrides.buttonText || {};\n    let calendarButtonText = calendarOptions.buttonText || {};\n    let calendarButtonHintOverrides = calendarOptionOverrides.buttonHints || {};\n    let calendarButtonHints = calendarOptions.buttonHints || {};\n    let sectionSubstrs = sectionStr ? sectionStr.split(' ') : [];\n    let viewsWithButtons = [];\n    let hasTitle = false;\n    let widgets = sectionSubstrs.map((buttonGroupStr) => (buttonGroupStr.split(',').map((buttonName) => {\n        if (buttonName === 'title') {\n            hasTitle = true;\n            return { buttonName };\n        }\n        let customButtonProps;\n        let viewSpec;\n        let buttonClick;\n        let buttonIcon; // only one of these will be set\n        let buttonText; // \"\n        let buttonHint;\n        // ^ for the title=\"\" attribute, for accessibility\n        if ((customButtonProps = calendarCustomButtons[buttonName])) {\n            buttonClick = (ev) => {\n                if (customButtonProps.click) {\n                    customButtonProps.click.call(ev.target, ev, ev.target); // TODO: use Calendar this context?\n                }\n            };\n            (buttonIcon = theme.getCustomButtonIconClass(customButtonProps)) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = customButtonProps.text);\n            buttonHint = customButtonProps.hint || customButtonProps.text;\n        }\n        else if ((viewSpec = viewSpecs[buttonName])) {\n            viewsWithButtons.push(buttonName);\n            buttonClick = () => {\n                calendarApi.changeView(buttonName);\n            };\n            (buttonText = viewSpec.buttonTextOverride) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = viewSpec.buttonTextDefault);\n            let textFallback = viewSpec.buttonTextOverride ||\n                viewSpec.buttonTextDefault;\n            buttonHint = formatWithOrdinals(viewSpec.buttonTitleOverride ||\n                viewSpec.buttonTitleDefault ||\n                calendarOptions.viewHint, [textFallback, buttonName], // view-name = buttonName\n            textFallback);\n        }\n        else if (calendarApi[buttonName]) { // a calendarApi method\n            buttonClick = () => {\n                calendarApi[buttonName]();\n            };\n            (buttonText = calendarButtonTextOverrides[buttonName]) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = calendarButtonText[buttonName]); // everything else is considered default\n            if (buttonName === 'prevYear' || buttonName === 'nextYear') {\n                let prevOrNext = buttonName === 'prevYear' ? 'prev' : 'next';\n                buttonHint = formatWithOrdinals(calendarButtonHintOverrides[prevOrNext] ||\n                    calendarButtonHints[prevOrNext], [\n                    calendarButtonText.year || 'year',\n                    'year',\n                ], calendarButtonText[buttonName]);\n            }\n            else {\n                buttonHint = (navUnit) => formatWithOrdinals(calendarButtonHintOverrides[buttonName] ||\n                    calendarButtonHints[buttonName], [\n                    calendarButtonText[navUnit] || navUnit,\n                    navUnit,\n                ], calendarButtonText[buttonName]);\n            }\n        }\n        return { buttonName, buttonClick, buttonIcon, buttonText, buttonHint };\n    })));\n    return { widgets, viewsWithButtons, hasTitle };\n}\n\n// always represents the current view. otherwise, it'd need to change value every time date changes\nclass ViewImpl {\n    constructor(type, getCurrentData, dateEnv) {\n        this.type = type;\n        this.getCurrentData = getCurrentData;\n        this.dateEnv = dateEnv;\n    }\n    get calendar() {\n        return this.getCurrentData().calendarApi;\n    }\n    get title() {\n        return this.getCurrentData().viewTitle;\n    }\n    get activeStart() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start);\n    }\n    get activeEnd() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end);\n    }\n    get currentStart() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start);\n    }\n    get currentEnd() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end);\n    }\n    getOption(name) {\n        return this.getCurrentData().options[name]; // are the view-specific options\n    }\n}\n\nlet eventSourceDef$2 = {\n    ignoreRange: true,\n    parseMeta(refined) {\n        if (Array.isArray(refined.events)) {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch(arg, successCallback) {\n        successCallback({\n            rawEvents: arg.eventSource.meta,\n        });\n    },\n};\nconst arrayEventSourcePlugin = createPlugin({\n    name: 'array-event-source',\n    eventSourceDefs: [eventSourceDef$2],\n});\n\nlet eventSourceDef$1 = {\n    parseMeta(refined) {\n        if (typeof refined.events === 'function') {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch(arg, successCallback, errorCallback) {\n        const { dateEnv } = arg.context;\n        const func = arg.eventSource.meta;\n        unpromisify(func.bind(null, buildRangeApiWithTimeZone(arg.range, dateEnv)), (rawEvents) => successCallback({ rawEvents }), errorCallback);\n    },\n};\nconst funcEventSourcePlugin = createPlugin({\n    name: 'func-event-source',\n    eventSourceDefs: [eventSourceDef$1],\n});\n\nconst JSON_FEED_EVENT_SOURCE_REFINERS = {\n    method: String,\n    extraParams: identity,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n};\n\nlet eventSourceDef = {\n    parseMeta(refined) {\n        if (refined.url && (refined.format === 'json' || !refined.format)) {\n            return {\n                url: refined.url,\n                format: 'json',\n                method: (refined.method || 'GET').toUpperCase(),\n                extraParams: refined.extraParams,\n                startParam: refined.startParam,\n                endParam: refined.endParam,\n                timeZoneParam: refined.timeZoneParam,\n            };\n        }\n        return null;\n    },\n    fetch(arg, successCallback, errorCallback) {\n        const { meta } = arg.eventSource;\n        const requestParams = buildRequestParams(meta, arg.range, arg.context);\n        requestJson(meta.method, meta.url, requestParams).then(([rawEvents, response]) => {\n            successCallback({ rawEvents, response });\n        }, errorCallback);\n    },\n};\nconst jsonFeedEventSourcePlugin = createPlugin({\n    name: 'json-event-source',\n    eventSourceRefiners: JSON_FEED_EVENT_SOURCE_REFINERS,\n    eventSourceDefs: [eventSourceDef],\n});\nfunction buildRequestParams(meta, range, context) {\n    let { dateEnv, options } = context;\n    let startParam;\n    let endParam;\n    let timeZoneParam;\n    let customRequestParams;\n    let params = {};\n    startParam = meta.startParam;\n    if (startParam == null) {\n        startParam = options.startParam;\n    }\n    endParam = meta.endParam;\n    if (endParam == null) {\n        endParam = options.endParam;\n    }\n    timeZoneParam = meta.timeZoneParam;\n    if (timeZoneParam == null) {\n        timeZoneParam = options.timeZoneParam;\n    }\n    // retrieve any outbound GET/POST data from the options\n    if (typeof meta.extraParams === 'function') {\n        // supplied as a function that returns a key/value object\n        customRequestParams = meta.extraParams();\n    }\n    else {\n        // probably supplied as a straight key/value object\n        customRequestParams = meta.extraParams || {};\n    }\n    Object.assign(params, customRequestParams);\n    params[startParam] = dateEnv.formatIso(range.start);\n    params[endParam] = dateEnv.formatIso(range.end);\n    if (dateEnv.timeZone !== 'local') {\n        params[timeZoneParam] = dateEnv.timeZone;\n    }\n    return params;\n}\n\nconst SIMPLE_RECURRING_REFINERS = {\n    daysOfWeek: identity,\n    startTime: createDuration,\n    endTime: createDuration,\n    duration: createDuration,\n    startRecur: identity,\n    endRecur: identity,\n};\n\nlet recurring = {\n    parse(refined, dateEnv) {\n        if (refined.daysOfWeek || refined.startTime || refined.endTime || refined.startRecur || refined.endRecur) {\n            let recurringData = {\n                daysOfWeek: refined.daysOfWeek || null,\n                startTime: refined.startTime || null,\n                endTime: refined.endTime || null,\n                startRecur: refined.startRecur ? dateEnv.createMarker(refined.startRecur) : null,\n                endRecur: refined.endRecur ? dateEnv.createMarker(refined.endRecur) : null,\n            };\n            let duration;\n            if (refined.duration) {\n                duration = refined.duration;\n            }\n            if (!duration && refined.startTime && refined.endTime) {\n                duration = subtractDurations(refined.endTime, refined.startTime);\n            }\n            return {\n                allDayGuess: Boolean(!refined.startTime && !refined.endTime),\n                duration,\n                typeData: recurringData, // doesn't need endTime anymore but oh well\n            };\n        }\n        return null;\n    },\n    expand(typeData, framingRange, dateEnv) {\n        let clippedFramingRange = intersectRanges(framingRange, { start: typeData.startRecur, end: typeData.endRecur });\n        if (clippedFramingRange) {\n            return expandRanges(typeData.daysOfWeek, typeData.startTime, clippedFramingRange, dateEnv);\n        }\n        return [];\n    },\n};\nconst simpleRecurringEventsPlugin = createPlugin({\n    name: 'simple-recurring-event',\n    recurringTypes: [recurring],\n    eventRefiners: SIMPLE_RECURRING_REFINERS,\n});\nfunction expandRanges(daysOfWeek, startTime, framingRange, dateEnv) {\n    let dowHash = daysOfWeek ? arrayToHash(daysOfWeek) : null;\n    let dayMarker = startOfDay(framingRange.start);\n    let endMarker = framingRange.end;\n    let instanceStarts = [];\n    while (dayMarker < endMarker) {\n        let instanceStart;\n        // if everyday, or this particular day-of-week\n        if (!dowHash || dowHash[dayMarker.getUTCDay()]) {\n            if (startTime) {\n                instanceStart = dateEnv.add(dayMarker, startTime);\n            }\n            else {\n                instanceStart = dayMarker;\n            }\n            instanceStarts.push(instanceStart);\n        }\n        dayMarker = addDays(dayMarker, 1);\n    }\n    return instanceStarts;\n}\n\nconst changeHandlerPlugin = createPlugin({\n    name: 'change-handler',\n    optionChangeHandlers: {\n        events(events, context) {\n            handleEventSources([events], context);\n        },\n        eventSources: handleEventSources,\n    },\n});\n/*\nBUG: if `event` was supplied, all previously-given `eventSources` will be wiped out\n*/\nfunction handleEventSources(inputs, context) {\n    let unfoundSources = hashValuesToArray(context.getCurrentData().eventSources);\n    if (unfoundSources.length === 1 &&\n        inputs.length === 1 &&\n        Array.isArray(unfoundSources[0]._raw) &&\n        Array.isArray(inputs[0])) {\n        context.dispatch({\n            type: 'RESET_RAW_EVENTS',\n            sourceId: unfoundSources[0].sourceId,\n            rawEvents: inputs[0],\n        });\n        return;\n    }\n    let newInputs = [];\n    for (let input of inputs) {\n        let inputFound = false;\n        for (let i = 0; i < unfoundSources.length; i += 1) {\n            if (unfoundSources[i]._raw === input) {\n                unfoundSources.splice(i, 1); // delete\n                inputFound = true;\n                break;\n            }\n        }\n        if (!inputFound) {\n            newInputs.push(input);\n        }\n    }\n    for (let unfoundSource of unfoundSources) {\n        context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: unfoundSource.sourceId,\n        });\n    }\n    for (let newInput of newInputs) {\n        context.calendarApi.addEventSource(newInput);\n    }\n}\n\nfunction handleDateProfile(dateProfile, context) {\n    context.emitter.trigger('datesSet', Object.assign(Object.assign({}, buildRangeApiWithTimeZone(dateProfile.activeRange, context.dateEnv)), { view: context.viewApi }));\n}\n\nfunction handleEventStore(eventStore, context) {\n    let { emitter } = context;\n    if (emitter.hasHandlers('eventsSet')) {\n        emitter.trigger('eventsSet', buildEventApis(eventStore, context));\n    }\n}\n\n/*\nthis array is exposed on the root namespace so that UMD plugins can add to it.\nsee the rollup-bundles script.\n*/\nconst globalPlugins = [\n    arrayEventSourcePlugin,\n    funcEventSourcePlugin,\n    jsonFeedEventSourcePlugin,\n    simpleRecurringEventsPlugin,\n    changeHandlerPlugin,\n    createPlugin({\n        name: 'misc',\n        isLoadingFuncs: [\n            (state) => computeEventSourcesLoading(state.eventSources),\n        ],\n        propSetHandlers: {\n            dateProfile: handleDateProfile,\n            eventStore: handleEventStore,\n        },\n    }),\n];\n\nclass TaskRunner {\n    constructor(runTaskOption, drainedOption) {\n        this.runTaskOption = runTaskOption;\n        this.drainedOption = drainedOption;\n        this.queue = [];\n        this.delayedRunner = new DelayedRunner(this.drain.bind(this));\n    }\n    request(task, delay) {\n        this.queue.push(task);\n        this.delayedRunner.request(delay);\n    }\n    pause(scope) {\n        this.delayedRunner.pause(scope);\n    }\n    resume(scope, force) {\n        this.delayedRunner.resume(scope, force);\n    }\n    drain() {\n        let { queue } = this;\n        while (queue.length) {\n            let completedTasks = [];\n            let task;\n            while ((task = queue.shift())) {\n                this.runTask(task);\n                completedTasks.push(task);\n            }\n            this.drained(completedTasks);\n        } // keep going, in case new tasks were added in the drained handler\n    }\n    runTask(task) {\n        if (this.runTaskOption) {\n            this.runTaskOption(task);\n        }\n    }\n    drained(completedTasks) {\n        if (this.drainedOption) {\n            this.drainedOption(completedTasks);\n        }\n    }\n}\n\n// Computes what the title at the top of the calendarApi should be for this view\nfunction buildTitle(dateProfile, viewOptions, dateEnv) {\n    let range;\n    // for views that span a large unit of time, show the proper interval, ignoring stray days before and after\n    if (/^(year|month)$/.test(dateProfile.currentRangeUnit)) {\n        range = dateProfile.currentRange;\n    }\n    else { // for day units or smaller, use the actual day range\n        range = dateProfile.activeRange;\n    }\n    return dateEnv.formatRange(range.start, range.end, createFormatter(viewOptions.titleFormat || buildTitleFormat(dateProfile)), {\n        isEndExclusive: dateProfile.isRangeAllDay,\n        defaultSeparator: viewOptions.titleRangeSeparator,\n    });\n}\n// Generates the format string that should be used to generate the title for the current date range.\n// Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.\nfunction buildTitleFormat(dateProfile) {\n    let { currentRangeUnit } = dateProfile;\n    if (currentRangeUnit === 'year') {\n        return { year: 'numeric' };\n    }\n    if (currentRangeUnit === 'month') {\n        return { year: 'numeric', month: 'long' }; // like \"September 2014\"\n    }\n    let days = diffWholeDays(dateProfile.currentRange.start, dateProfile.currentRange.end);\n    if (days !== null && days > 1) {\n        // multi-day range. shorter, like \"Sep 9 - 10 2014\"\n        return { year: 'numeric', month: 'short', day: 'numeric' };\n    }\n    // one day. longer, like \"September 9 2014\"\n    return { year: 'numeric', month: 'long', day: 'numeric' };\n}\n\n// in future refactor, do the redux-style function(state=initial) for initial-state\n// also, whatever is happening in constructor, have it happen in action queue too\nclass CalendarDataManager {\n    constructor(props) {\n        this.computeCurrentViewData = memoize(this._computeCurrentViewData);\n        this.organizeRawLocales = memoize(organizeRawLocales);\n        this.buildLocale = memoize(buildLocale);\n        this.buildPluginHooks = buildBuildPluginHooks();\n        this.buildDateEnv = memoize(buildDateEnv$1);\n        this.buildTheme = memoize(buildTheme);\n        this.parseToolbars = memoize(parseToolbars);\n        this.buildViewSpecs = memoize(buildViewSpecs);\n        this.buildDateProfileGenerator = memoizeObjArg(buildDateProfileGenerator);\n        this.buildViewApi = memoize(buildViewApi);\n        this.buildViewUiProps = memoizeObjArg(buildViewUiProps);\n        this.buildEventUiBySource = memoize(buildEventUiBySource, isPropsEqual);\n        this.buildEventUiBases = memoize(buildEventUiBases);\n        this.parseContextBusinessHours = memoizeObjArg(parseContextBusinessHours);\n        this.buildTitle = memoize(buildTitle);\n        this.emitter = new Emitter();\n        this.actionRunner = new TaskRunner(this._handleAction.bind(this), this.updateData.bind(this));\n        this.currentCalendarOptionsInput = {};\n        this.currentCalendarOptionsRefined = {};\n        this.currentViewOptionsInput = {};\n        this.currentViewOptionsRefined = {};\n        this.currentCalendarOptionsRefiners = {};\n        this.optionsForRefining = [];\n        this.optionsForHandling = [];\n        this.getCurrentData = () => this.data;\n        this.dispatch = (action) => {\n            this.actionRunner.request(action); // protects against recursive calls to _handleAction\n        };\n        this.props = props;\n        this.actionRunner.pause();\n        let dynamicOptionOverrides = {};\n        let optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        let currentViewType = optionsData.calendarOptions.initialView || optionsData.pluginHooks.initialView;\n        let currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        this.emitter.setThisContext(props.calendarApi);\n        this.emitter.setOptions(currentViewData.options);\n        let currentDate = getInitialDate(optionsData.calendarOptions, optionsData.dateEnv);\n        let dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        if (!rangeContainsMarker(dateProfile.activeRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        let calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: this.emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        // needs to be after setThisContext\n        for (let callback of optionsData.pluginHooks.contextInit) {\n            callback(calendarContext);\n        }\n        // NOT DRY\n        let eventSources = initEventSources(optionsData.calendarOptions, dateProfile, calendarContext);\n        let initialState = {\n            dynamicOptionOverrides,\n            currentViewType,\n            currentDate,\n            dateProfile,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            eventSources,\n            eventUiBases: {},\n            eventStore: createEmptyEventStore(),\n            renderableEventStore: createEmptyEventStore(),\n            dateSelection: null,\n            eventSelection: '',\n            eventDrag: null,\n            eventResize: null,\n            selectionConfig: this.buildViewUiProps(calendarContext).selectionConfig,\n        };\n        let contextAndState = Object.assign(Object.assign({}, calendarContext), initialState);\n        for (let reducer of optionsData.pluginHooks.reducers) {\n            Object.assign(initialState, reducer(null, null, contextAndState));\n        }\n        if (computeIsLoading(initialState, calendarContext)) {\n            this.emitter.trigger('loading', true); // NOT DRY\n        }\n        this.state = initialState;\n        this.updateData();\n        this.actionRunner.resume();\n    }\n    resetOptions(optionOverrides, changedOptionNames) {\n        let { props } = this;\n        if (changedOptionNames === undefined) {\n            props.optionOverrides = optionOverrides;\n        }\n        else {\n            props.optionOverrides = Object.assign(Object.assign({}, (props.optionOverrides || {})), optionOverrides);\n            this.optionsForRefining.push(...changedOptionNames);\n        }\n        if (changedOptionNames === undefined || changedOptionNames.length) {\n            this.actionRunner.request({\n                type: 'NOTHING',\n            });\n        }\n    }\n    _handleAction(action) {\n        let { props, state, emitter } = this;\n        let dynamicOptionOverrides = reduceDynamicOptionOverrides(state.dynamicOptionOverrides, action);\n        let optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        let currentViewType = reduceViewType(state.currentViewType, action);\n        let currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        emitter.setThisContext(props.calendarApi);\n        emitter.setOptions(currentViewData.options);\n        let calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        let { currentDate, dateProfile } = state;\n        if (this.data && this.data.dateProfileGenerator !== currentViewData.dateProfileGenerator) { // hack\n            dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        }\n        currentDate = reduceCurrentDate(currentDate, action);\n        dateProfile = reduceDateProfile(dateProfile, action, currentDate, currentViewData.dateProfileGenerator);\n        if (action.type === 'PREV' || // TODO: move this logic into DateProfileGenerator\n            action.type === 'NEXT' || // \"\n            !rangeContainsMarker(dateProfile.currentRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        let eventSources = reduceEventSources(state.eventSources, action, dateProfile, calendarContext);\n        let eventStore = reduceEventStore(state.eventStore, action, eventSources, dateProfile, calendarContext);\n        let isEventsLoading = computeEventSourcesLoading(eventSources); // BAD. also called in this func in computeIsLoading\n        let renderableEventStore = (isEventsLoading && !currentViewData.options.progressiveEventRendering) ?\n            (state.renderableEventStore || eventStore) : // try from previous state\n            eventStore;\n        let { eventUiSingleBase, selectionConfig } = this.buildViewUiProps(calendarContext); // will memoize obj\n        let eventUiBySource = this.buildEventUiBySource(eventSources);\n        let eventUiBases = this.buildEventUiBases(renderableEventStore.defs, eventUiSingleBase, eventUiBySource);\n        let newState = {\n            dynamicOptionOverrides,\n            currentViewType,\n            currentDate,\n            dateProfile,\n            eventSources,\n            eventStore,\n            renderableEventStore,\n            selectionConfig,\n            eventUiBases,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            dateSelection: reduceDateSelection(state.dateSelection, action),\n            eventSelection: reduceSelectedEvent(state.eventSelection, action),\n            eventDrag: reduceEventDrag(state.eventDrag, action),\n            eventResize: reduceEventResize(state.eventResize, action),\n        };\n        let contextAndState = Object.assign(Object.assign({}, calendarContext), newState);\n        for (let reducer of optionsData.pluginHooks.reducers) {\n            Object.assign(newState, reducer(state, action, contextAndState)); // give the OLD state, for old value\n        }\n        let wasLoading = computeIsLoading(state, calendarContext);\n        let isLoading = computeIsLoading(newState, calendarContext);\n        // TODO: use propSetHandlers in plugin system\n        if (!wasLoading && isLoading) {\n            emitter.trigger('loading', true);\n        }\n        else if (wasLoading && !isLoading) {\n            emitter.trigger('loading', false);\n        }\n        this.state = newState;\n        if (props.onAction) {\n            props.onAction(action);\n        }\n    }\n    updateData() {\n        let { props, state } = this;\n        let oldData = this.data;\n        let optionsData = this.computeOptionsData(props.optionOverrides, state.dynamicOptionOverrides, props.calendarApi);\n        let currentViewData = this.computeCurrentViewData(state.currentViewType, optionsData, props.optionOverrides, state.dynamicOptionOverrides);\n        let data = this.data = Object.assign(Object.assign(Object.assign({ viewTitle: this.buildTitle(state.dateProfile, currentViewData.options, optionsData.dateEnv), calendarApi: props.calendarApi, dispatch: this.dispatch, emitter: this.emitter, getCurrentData: this.getCurrentData }, optionsData), currentViewData), state);\n        let changeHandlers = optionsData.pluginHooks.optionChangeHandlers;\n        let oldCalendarOptions = oldData && oldData.calendarOptions;\n        let newCalendarOptions = optionsData.calendarOptions;\n        if (oldCalendarOptions && oldCalendarOptions !== newCalendarOptions) {\n            if (oldCalendarOptions.timeZone !== newCalendarOptions.timeZone) {\n                // hack\n                state.eventSources = data.eventSources = reduceEventSourcesNewTimeZone(data.eventSources, state.dateProfile, data);\n                state.eventStore = data.eventStore = rezoneEventStoreDates(data.eventStore, oldData.dateEnv, data.dateEnv);\n                state.renderableEventStore = data.renderableEventStore = rezoneEventStoreDates(data.renderableEventStore, oldData.dateEnv, data.dateEnv);\n            }\n            for (let optionName in changeHandlers) {\n                if (this.optionsForHandling.indexOf(optionName) !== -1 ||\n                    oldCalendarOptions[optionName] !== newCalendarOptions[optionName]) {\n                    changeHandlers[optionName](newCalendarOptions[optionName], data);\n                }\n            }\n        }\n        this.optionsForHandling = [];\n        if (props.onData) {\n            props.onData(data);\n        }\n    }\n    computeOptionsData(optionOverrides, dynamicOptionOverrides, calendarApi) {\n        // TODO: blacklist options that are handled by optionChangeHandlers\n        if (!this.optionsForRefining.length &&\n            optionOverrides === this.stableOptionOverrides &&\n            dynamicOptionOverrides === this.stableDynamicOptionOverrides) {\n            return this.stableCalendarOptionsData;\n        }\n        let { refinedOptions, pluginHooks, localeDefaults, availableLocaleData, extra, } = this.processRawCalendarOptions(optionOverrides, dynamicOptionOverrides);\n        warnUnknownOptions(extra);\n        let dateEnv = this.buildDateEnv(refinedOptions.timeZone, refinedOptions.locale, refinedOptions.weekNumberCalculation, refinedOptions.firstDay, refinedOptions.weekText, pluginHooks, availableLocaleData, refinedOptions.defaultRangeSeparator);\n        let viewSpecs = this.buildViewSpecs(pluginHooks.views, this.stableOptionOverrides, this.stableDynamicOptionOverrides, localeDefaults);\n        let theme = this.buildTheme(refinedOptions, pluginHooks);\n        let toolbarConfig = this.parseToolbars(refinedOptions, this.stableOptionOverrides, theme, viewSpecs, calendarApi);\n        return this.stableCalendarOptionsData = {\n            calendarOptions: refinedOptions,\n            pluginHooks,\n            dateEnv,\n            viewSpecs,\n            theme,\n            toolbarConfig,\n            localeDefaults,\n            availableRawLocales: availableLocaleData.map,\n        };\n    }\n    // always called from behind a memoizer\n    processRawCalendarOptions(optionOverrides, dynamicOptionOverrides) {\n        let { locales, locale } = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        let availableLocaleData = this.organizeRawLocales(locales);\n        let availableRawLocales = availableLocaleData.map;\n        let localeDefaults = this.buildLocale(locale || availableLocaleData.defaultCode, availableRawLocales).options;\n        let pluginHooks = this.buildPluginHooks(optionOverrides.plugins || [], globalPlugins);\n        let refiners = this.currentCalendarOptionsRefiners = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        let extra = {};\n        let raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            localeDefaults,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        let refined = {};\n        let currentRaw = this.currentCalendarOptionsInput;\n        let currentRefined = this.currentCalendarOptionsRefined;\n        let anyChanges = false;\n        for (let optionName in raw) {\n            if (this.optionsForRefining.indexOf(optionName) === -1 && (raw[optionName] === currentRaw[optionName] || (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                (optionName in currentRaw) &&\n                COMPLEX_OPTION_COMPARATORS[optionName](currentRaw[optionName], raw[optionName])))) {\n                refined[optionName] = currentRefined[optionName];\n            }\n            else if (refiners[optionName]) {\n                refined[optionName] = refiners[optionName](raw[optionName]);\n                anyChanges = true;\n            }\n            else {\n                extra[optionName] = currentRaw[optionName];\n            }\n        }\n        if (anyChanges) {\n            this.currentCalendarOptionsInput = raw;\n            this.currentCalendarOptionsRefined = refined;\n            this.stableOptionOverrides = optionOverrides;\n            this.stableDynamicOptionOverrides = dynamicOptionOverrides;\n        }\n        this.optionsForHandling.push(...this.optionsForRefining);\n        this.optionsForRefining = [];\n        return {\n            rawOptions: this.currentCalendarOptionsInput,\n            refinedOptions: this.currentCalendarOptionsRefined,\n            pluginHooks,\n            availableLocaleData,\n            localeDefaults,\n            extra,\n        };\n    }\n    _computeCurrentViewData(viewType, optionsData, optionOverrides, dynamicOptionOverrides) {\n        let viewSpec = optionsData.viewSpecs[viewType];\n        if (!viewSpec) {\n            throw new Error(`viewType \"${viewType}\" is not available. Please make sure you've loaded all neccessary plugins`);\n        }\n        let { refinedOptions, extra } = this.processRawViewOptions(viewSpec, optionsData.pluginHooks, optionsData.localeDefaults, optionOverrides, dynamicOptionOverrides);\n        warnUnknownOptions(extra);\n        let dateProfileGenerator = this.buildDateProfileGenerator({\n            dateProfileGeneratorClass: viewSpec.optionDefaults.dateProfileGeneratorClass,\n            duration: viewSpec.duration,\n            durationUnit: viewSpec.durationUnit,\n            usesMinMaxTime: viewSpec.optionDefaults.usesMinMaxTime,\n            dateEnv: optionsData.dateEnv,\n            calendarApi: this.props.calendarApi,\n            slotMinTime: refinedOptions.slotMinTime,\n            slotMaxTime: refinedOptions.slotMaxTime,\n            showNonCurrentDates: refinedOptions.showNonCurrentDates,\n            dayCount: refinedOptions.dayCount,\n            dateAlignment: refinedOptions.dateAlignment,\n            dateIncrement: refinedOptions.dateIncrement,\n            hiddenDays: refinedOptions.hiddenDays,\n            weekends: refinedOptions.weekends,\n            nowInput: refinedOptions.now,\n            validRangeInput: refinedOptions.validRange,\n            visibleRangeInput: refinedOptions.visibleRange,\n            fixedWeekCount: refinedOptions.fixedWeekCount,\n        });\n        let viewApi = this.buildViewApi(viewType, this.getCurrentData, optionsData.dateEnv);\n        return { viewSpec, options: refinedOptions, dateProfileGenerator, viewApi };\n    }\n    processRawViewOptions(viewSpec, pluginHooks, localeDefaults, optionOverrides, dynamicOptionOverrides) {\n        let raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            viewSpec.optionDefaults,\n            localeDefaults,\n            optionOverrides,\n            viewSpec.optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        let refiners = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), VIEW_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        let refined = {};\n        let currentRaw = this.currentViewOptionsInput;\n        let currentRefined = this.currentViewOptionsRefined;\n        let anyChanges = false;\n        let extra = {};\n        for (let optionName in raw) {\n            if (raw[optionName] === currentRaw[optionName] ||\n                (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                    COMPLEX_OPTION_COMPARATORS[optionName](raw[optionName], currentRaw[optionName]))) {\n                refined[optionName] = currentRefined[optionName];\n            }\n            else {\n                if (raw[optionName] === this.currentCalendarOptionsInput[optionName] ||\n                    (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                        COMPLEX_OPTION_COMPARATORS[optionName](raw[optionName], this.currentCalendarOptionsInput[optionName]))) {\n                    if (optionName in this.currentCalendarOptionsRefined) { // might be an \"extra\" prop\n                        refined[optionName] = this.currentCalendarOptionsRefined[optionName];\n                    }\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                }\n                else {\n                    extra[optionName] = raw[optionName];\n                }\n                anyChanges = true;\n            }\n        }\n        if (anyChanges) {\n            this.currentViewOptionsInput = raw;\n            this.currentViewOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentViewOptionsInput,\n            refinedOptions: this.currentViewOptionsRefined,\n            extra,\n        };\n    }\n}\nfunction buildDateEnv$1(timeZone, explicitLocale, weekNumberCalculation, firstDay, weekText, pluginHooks, availableLocaleData, defaultSeparator) {\n    let locale = buildLocale(explicitLocale || availableLocaleData.defaultCode, availableLocaleData.map);\n    return new DateEnv({\n        calendarSystem: 'gregory',\n        timeZone,\n        namedTimeZoneImpl: pluginHooks.namedTimeZonedImpl,\n        locale,\n        weekNumberCalculation,\n        firstDay,\n        weekText,\n        cmdFormatter: pluginHooks.cmdFormatter,\n        defaultSeparator,\n    });\n}\nfunction buildTheme(options, pluginHooks) {\n    let ThemeClass = pluginHooks.themeClasses[options.themeSystem] || StandardTheme;\n    return new ThemeClass(options);\n}\nfunction buildDateProfileGenerator(props) {\n    let DateProfileGeneratorClass = props.dateProfileGeneratorClass || DateProfileGenerator;\n    return new DateProfileGeneratorClass(props);\n}\nfunction buildViewApi(type, getCurrentData, dateEnv) {\n    return new ViewImpl(type, getCurrentData, dateEnv);\n}\nfunction buildEventUiBySource(eventSources) {\n    return mapHash(eventSources, (eventSource) => eventSource.ui);\n}\nfunction buildEventUiBases(eventDefs, eventUiSingleBase, eventUiBySource) {\n    let eventUiBases = { '': eventUiSingleBase };\n    for (let defId in eventDefs) {\n        let def = eventDefs[defId];\n        if (def.sourceId && eventUiBySource[def.sourceId]) {\n            eventUiBases[defId] = eventUiBySource[def.sourceId];\n        }\n    }\n    return eventUiBases;\n}\nfunction buildViewUiProps(calendarContext) {\n    let { options } = calendarContext;\n    return {\n        eventUiSingleBase: createEventUi({\n            display: options.eventDisplay,\n            editable: options.editable,\n            startEditable: options.eventStartEditable,\n            durationEditable: options.eventDurationEditable,\n            constraint: options.eventConstraint,\n            overlap: typeof options.eventOverlap === 'boolean' ? options.eventOverlap : undefined,\n            allow: options.eventAllow,\n            backgroundColor: options.eventBackgroundColor,\n            borderColor: options.eventBorderColor,\n            textColor: options.eventTextColor,\n            color: options.eventColor,\n            // classNames: options.eventClassNames // render hook will handle this\n        }, calendarContext),\n        selectionConfig: createEventUi({\n            constraint: options.selectConstraint,\n            overlap: typeof options.selectOverlap === 'boolean' ? options.selectOverlap : undefined,\n            allow: options.selectAllow,\n        }, calendarContext),\n    };\n}\nfunction computeIsLoading(state, context) {\n    for (let isLoadingFunc of context.pluginHooks.isLoadingFuncs) {\n        if (isLoadingFunc(state)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction parseContextBusinessHours(calendarContext) {\n    return parseBusinessHours(calendarContext.options.businessHours, calendarContext);\n}\nfunction warnUnknownOptions(options, viewName) {\n    for (let optionName in options) {\n        console.warn(`Unknown option '${optionName}'` +\n            (viewName ? ` for view '${viewName}'` : ''));\n    }\n}\n\nclass ToolbarSection extends BaseComponent {\n    render() {\n        let children = this.props.widgetGroups.map((widgetGroup) => this.renderWidgetGroup(widgetGroup));\n        return createElement('div', { className: 'fc-toolbar-chunk' }, ...children);\n    }\n    renderWidgetGroup(widgetGroup) {\n        let { props } = this;\n        let { theme } = this.context;\n        let children = [];\n        let isOnlyButtons = true;\n        for (let widget of widgetGroup) {\n            let { buttonName, buttonClick, buttonText, buttonIcon, buttonHint } = widget;\n            if (buttonName === 'title') {\n                isOnlyButtons = false;\n                children.push(createElement(\"h2\", { className: \"fc-toolbar-title\", id: props.titleId }, props.title));\n            }\n            else {\n                let isPressed = buttonName === props.activeButton;\n                let isDisabled = (!props.isTodayEnabled && buttonName === 'today') ||\n                    (!props.isPrevEnabled && buttonName === 'prev') ||\n                    (!props.isNextEnabled && buttonName === 'next');\n                let buttonClasses = [`fc-${buttonName}-button`, theme.getClass('button')];\n                if (isPressed) {\n                    buttonClasses.push(theme.getClass('buttonActive'));\n                }\n                children.push(createElement(\"button\", { type: \"button\", title: typeof buttonHint === 'function' ? buttonHint(props.navUnit) : buttonHint, disabled: isDisabled, \"aria-pressed\": isPressed, className: buttonClasses.join(' '), onClick: buttonClick }, buttonText || (buttonIcon ? createElement(\"span\", { className: buttonIcon, role: \"img\" }) : '')));\n            }\n        }\n        if (children.length > 1) {\n            let groupClassName = (isOnlyButtons && theme.getClass('buttonGroup')) || '';\n            return createElement('div', { className: groupClassName }, ...children);\n        }\n        return children[0];\n    }\n}\n\nclass Toolbar extends BaseComponent {\n    render() {\n        let { model, extraClassName } = this.props;\n        let forceLtr = false;\n        let startContent;\n        let endContent;\n        let sectionWidgets = model.sectionWidgets;\n        let centerContent = sectionWidgets.center;\n        if (sectionWidgets.left) {\n            forceLtr = true;\n            startContent = sectionWidgets.left;\n        }\n        else {\n            startContent = sectionWidgets.start;\n        }\n        if (sectionWidgets.right) {\n            forceLtr = true;\n            endContent = sectionWidgets.right;\n        }\n        else {\n            endContent = sectionWidgets.end;\n        }\n        let classNames = [\n            extraClassName || '',\n            'fc-toolbar',\n            forceLtr ? 'fc-toolbar-ltr' : '',\n        ];\n        return (createElement(\"div\", { className: classNames.join(' ') },\n            this.renderSection('start', startContent || []),\n            this.renderSection('center', centerContent || []),\n            this.renderSection('end', endContent || [])));\n    }\n    renderSection(key, widgetGroups) {\n        let { props } = this;\n        return (createElement(ToolbarSection, { key: key, widgetGroups: widgetGroups, title: props.title, navUnit: props.navUnit, activeButton: props.activeButton, isTodayEnabled: props.isTodayEnabled, isPrevEnabled: props.isPrevEnabled, isNextEnabled: props.isNextEnabled, titleId: props.titleId }));\n    }\n}\n\nclass ViewHarness extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            availableWidth: null,\n        };\n        this.handleEl = (el) => {\n            this.el = el;\n            setRef(this.props.elRef, el);\n            this.updateAvailableWidth();\n        };\n        this.handleResize = () => {\n            this.updateAvailableWidth();\n        };\n    }\n    render() {\n        let { props, state } = this;\n        let { aspectRatio } = props;\n        let classNames = [\n            'fc-view-harness',\n            (aspectRatio || props.liquid || props.height)\n                ? 'fc-view-harness-active' // harness controls the height\n                : 'fc-view-harness-passive', // let the view do the height\n        ];\n        let height = '';\n        let paddingBottom = '';\n        if (aspectRatio) {\n            if (state.availableWidth !== null) {\n                height = state.availableWidth / aspectRatio;\n            }\n            else {\n                // while waiting to know availableWidth, we can't set height to *zero*\n                // because will cause lots of unnecessary scrollbars within scrollgrid.\n                // BETTER: don't start rendering ANYTHING yet until we know container width\n                // NOTE: why not always use paddingBottom? Causes height oscillation (issue 5606)\n                paddingBottom = `${(1 / aspectRatio) * 100}%`;\n            }\n        }\n        else {\n            height = props.height || '';\n        }\n        return (createElement(\"div\", { \"aria-labelledby\": props.labeledById, ref: this.handleEl, className: classNames.join(' '), style: { height, paddingBottom } }, props.children));\n    }\n    componentDidMount() {\n        this.context.addResizeHandler(this.handleResize);\n    }\n    componentWillUnmount() {\n        this.context.removeResizeHandler(this.handleResize);\n    }\n    updateAvailableWidth() {\n        if (this.el && // needed. but why?\n            this.props.aspectRatio // aspectRatio is the only height setting that needs availableWidth\n        ) {\n            this.setState({ availableWidth: this.el.offsetWidth });\n        }\n    }\n}\n\n/*\nDetects when the user clicks on an event within a DateComponent\n*/\nclass EventClicking extends Interaction {\n    constructor(settings) {\n        super(settings);\n        this.handleSegClick = (ev, segEl) => {\n            let { component } = this;\n            let { context } = component;\n            let seg = getElSeg(segEl);\n            if (seg && // might be the <div> surrounding the more link\n                component.isValidSegDownEl(ev.target)) {\n                // our way to simulate a link click for elements that can't be <a> tags\n                // grab before trigger fired in case trigger trashes DOM thru rerendering\n                let hasUrlContainer = elementClosest(ev.target, '.fc-event-forced-url');\n                let url = hasUrlContainer ? hasUrlContainer.querySelector('a[href]').href : '';\n                context.emitter.trigger('eventClick', {\n                    el: segEl,\n                    event: new EventImpl(component.context, seg.eventRange.def, seg.eventRange.instance),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n                if (url && !ev.defaultPrevented) {\n                    window.location.href = url;\n                }\n            }\n        };\n        this.destroy = listenBySelector(settings.el, 'click', '.fc-event', // on both fg and bg events\n        this.handleSegClick);\n    }\n}\n\n/*\nTriggers events and adds/removes core classNames when the user's pointer\nenters/leaves event-elements of a component.\n*/\nclass EventHovering extends Interaction {\n    constructor(settings) {\n        super(settings);\n        // for simulating an eventMouseLeave when the event el is destroyed while mouse is over it\n        this.handleEventElRemove = (el) => {\n            if (el === this.currentSegEl) {\n                this.handleSegLeave(null, this.currentSegEl);\n            }\n        };\n        this.handleSegEnter = (ev, segEl) => {\n            if (getElSeg(segEl)) { // TODO: better way to make sure not hovering over more+ link or its wrapper\n                this.currentSegEl = segEl;\n                this.triggerEvent('eventMouseEnter', ev, segEl);\n            }\n        };\n        this.handleSegLeave = (ev, segEl) => {\n            if (this.currentSegEl) {\n                this.currentSegEl = null;\n                this.triggerEvent('eventMouseLeave', ev, segEl);\n            }\n        };\n        this.removeHoverListeners = listenToHoverBySelector(settings.el, '.fc-event', // on both fg and bg events\n        this.handleSegEnter, this.handleSegLeave);\n    }\n    destroy() {\n        this.removeHoverListeners();\n    }\n    triggerEvent(publicEvName, ev, segEl) {\n        let { component } = this;\n        let { context } = component;\n        let seg = getElSeg(segEl);\n        if (!ev || component.isValidSegDownEl(ev.target)) {\n            context.emitter.trigger(publicEvName, {\n                el: segEl,\n                event: new EventImpl(context, seg.eventRange.def, seg.eventRange.instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        }\n    }\n}\n\nclass CalendarContent extends PureComponent {\n    constructor() {\n        super(...arguments);\n        this.buildViewContext = memoize(buildViewContext);\n        this.buildViewPropTransformers = memoize(buildViewPropTransformers);\n        this.buildToolbarProps = memoize(buildToolbarProps);\n        this.headerRef = createRef();\n        this.footerRef = createRef();\n        this.interactionsStore = {};\n        // eslint-disable-next-line\n        this.state = {\n            viewLabelId: getUniqueDomId(),\n        };\n        // Component Registration\n        // -----------------------------------------------------------------------------------------------------------------\n        this.registerInteractiveComponent = (component, settingsInput) => {\n            let settings = parseInteractionSettings(component, settingsInput);\n            let DEFAULT_INTERACTIONS = [\n                EventClicking,\n                EventHovering,\n            ];\n            let interactionClasses = DEFAULT_INTERACTIONS.concat(this.props.pluginHooks.componentInteractions);\n            let interactions = interactionClasses.map((TheInteractionClass) => new TheInteractionClass(settings));\n            this.interactionsStore[component.uid] = interactions;\n            interactionSettingsStore[component.uid] = settings;\n        };\n        this.unregisterInteractiveComponent = (component) => {\n            let listeners = this.interactionsStore[component.uid];\n            if (listeners) {\n                for (let listener of listeners) {\n                    listener.destroy();\n                }\n                delete this.interactionsStore[component.uid];\n            }\n            delete interactionSettingsStore[component.uid];\n        };\n        // Resizing\n        // -----------------------------------------------------------------------------------------------------------------\n        this.resizeRunner = new DelayedRunner(() => {\n            this.props.emitter.trigger('_resize', true); // should window resizes be considered \"forced\" ?\n            this.props.emitter.trigger('windowResize', { view: this.props.viewApi });\n        });\n        this.handleWindowResize = (ev) => {\n            let { options } = this.props;\n            if (options.handleWindowResize &&\n                ev.target === window // avoid jqui events\n            ) {\n                this.resizeRunner.request(options.windowResizeDelay);\n            }\n        };\n    }\n    /*\n    renders INSIDE of an outer div\n    */\n    render() {\n        let { props } = this;\n        let { toolbarConfig, options } = props;\n        let toolbarProps = this.buildToolbarProps(props.viewSpec, props.dateProfile, props.dateProfileGenerator, props.currentDate, getNow(props.options.now, props.dateEnv), // TODO: use NowTimer????\n        props.viewTitle);\n        let viewVGrow = false;\n        let viewHeight = '';\n        let viewAspectRatio;\n        if (props.isHeightAuto || props.forPrint) {\n            viewHeight = '';\n        }\n        else if (options.height != null) {\n            viewVGrow = true;\n        }\n        else if (options.contentHeight != null) {\n            viewHeight = options.contentHeight;\n        }\n        else {\n            viewAspectRatio = Math.max(options.aspectRatio, 0.5); // prevent from getting too tall\n        }\n        let viewContext = this.buildViewContext(props.viewSpec, props.viewApi, props.options, props.dateProfileGenerator, props.dateEnv, props.theme, props.pluginHooks, props.dispatch, props.getCurrentData, props.emitter, props.calendarApi, this.registerInteractiveComponent, this.unregisterInteractiveComponent);\n        let viewLabelId = (toolbarConfig.header && toolbarConfig.header.hasTitle)\n            ? this.state.viewLabelId\n            : undefined;\n        return (createElement(ViewContextType.Provider, { value: viewContext },\n            toolbarConfig.header && (createElement(Toolbar, Object.assign({ ref: this.headerRef, extraClassName: \"fc-header-toolbar\", model: toolbarConfig.header, titleId: viewLabelId }, toolbarProps))),\n            createElement(ViewHarness, { liquid: viewVGrow, height: viewHeight, aspectRatio: viewAspectRatio, labeledById: viewLabelId },\n                this.renderView(props),\n                this.buildAppendContent()),\n            toolbarConfig.footer && (createElement(Toolbar, Object.assign({ ref: this.footerRef, extraClassName: \"fc-footer-toolbar\", model: toolbarConfig.footer, titleId: \"\" }, toolbarProps)))));\n    }\n    componentDidMount() {\n        let { props } = this;\n        this.calendarInteractions = props.pluginHooks.calendarInteractions\n            .map((CalendarInteractionClass) => new CalendarInteractionClass(props));\n        window.addEventListener('resize', this.handleWindowResize);\n        let { propSetHandlers } = props.pluginHooks;\n        for (let propName in propSetHandlers) {\n            propSetHandlers[propName](props[propName], props);\n        }\n    }\n    componentDidUpdate(prevProps) {\n        let { props } = this;\n        let { propSetHandlers } = props.pluginHooks;\n        for (let propName in propSetHandlers) {\n            if (props[propName] !== prevProps[propName]) {\n                propSetHandlers[propName](props[propName], props);\n            }\n        }\n    }\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.handleWindowResize);\n        this.resizeRunner.clear();\n        for (let interaction of this.calendarInteractions) {\n            interaction.destroy();\n        }\n        this.props.emitter.trigger('_unmount');\n    }\n    buildAppendContent() {\n        let { props } = this;\n        let children = props.pluginHooks.viewContainerAppends.map((buildAppendContent) => buildAppendContent(props));\n        return createElement(Fragment, {}, ...children);\n    }\n    renderView(props) {\n        let { pluginHooks } = props;\n        let { viewSpec } = props;\n        let viewProps = {\n            dateProfile: props.dateProfile,\n            businessHours: props.businessHours,\n            eventStore: props.renderableEventStore,\n            eventUiBases: props.eventUiBases,\n            dateSelection: props.dateSelection,\n            eventSelection: props.eventSelection,\n            eventDrag: props.eventDrag,\n            eventResize: props.eventResize,\n            isHeightAuto: props.isHeightAuto,\n            forPrint: props.forPrint,\n        };\n        let transformers = this.buildViewPropTransformers(pluginHooks.viewPropsTransformers);\n        for (let transformer of transformers) {\n            Object.assign(viewProps, transformer.transform(viewProps, props));\n        }\n        let ViewComponent = viewSpec.component;\n        return (createElement(ViewComponent, Object.assign({}, viewProps)));\n    }\n}\nfunction buildToolbarProps(viewSpec, dateProfile, dateProfileGenerator, currentDate, now, title) {\n    // don't force any date-profiles to valid date profiles (the `false`) so that we can tell if it's invalid\n    let todayInfo = dateProfileGenerator.build(now, undefined, false); // TODO: need `undefined` or else INFINITE LOOP for some reason\n    let prevInfo = dateProfileGenerator.buildPrev(dateProfile, currentDate, false);\n    let nextInfo = dateProfileGenerator.buildNext(dateProfile, currentDate, false);\n    return {\n        title,\n        activeButton: viewSpec.type,\n        navUnit: viewSpec.singleUnit,\n        isTodayEnabled: todayInfo.isValid && !rangeContainsMarker(dateProfile.currentRange, now),\n        isPrevEnabled: prevInfo.isValid,\n        isNextEnabled: nextInfo.isValid,\n    };\n}\n// Plugin\n// -----------------------------------------------------------------------------------------------------------------\nfunction buildViewPropTransformers(theClasses) {\n    return theClasses.map((TheClass) => new TheClass());\n}\n\nclass Calendar extends CalendarImpl {\n    constructor(el, optionOverrides = {}) {\n        super();\n        this.isRendering = false;\n        this.isRendered = false;\n        this.currentClassNames = [];\n        this.customContentRenderId = 0;\n        this.handleAction = (action) => {\n            // actions we know we want to render immediately\n            switch (action.type) {\n                case 'SET_EVENT_DRAG':\n                case 'SET_EVENT_RESIZE':\n                    this.renderRunner.tryDrain();\n            }\n        };\n        this.handleData = (data) => {\n            this.currentData = data;\n            this.renderRunner.request(data.calendarOptions.rerenderDelay);\n        };\n        this.handleRenderRequest = () => {\n            if (this.isRendering) {\n                this.isRendered = true;\n                let { currentData } = this;\n                flushSync(() => {\n                    render(createElement(CalendarRoot, { options: currentData.calendarOptions, theme: currentData.theme, emitter: currentData.emitter }, (classNames, height, isHeightAuto, forPrint) => {\n                        this.setClassNames(classNames);\n                        this.setHeight(height);\n                        return (createElement(RenderId.Provider, { value: this.customContentRenderId },\n                            createElement(CalendarContent, Object.assign({ isHeightAuto: isHeightAuto, forPrint: forPrint }, currentData))));\n                    }), this.el);\n                });\n            }\n            else if (this.isRendered) {\n                this.isRendered = false;\n                render(null, this.el);\n                this.setClassNames([]);\n                this.setHeight('');\n            }\n        };\n        ensureElHasStyles(el);\n        this.el = el;\n        this.renderRunner = new DelayedRunner(this.handleRenderRequest);\n        new CalendarDataManager({\n            optionOverrides,\n            calendarApi: this,\n            onAction: this.handleAction,\n            onData: this.handleData,\n        });\n    }\n    render() {\n        let wasRendering = this.isRendering;\n        if (!wasRendering) {\n            this.isRendering = true;\n        }\n        else {\n            this.customContentRenderId += 1;\n        }\n        this.renderRunner.request();\n        if (wasRendering) {\n            this.updateSize();\n        }\n    }\n    destroy() {\n        if (this.isRendering) {\n            this.isRendering = false;\n            this.renderRunner.request();\n        }\n    }\n    updateSize() {\n        flushSync(() => {\n            super.updateSize();\n        });\n    }\n    batchRendering(func) {\n        this.renderRunner.pause('batchRendering');\n        func();\n        this.renderRunner.resume('batchRendering');\n    }\n    pauseRendering() {\n        this.renderRunner.pause('pauseRendering');\n    }\n    resumeRendering() {\n        this.renderRunner.resume('pauseRendering', true);\n    }\n    resetOptions(optionOverrides, changedOptionNames) {\n        this.currentDataManager.resetOptions(optionOverrides, changedOptionNames);\n    }\n    setClassNames(classNames) {\n        if (!isArraysEqual(classNames, this.currentClassNames)) {\n            let { classList } = this.el;\n            for (let className of this.currentClassNames) {\n                classList.remove(className);\n            }\n            for (let className of classNames) {\n                classList.add(className);\n            }\n            this.currentClassNames = classNames;\n        }\n    }\n    setHeight(height) {\n        applyStyleProp(this.el, 'height', height);\n    }\n}\n\nfunction formatDate(dateInput, options = {}) {\n    let dateEnv = buildDateEnv(options);\n    let formatter = createFormatter(options);\n    let dateMeta = dateEnv.createMarkerMeta(dateInput);\n    if (!dateMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.format(dateMeta.marker, formatter, {\n        forcedTzo: dateMeta.forcedTzo,\n    });\n}\nfunction formatRange(startInput, endInput, options) {\n    let dateEnv = buildDateEnv(typeof options === 'object' && options ? options : {}); // pass in if non-null object\n    let formatter = createFormatter(options);\n    let startMeta = dateEnv.createMarkerMeta(startInput);\n    let endMeta = dateEnv.createMarkerMeta(endInput);\n    if (!startMeta || !endMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.formatRange(startMeta.marker, endMeta.marker, formatter, {\n        forcedStartTzo: startMeta.forcedTzo,\n        forcedEndTzo: endMeta.forcedTzo,\n        isEndExclusive: options.isEndExclusive,\n        defaultSeparator: BASE_OPTION_DEFAULTS.defaultRangeSeparator,\n    });\n}\n// TODO: more DRY and optimized\nfunction buildDateEnv(settings) {\n    let locale = buildLocale(settings.locale || 'en', organizeRawLocales([]).map); // TODO: don't hardcode 'en' everywhere\n    return new DateEnv(Object.assign(Object.assign({ timeZone: BASE_OPTION_DEFAULTS.timeZone, calendarSystem: 'gregory' }, settings), { locale }));\n}\n\n// HELPERS\n/*\nif nextDayThreshold is specified, slicing is done in an all-day fashion.\nyou can get nextDayThreshold from context.nextDayThreshold\n*/\nfunction sliceEvents(props, allDay) {\n    return sliceEventStore(props.eventStore, props.eventUiBases, props.dateProfile.activeRange, allDay ? props.nextDayThreshold : null).fg;\n}\n\nconst version = '6.1.11';\n\nexport { Calendar, createPlugin, formatDate, formatRange, globalLocales, globalPlugins, sliceEvents, version };\n"],"names":["globalLocales","MINIMAL_RAW_EN_LOCALE","code","week","dow","doy","direction","buttonText","prev","next","prevYear","nextYear","year","today","month","day","list","weekText","weekTextLong","closeHint","timeHint","eventHint","allDayText","moreLinkText","noEventsText","RAW_EN_LOCALE","Object","assign","buttonHints","unit","concat","viewHint","navLinkHint","moreLinkHint","eventCnt","organizeRawLocales","explicitRawLocales","defaultCode","length","allRawLocales","rawLocaleMap","en","rawLocale","map","buildLocale","inputSingular","available","Array","isArray","codeArg","codes","raw","i","parts","toLocaleLowerCase","split","j","simpleId","slice","join","queryRawLocale","parseLocale","queryLocale","merged","mergeProps","simpleNumberFormat","Intl","NumberFormat","options","createPlugin","input","id","guid","name","premiumReleaseDate","Date","undefined","deps","reducers","isLoadingFuncs","contextInit","eventRefiners","eventDefMemberAdders","eventSourceRefiners","isDraggableTransformers","eventDragMutationMassagers","eventDefMutationAppliers","dateSelectionTransformers","datePointTransforms","dateSpanTransforms","views","viewPropsTransformers","isPropsValid","externalDefTransforms","viewContainerAppends","eventDropTransformers","componentInteractions","calendarInteractions","themeClasses","eventSourceDefs","cmdFormatter","recurringTypes","namedTimeZonedImpl","initialView","elementDraggingImpl","optionChangeHandlers","scrollGridImpl","listenerRefiners","optionRefiners","propSetHandlers","buildBuildPluginHooks","currentHooks","currentOverrideDefs","currentGlobalDefs","overrideDefs","globalDefs","isArraysEqual","pluginDefs","currentPluginIds","hooks","addDefs","defs","def","pluginName","currentId","hooks1","compareOptionalDates","hooks0","console","warn","buildPluginHooks","date0","date1","Math","max","valueOf","StandardTheme","Theme","ensureViewDef","viewType","hash","defaultConfigs","overrideConfigs","viewDef","defaultConfig","overrideConfig","queryProp","theComponent","superType","superDef","Error","component","type","defaults","rawOptions","overrides","buildViewDef","parseViewConfigs","inputs","mapHash","parseViewConfig","content","createViewHookComponent","prototype","BaseComponent","viewProps","createElement","ViewContextType","Consumer","context","ContentContainer","elTag","elClasses","buildViewClassNames","viewSpec","renderProps","nextDayThreshold","generatorName","customGenerator","classNameGenerator","classNames","didMount","willUnmount","buildViewSpecs","defaultInputs","optionOverrides","dynamicOptionOverrides","localeDefaults","viewDefs","compileViewDefs","durationInput","duration","durationUnit","singleUnit","singleUnitOverrides","json","JSON","stringify","res","durationInputMap","createDuration","createDurationCached","denom","greatestDurationDenominator","value","queryButtonText","optionsSubset","buttonTextMap","buttonTextKey","queryButtonTitle","buttonKey","optionDefaults","buttonTextOverride","buttonTextDefault","BASE_OPTION_DEFAULTS","buttonTitleOverride","buttonHint","buttonTitleDefault","buildViewSpec","classes","root","tableCellShaded","buttonGroup","button","buttonActive","baseIconClass","iconClasses","close","rtlIconClasses","iconOverrideOption","iconOverrideCustomButtonOption","iconOverridePrefix","initEventSources","calendarOptions","dateProfile","activeRange","addSources","refiners","buildEventSourceRefiners","rawSources","eventSources","sources","initialEvents","unshift","events","rawSource","source","parseEventSource","push","parseInitialSources","reduceEventSources","action","eventSourceHash","sourceId","filterHash","eventSource","fetchDirtySources","fetchSourcesByIds","sourceIds","arrayToHash","excludeStaticSources","isRefetch","sourceHash","fetchId","fetchRange","latestFetchId","isFetching","receiveResponse","computeEventSourcesLoading","doesSourceNeedRange","lazyFetching","start","end","isSourceDirty","prevSources","sourceIdHash","nextSources","fetchSource","calendarApi","sourceDef","pluginHooks","sourceDefId","fetch","range","rawEvents","eventSourceSuccess","call","response","success","dispatch","error","errorHandled","eventSourceFailure","failure","message","ignoreRange","reduceDateSelection","currentSelection","selection","reduceSelectedEvent","currentInstanceId","eventInstanceId","reduceEventDrag","currentDrag","newDrag","state","affectedEvents","mutatedEvents","isEvent","reduceEventResize","currentResize","newResize","parseToolbars","calendarOptionOverrides","theme","viewSpecs","header","headerToolbar","parseToolbar","footer","footerToolbar","sectionStrHash","sectionWidgets","viewsWithButtons","hasTitle","sectionName","sectionRes","parseSection","widgets","sectionStr","isRtl","calendarCustomButtons","customButtons","calendarButtonTextOverrides","calendarButtonText","calendarButtonHintOverrides","calendarButtonHints","sectionSubstrs","buttonGroupStr","buttonName","customButtonProps","buttonClick","buttonIcon","ev","click","target","getCustomButtonIconClass","getIconClass","text","hint","changeView","textFallback","formatWithOrdinals","prevOrNext","navUnit","ViewImpl","constructor","getCurrentData","dateEnv","this","calendar","title","viewTitle","activeStart","toDate","activeEnd","currentStart","currentRange","currentEnd","getOption","handleEventSources","unfoundSources","hashValuesToArray","_raw","newInputs","inputFound","splice","unfoundSource","newInput","addEventSource","globalPlugins","parseMeta","refined","arg","successCallback","meta","errorCallback","func","unpromisify","bind","buildRangeApiWithTimeZone","method","String","extraParams","identity","startParam","endParam","timeZoneParam","url","format","toUpperCase","requestParams","customRequestParams","params","formatIso","timeZone","buildRequestParams","requestJson","then","_ref","parse","daysOfWeek","startTime","endTime","startRecur","endRecur","recurringData","createMarker","subtractDurations","allDayGuess","Boolean","typeData","expand","framingRange","clippedFramingRange","intersectRanges","dowHash","dayMarker","startOfDay","endMarker","instanceStarts","instanceStart","getUTCDay","add","addDays","expandRanges","emitter","trigger","view","viewApi","eventStore","hasHandlers","buildEventApis","TaskRunner","runTaskOption","drainedOption","queue","delayedRunner","DelayedRunner","drain","request","task","delay","pause","scope","resume","force","completedTasks","shift","runTask","drained","buildTitle","viewOptions","test","currentRangeUnit","formatRange","createFormatter","titleFormat","days","diffWholeDays","buildTitleFormat","isEndExclusive","isRangeAllDay","defaultSeparator","titleRangeSeparator","CalendarDataManager","props","computeCurrentViewData","memoize","_computeCurrentViewData","buildDateEnv","buildDateEnv$1","buildTheme","buildDateProfileGenerator","memoizeObjArg","buildViewApi","buildViewUiProps","buildEventUiBySource","isPropsEqual","buildEventUiBases","parseContextBusinessHours","Emitter","actionRunner","_handleAction","updateData","currentCalendarOptionsInput","currentCalendarOptionsRefined","currentViewOptionsInput","currentViewOptionsRefined","currentCalendarOptionsRefiners","optionsForRefining","optionsForHandling","data","optionsData","computeOptionsData","currentViewType","currentViewData","currentDataManager","setThisContext","setOptions","currentDate","getInitialDate","dateProfileGenerator","build","rangeContainsMarker","calendarContext","callback","initialState","businessHours","eventUiBases","createEmptyEventStore","renderableEventStore","dateSelection","eventSelection","eventDrag","eventResize","selectionConfig","contextAndState","reducer","computeIsLoading","resetOptions","changedOptionNames","optionName","rawOptionValue","reduceDynamicOptionOverrides","reduceViewType","reduceCurrentDate","currentDateProfile","dp","dateMarker","buildPrev","isValid","buildNext","reduceDateProfile","reduceEventStore","progressiveEventRendering","eventUiSingleBase","eventUiBySource","newState","wasLoading","isLoading","onAction","oldData","changeHandlers","oldCalendarOptions","newCalendarOptions","reduceEventSourcesNewTimeZone","rezoneEventStoreDates","indexOf","onData","stableOptionOverrides","stableDynamicOptionOverrides","stableCalendarOptionsData","refinedOptions","availableLocaleData","extra","processRawCalendarOptions","warnUnknownOptions","locale","weekNumberCalculation","firstDay","defaultRangeSeparator","toolbarConfig","availableRawLocales","locales","mergeRawOptions","plugins","BASE_OPTION_REFINERS","CALENDAR_LISTENER_REFINERS","CALENDAR_OPTION_REFINERS","currentRaw","currentRefined","anyChanges","COMPLEX_OPTION_COMPARATORS","processRawViewOptions","dateProfileGeneratorClass","usesMinMaxTime","slotMinTime","slotMaxTime","showNonCurrentDates","dayCount","dateAlignment","dateIncrement","hiddenDays","weekends","nowInput","now","validRangeInput","validRange","visibleRangeInput","visibleRange","fixedWeekCount","VIEW_OPTION_REFINERS","explicitLocale","DateEnv","calendarSystem","namedTimeZoneImpl","themeSystem","DateProfileGenerator","ui","eventDefs","defId","createEventUi","display","eventDisplay","editable","startEditable","eventStartEditable","durationEditable","eventDurationEditable","constraint","eventConstraint","overlap","eventOverlap","allow","eventAllow","backgroundColor","eventBackgroundColor","borderColor","eventBorderColor","textColor","eventTextColor","color","eventColor","selectConstraint","selectOverlap","selectAllow","isLoadingFunc","parseBusinessHours","viewName","ToolbarSection","render","children","widgetGroups","widgetGroup","renderWidgetGroup","className","isOnlyButtons","widget","titleId","isPressed","activeButton","isDisabled","isTodayEnabled","isPrevEnabled","isNextEnabled","buttonClasses","getClass","disabled","onClick","role","groupClassName","Toolbar","startContent","endContent","model","extraClassName","forceLtr","centerContent","center","left","right","renderSection","key","ViewHarness","super","arguments","availableWidth","handleEl","el","setRef","elRef","updateAvailableWidth","handleResize","aspectRatio","liquid","height","paddingBottom","labeledById","ref","style","componentDidMount","addResizeHandler","componentWillUnmount","removeResizeHandler","setState","offsetWidth","EventClicking","Interaction","settings","handleSegClick","segEl","seg","getElSeg","isValidSegDownEl","hasUrlContainer","elementClosest","querySelector","href","event","EventImpl","eventRange","instance","jsEvent","defaultPrevented","window","location","destroy","listenBySelector","EventHovering","handleEventElRemove","currentSegEl","handleSegLeave","handleSegEnter","triggerEvent","removeHoverListeners","listenToHoverBySelector","publicEvName","CalendarContent","PureComponent","buildViewContext","buildViewPropTransformers","buildToolbarProps","headerRef","createRef","footerRef","interactionsStore","viewLabelId","getUniqueDomId","registerInteractiveComponent","settingsInput","parseInteractionSettings","interactions","TheInteractionClass","uid","interactionSettingsStore","unregisterInteractiveComponent","listeners","listener","resizeRunner","handleWindowResize","windowResizeDelay","viewAspectRatio","toolbarProps","getNow","viewVGrow","viewHeight","isHeightAuto","forPrint","contentHeight","viewContext","Provider","renderView","buildAppendContent","CalendarInteractionClass","addEventListener","propName","componentDidUpdate","prevProps","removeEventListener","clear","interaction","Fragment","transformers","transformer","transform","ViewComponent","todayInfo","prevInfo","nextInfo","theClasses","TheClass","Calendar","CalendarImpl","isRendering","isRendered","currentClassNames","customContentRenderId","handleAction","renderRunner","tryDrain","handleData","currentData","rerenderDelay","handleRenderRequest","flushSync","CalendarRoot","setClassNames","setHeight","RenderId","ensureElHasStyles","wasRendering","updateSize","batchRendering","pauseRendering","resumeRendering","classList","remove","applyStyleProp","formatDate","dateInput","formatter","dateMeta","createMarkerMeta","marker","forcedTzo","startInput","endInput","startMeta","endMeta","forcedStartTzo","forcedEndTzo","sliceEvents","allDay","sliceEventStore","fg","version"],"sourceRoot":""}