"use strict";(self.webpackChunk_kne_components_components_core=self.webpackChunk_kne_components_components_core||[]).push([[6344,6296],{74884:(e,a,r)=>{r.d(a,{c:()=>s});r(46964);const s=r.p+"static/media/defaultAvatar.b1f2a8046cc7bee36d9a404ce6a0a1d7.svg"},76941:(e,a,r)=>{r.d(a,{c:()=>c});var s=r(84768),t=r.n(s),n=r(68086),o=r(39940),l=r.n(o),i=r(82496);const c=e=>{const a=a=>{let{id:r,url:s,error:o,apis:c,loading:d,...g}=a;const{apis:u}=(0,n.usePreset)(),p=l()({},u,c);if(!r)return null;if(!p.oss)throw new Error("\u8bf7\u5728Global\u7ec4\u4ef6\u8bbe\u7f6epreset.apis.oss\u53c2\u6570");return(0,i.jsx)(t(),{...p.oss,updateType:"refresh",error:o,loading:d,params:{id:r},cache:"oss-file",ttl:6e6,render:a=>{let{data:s}=a;return(0,i.jsx)(e,{...g,id:r,data:s})}})};return a.defaultProps={loading:null},a}},63212:(e,a,r)=>{r.r(a),r.d(a,{default:()=>A});var s=r(84768),t=r.n(s),n=r(76941),o=r(5520),l=r(79272),i=r.n(l),c=r(96164),d=r(46964);const g=e=>{let{params:a}=e;const{data:r}=a;return new Promise(((e,a)=>{const s=new window.Image;s.src=r,s.addEventListener("load",(()=>{e(r)})),s.addEventListener("error",(e=>{a(e)}))}))},u="style_img-outer__4QLY5__rgnvX",p="style_img__PSExq__rgnvX",m="style_loading__WCOwA__rgnvX",h="style_error__+ECgZ__rgnvX";var _=r(74884),f=r(82496);const v=e=>{let{data:a,className:r,alt:s,innerLoading:n,loading:o,error:l,innerError:c,children:d}=e;return(0,f.jsx)(t(),{loader:g,params:{data:a},error:c||l,loading:n||o,render:e=>{let{data:a}=e;return"function"===typeof d?d({alt:s,className:i()(r,p),src:a}):(0,f.jsx)("img",{alt:s,className:i()(r,p),src:a})}})},x=(0,n.c)(v),j=e=>{let{loading:a,error:r,src:s,id:t,alt:n,className:o,children:l,apis:i}=e;const c=a&&(0,d.cloneElement)(a,{className:m}),g=r&&(0,d.cloneElement)(r,{className:h});return s?(0,f.jsx)(v,{alt:n,className:o,data:s,loading:c,error:g,children:l}):t?(0,f.jsx)(x,{alt:n,className:o,id:t,loading:c,innerLoading:c,error:g,innerError:g,apis:i,children:l}):g},N=e=>{let{id:a,src:r,alt:s,loading:t,error:n,className:o,apis:l,...c}=e;return(0,f.jsx)("div",{...c,"data-testid":"components-core-image",className:i()(o,u),children:j({loading:t,error:n,src:r,id:a,alt:s,className:o,apis:l})})};N.Avatar=e=>{let{id:a,src:r,alt:s,gender:t,loading:n,error:l,className:d,gap:g,icon:p,children:m,shape:h,size:_,width:v,height:x,defaultAvatar:N,apis:w,...A}=e;const y=(()=>{const e=v&&x?{style:{width:v,height:x}}:{size:_};if(v&&v!==x&&(h="square"),a||r)return j({loading:n,error:l,src:r,defaultAvatar:N,id:a,alt:s,className:d,apis:w,children:a=>(0,f.jsx)(c.Avatar,{...a,gap:g,shape:h,...e})});if(t){const a=t&&["F","female","f"].indexOf(t)>-1?"icon-color-touxiang-nv":"icon-color-touxiang-nan";return(0,f.jsx)(c.Avatar,{...A,src:N||(0,f.jsx)(o.default,{role:"touxiang",colorful:!0,type:a}),gap:g,shape:h,...e})}return(0,f.jsx)(c.Avatar,{...A,gap:g,icon:p,shape:h,size:_,src:N,...e,children:m})})();return(0,f.jsx)("div",{...A,"data-testid":"components-core-image-avatar",className:i()(d,u),style:{width:v&&x?v:_,height:v&&x?x:_},children:y})};const w={error:(0,f.jsx)(o.default,{role:"error-icon",colorful:!0,type:"icon-color-touxiang-nan"}),loading:(0,f.jsx)(c.Skeleton.Avatar,{shape:"square",active:!0})};N.defaultProps=Object.assign({},w),N.Avatar.defaultProps=Object.assign({},w,{size:100,defaultAvatar:_.c});const A=N}}]);
//# sourceMappingURL=6344.cb91a052.chunk.js.map