"use strict";(self.webpackChunk_kne_components_components_core=self.webpackChunk_kne_components_components_core||[]).push([[8725,9034],{18411:(e,a,r)=>{r.d(a,{A:()=>s});r(73884);const s=r.p+"static/media/defaultAvatar.b1f2a8046cc7bee36d9a404ce6a0a1d7.svg"},97211:(e,a,r)=>{r.d(a,{A:()=>c});var s=r(87558),t=r.n(s),n=r(76329),o=r(34677),l=r.n(o),i=r(70579);const c=e=>{const a=a=>{let{id:r,url:s,error:o,apis:c,loading:d,...u}=a;const{apis:p}=(0,n.usePreset)(),g=l()({},p,c);if(!r)return null;if(!g.oss)throw new Error("\u8bf7\u5728Global\u7ec4\u4ef6\u8bbe\u7f6epreset.apis.oss\u53c2\u6570");return(0,i.jsx)(t(),{...g.oss,updateType:"refresh",error:o,loading:d,params:{id:r},cache:"oss-file",ttl:6e6,render:a=>{let{data:s}=a;return(0,i.jsx)(e,{...u,id:r,data:s})}})};return a.defaultProps={loading:null},a}},40438:(e,a,r)=>{r.r(a),r.d(a,{default:()=>w});var s=r(87558),t=r.n(s),n=r(97211),o=r(64671),l=r(83136),i=r.n(l),c=r(55199),d=r(73884);const u=e=>{let{params:a}=e;const{data:r}=a;return new Promise(((e,a)=>{const s=new window.Image;s.src=r,s.addEventListener("load",(()=>{e(r)})),s.addEventListener("error",(e=>{a(e)}))}))},p="style_img-outer__4QLY5__hcBlJ",g="style_img__PSExq__hcBlJ",m="style_loading__WCOwA__hcBlJ",h="style_error__+ECgZ__hcBlJ";var _=r(18411),f=r(70579);const v=e=>{let{data:a,className:r,alt:s,innerLoading:n,loading:o,error:l,innerError:c,children:d}=e;return(0,f.jsx)(t(),{loader:u,params:{data:a},error:c||l,loading:n||o,render:e=>{let{data:a}=e;return"function"===typeof d?d({alt:s,className:i()(r,g),src:a}):(0,f.jsx)("img",{alt:s,className:i()(r,g),src:a})}})},x=(0,n.A)(v),j=e=>{let{loading:a,error:r,src:s,id:t,alt:n,className:o,children:l,apis:i}=e;const c=a&&(0,d.cloneElement)(a,{className:m}),u=r&&(0,d.cloneElement)(r,{className:h});return s?(0,f.jsx)(v,{alt:n,className:o,data:s,loading:c,error:u,children:l}):t?(0,f.jsx)(x,{alt:n,className:o,id:t,loading:c,innerLoading:c,error:u,innerError:u,apis:i,children:l}):u},A=e=>{let{id:a,src:r,alt:s,loading:t,error:n,className:o,apis:l,...c}=e;return(0,f.jsx)("div",{...c,"data-testid":"components-core-image",className:i()(o,p),children:j({loading:t,error:n,src:r,id:a,alt:s,className:o,apis:l})})};A.Avatar=e=>{let{id:a,src:r,alt:s,gender:t,loading:n,error:l,className:d,gap:u,icon:g,children:m,shape:h,size:_,width:v,height:x,defaultAvatar:A,apis:N,...w}=e;const y=(()=>{const e=v&&x?{style:{width:v,height:x}}:{size:_};if(v&&v!==x&&(h="square"),a||r)return j({loading:n,error:l,src:r,defaultAvatar:A,id:a,alt:s,className:d,apis:N,children:a=>(0,f.jsx)(c.Avatar,{...a,gap:u,shape:h,...e})});if(t){const a=t&&["F","female","f"].indexOf(t)>-1?"icon-color-touxiang-nv":"icon-color-touxiang-nan";return(0,f.jsx)(c.Avatar,{...w,src:A||(0,f.jsx)(o.default,{role:"touxiang",colorful:!0,type:a}),gap:u,shape:h,...e})}return(0,f.jsx)(c.Avatar,{...w,gap:u,icon:g,shape:h,size:_,src:A,...e,children:m})})();return(0,f.jsx)("div",{...w,"data-testid":"components-core-image-avatar",className:i()(d,p),style:{width:v&&x?v:_,height:v&&x?x:_},children:y})};const N={error:(0,f.jsx)(o.default,{role:"error-icon",colorful:!0,type:"icon-color-touxiang-nan"}),loading:(0,f.jsx)(c.Skeleton.Avatar,{shape:"square",active:!0})};A.defaultProps=Object.assign({},N),A.Avatar.defaultProps=Object.assign({},N,{size:100,defaultAvatar:_.A});const w=A}}]);
//# sourceMappingURL=8725.8c209220.chunk.js.map